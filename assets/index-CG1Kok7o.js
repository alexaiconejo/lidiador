function hg(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const r=Object.getOwnPropertyDescriptor(a,i);r&&Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function pg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mg={exports:{}},nc={},gg={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=Symbol.for("react.element"),E0=Symbol.for("react.portal"),A0=Symbol.for("react.fragment"),T0=Symbol.for("react.strict_mode"),w0=Symbol.for("react.profiler"),C0=Symbol.for("react.provider"),R0=Symbol.for("react.context"),P0=Symbol.for("react.forward_ref"),L0=Symbol.for("react.suspense"),I0=Symbol.for("react.memo"),D0=Symbol.for("react.lazy"),oh=Symbol.iterator;function N0(t){return t===null||typeof t!="object"?null:(t=oh&&t[oh]||t["@@iterator"],typeof t=="function"?t:null)}var vg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yg=Object.assign,_g={};function $r(t,e,n){this.props=t,this.context=e,this.refs=_g,this.updater=n||vg}$r.prototype.isReactComponent={};$r.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$r.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xg(){}xg.prototype=$r.prototype;function Xd(t,e,n){this.props=t,this.context=e,this.refs=_g,this.updater=n||vg}var Jd=Xd.prototype=new xg;Jd.constructor=Xd;yg(Jd,$r.prototype);Jd.isPureReactComponent=!0;var sh=Array.isArray,Sg=Object.prototype.hasOwnProperty,Kd={current:null},bg={key:!0,ref:!0,__self:!0,__source:!0};function Mg(t,e,n){var a,i={},r=null,o=null;if(e!=null)for(a in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)Sg.call(e,a)&&!bg.hasOwnProperty(a)&&(i[a]=e[a]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(a in s=t.defaultProps,s)i[a]===void 0&&(i[a]=s[a]);return{$$typeof:rs,type:t,key:r,ref:o,props:i,_owner:Kd.current}}function U0(t,e){return{$$typeof:rs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yd(t){return typeof t=="object"&&t!==null&&t.$$typeof===rs}function z0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lh=/\/+/g;function Cc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?z0(""+t.key):e.toString(36)}function ll(t,e,n,a,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rs:case E0:o=!0}}if(o)return o=t,i=i(o),t=a===""?"."+Cc(o,0):a,sh(i)?(n="",t!=null&&(n=t.replace(lh,"$&/")+"/"),ll(i,e,n,"",function(c){return c})):i!=null&&(Yd(i)&&(i=U0(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lh,"$&/")+"/")+t)),e.push(i)),1;if(o=0,a=a===""?".":a+":",sh(t))for(var s=0;s<t.length;s++){r=t[s];var l=a+Cc(r,s);o+=ll(r,e,n,l,i)}else if(l=N0(t),typeof l=="function")for(t=l.call(t),s=0;!(r=t.next()).done;)r=r.value,l=a+Cc(r,s++),o+=ll(r,e,n,l,i);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vs(t,e,n){if(t==null)return t;var a=[],i=0;return ll(t,a,"","",function(r){return e.call(n,r,i++)}),a}function F0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cn={current:null},cl={transition:null},O0={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:cl,ReactCurrentOwner:Kd};function Eg(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:vs,forEach:function(t,e,n){vs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vs(t,function(){e++}),e},toArray:function(t){return vs(t,function(e){return e})||[]},only:function(t){if(!Yd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ze.Component=$r;Ze.Fragment=A0;Ze.Profiler=w0;Ze.PureComponent=Xd;Ze.StrictMode=T0;Ze.Suspense=L0;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O0;Ze.act=Eg;Ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var a=yg({},t.props),i=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=Kd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)Sg.call(e,l)&&!bg.hasOwnProperty(l)&&(a[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];a.children=s}return{$$typeof:rs,type:t.type,key:i,ref:r,props:a,_owner:o}};Ze.createContext=function(t){return t={$$typeof:R0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:C0,_context:t},t.Consumer=t};Ze.createElement=Mg;Ze.createFactory=function(t){var e=Mg.bind(null,t);return e.type=t,e};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(t){return{$$typeof:P0,render:t}};Ze.isValidElement=Yd;Ze.lazy=function(t){return{$$typeof:D0,_payload:{_status:-1,_result:t},_init:F0}};Ze.memo=function(t,e){return{$$typeof:I0,type:t,compare:e===void 0?null:e}};Ze.startTransition=function(t){var e=cl.transition;cl.transition={};try{t()}finally{cl.transition=e}};Ze.unstable_act=Eg;Ze.useCallback=function(t,e){return cn.current.useCallback(t,e)};Ze.useContext=function(t){return cn.current.useContext(t)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(t){return cn.current.useDeferredValue(t)};Ze.useEffect=function(t,e){return cn.current.useEffect(t,e)};Ze.useId=function(){return cn.current.useId()};Ze.useImperativeHandle=function(t,e,n){return cn.current.useImperativeHandle(t,e,n)};Ze.useInsertionEffect=function(t,e){return cn.current.useInsertionEffect(t,e)};Ze.useLayoutEffect=function(t,e){return cn.current.useLayoutEffect(t,e)};Ze.useMemo=function(t,e){return cn.current.useMemo(t,e)};Ze.useReducer=function(t,e,n){return cn.current.useReducer(t,e,n)};Ze.useRef=function(t){return cn.current.useRef(t)};Ze.useState=function(t){return cn.current.useState(t)};Ze.useSyncExternalStore=function(t,e,n){return cn.current.useSyncExternalStore(t,e,n)};Ze.useTransition=function(){return cn.current.useTransition()};Ze.version="18.3.1";gg.exports=Ze;var Z=gg.exports;const Ea=pg(Z),B0=hg({__proto__:null,default:Ea},[Z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0=Z,H0=Symbol.for("react.element"),j0=Symbol.for("react.fragment"),V0=Object.prototype.hasOwnProperty,G0=k0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q0={key:!0,ref:!0,__self:!0,__source:!0};function Ag(t,e,n){var a,i={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(a in e)V0.call(e,a)&&!q0.hasOwnProperty(a)&&(i[a]=e[a]);if(t&&t.defaultProps)for(a in e=t.defaultProps,e)i[a]===void 0&&(i[a]=e[a]);return{$$typeof:H0,type:t,key:r,ref:o,props:i,_owner:G0.current}}nc.Fragment=j0;nc.jsx=Ag;nc.jsxs=Ag;mg.exports=nc;var ee=mg.exports,ku={},Tg={exports:{}},An={},wg={exports:{}},Cg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,W){var X=R.length;R.push(W);e:for(;0<X;){var ce=X-1>>>1,Me=R[ce];if(0<i(Me,W))R[ce]=W,R[X]=Me,X=ce;else break e}}function n(R){return R.length===0?null:R[0]}function a(R){if(R.length===0)return null;var W=R[0],X=R.pop();if(X!==W){R[0]=X;e:for(var ce=0,Me=R.length,Je=Me>>>1;ce<Je;){var V=2*(ce+1)-1,ae=R[V],ge=V+1,le=R[ge];if(0>i(ae,X))ge<Me&&0>i(le,ae)?(R[ce]=le,R[ge]=X,ce=ge):(R[ce]=ae,R[V]=X,ce=V);else if(ge<Me&&0>i(le,X))R[ce]=le,R[ge]=X,ce=ge;else break e}}return W}function i(R,W){var X=R.sortIndex-W.sortIndex;return X!==0?X:R.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,f=null,h=3,p=!1,y=!1,_=!1,m=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var W=n(c);W!==null;){if(W.callback===null)a(c);else if(W.startTime<=R)a(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function b(R){if(_=!1,v(R),!y)if(n(l)!==null)y=!0,se(w);else{var W=n(c);W!==null&&re(b,W.startTime-R)}}function w(R,W){y=!1,_&&(_=!1,d(P),P=-1),p=!0;var X=h;try{for(v(W),f=n(l);f!==null&&(!(f.expirationTime>W)||R&&!N());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,h=f.priorityLevel;var Me=ce(f.expirationTime<=W);W=t.unstable_now(),typeof Me=="function"?f.callback=Me:f===n(l)&&a(l),v(W)}else a(l);f=n(l)}if(f!==null)var Je=!0;else{var V=n(c);V!==null&&re(b,V.startTime-W),Je=!1}return Je}finally{f=null,h=X,p=!1}}var T=!1,x=null,P=-1,E=5,S=-1;function N(){return!(t.unstable_now()-S<E)}function q(){if(x!==null){var R=t.unstable_now();S=R;var W=!0;try{W=x(!0,R)}finally{W?I():(T=!1,x=null)}}else T=!1}var I;if(typeof g=="function")I=function(){g(q)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,K=J.port2;J.port1.onmessage=q,I=function(){K.postMessage(null)}}else I=function(){m(q,0)};function se(R){x=R,T||(T=!0,I())}function re(R,W){P=m(function(){R(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,se(w))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var X=h;h=W;try{return R()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,W){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var X=h;h=R;try{return W()}finally{h=X}},t.unstable_scheduleCallback=function(R,W,X){var ce=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ce+X:ce):X=ce,R){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=X+Me,R={id:u++,callback:W,priorityLevel:R,startTime:X,expirationTime:Me,sortIndex:-1},X>ce?(R.sortIndex=X,e(c,R),n(l)===null&&R===n(c)&&(_?(d(P),P=-1):_=!0,re(b,X-ce))):(R.sortIndex=Me,e(l,R),y||p||(y=!0,se(w))),R},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(R){var W=h;return function(){var X=h;h=W;try{return R.apply(this,arguments)}finally{h=X}}}})(Cg);wg.exports=Cg;var W0=wg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0=Z,En=W0;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rg=new Set,Oo={};function Ji(t,e){kr(t,e),kr(t+"Capture",e)}function kr(t,e){for(Oo[t]=e,t=0;t<e.length;t++)Rg.add(e[t])}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hu=Object.prototype.hasOwnProperty,J0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ch={},uh={};function K0(t){return Hu.call(uh,t)?!0:Hu.call(ch,t)?!1:J0.test(t)?uh[t]=!0:(ch[t]=!0,!1)}function Y0(t,e,n,a){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $0(t,e,n,a){if(e===null||typeof e>"u"||Y0(t,e,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function un(t,e,n,a,i,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=a,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Jt[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Jt[e]=new un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Jt[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Jt[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Jt[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Jt[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Jt[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Jt[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Jt[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var $d=/[\-:]([a-z])/g;function Zd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($d,Zd);Jt[e]=new un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($d,Zd);Jt[e]=new un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($d,Zd);Jt[e]=new un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Jt[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Jt[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qd(t,e,n,a){var i=Jt.hasOwnProperty(e)?Jt[e]:null;(i!==null?i.type!==0:a||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($0(e,n,i,a)&&(n=null),a||i===null?K0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,a=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,a?t.setAttributeNS(a,e,n):t.setAttribute(e,n))))}var La=X0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ys=Symbol.for("react.element"),vr=Symbol.for("react.portal"),yr=Symbol.for("react.fragment"),ef=Symbol.for("react.strict_mode"),ju=Symbol.for("react.profiler"),Pg=Symbol.for("react.provider"),Lg=Symbol.for("react.context"),tf=Symbol.for("react.forward_ref"),Vu=Symbol.for("react.suspense"),Gu=Symbol.for("react.suspense_list"),nf=Symbol.for("react.memo"),Va=Symbol.for("react.lazy"),Ig=Symbol.for("react.offscreen"),dh=Symbol.iterator;function ro(t){return t===null||typeof t!="object"?null:(t=dh&&t[dh]||t["@@iterator"],typeof t=="function"?t:null)}var Tt=Object.assign,Rc;function Mo(t){if(Rc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rc=e&&e[1]||""}return`
`+Rc+t}var Pc=!1;function Lc(t,e){if(!t||Pc)return"";Pc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var a=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){a=c}t.call(e.prototype)}else{try{throw Error()}catch(c){a=c}t()}}catch(c){if(c&&a&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),r=a.stack.split(`
`),o=i.length-1,s=r.length-1;1<=o&&0<=s&&i[o]!==r[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==r[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==r[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{Pc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Mo(t):""}function Z0(t){switch(t.tag){case 5:return Mo(t.type);case 16:return Mo("Lazy");case 13:return Mo("Suspense");case 19:return Mo("SuspenseList");case 0:case 2:case 15:return t=Lc(t.type,!1),t;case 11:return t=Lc(t.type.render,!1),t;case 1:return t=Lc(t.type,!0),t;default:return""}}function qu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yr:return"Fragment";case vr:return"Portal";case ju:return"Profiler";case ef:return"StrictMode";case Vu:return"Suspense";case Gu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lg:return(t.displayName||"Context")+".Consumer";case Pg:return(t._context.displayName||"Context")+".Provider";case tf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nf:return e=t.displayName||null,e!==null?e:qu(t.type)||"Memo";case Va:e=t._payload,t=t._init;try{return qu(t(e))}catch{}}return null}function Q0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qu(e);case 8:return e===ef?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function si(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Dg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function e_(t){var e=Dg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),a=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){a=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _s(t){t._valueTracker||(t._valueTracker=e_(t))}function Ng(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),a="";return t&&(a=Dg(t)?t.checked?"true":"false":t.value),t=a,t!==n?(e.setValue(t),!0):!1}function Sl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wu(t,e){var n=e.checked;return Tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fh(t,e){var n=e.defaultValue==null?"":e.defaultValue,a=e.checked!=null?e.checked:e.defaultChecked;n=si(e.value!=null?e.value:n),t._wrapperState={initialChecked:a,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ug(t,e){e=e.checked,e!=null&&Qd(t,"checked",e,!1)}function Xu(t,e){Ug(t,e);var n=si(e.value),a=e.type;if(n!=null)a==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ju(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ju(t,e.type,si(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var a=e.type;if(!(a!=="submit"&&a!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ju(t,e,n){(e!=="number"||Sl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Eo=Array.isArray;function Lr(t,e,n,a){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&a&&(t[n].defaultSelected=!0)}else{for(n=""+si(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,a&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ku(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ph(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(Eo(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:si(n)}}function zg(t,e){var n=si(e.value),a=si(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),a!=null&&(t.defaultValue=""+a)}function mh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Fg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Fg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xs,Og=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,a,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,a,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xs=xs||document.createElement("div"),xs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t_=["Webkit","ms","Moz","O"];Object.keys(Co).forEach(function(t){t_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Co[e]=Co[t]})});function Bg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Co.hasOwnProperty(t)&&Co[t]?(""+e).trim():e+"px"}function kg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var a=n.indexOf("--")===0,i=Bg(n,e[n],a);n==="float"&&(n="cssFloat"),a?t.setProperty(n,i):t[n]=i}}var n_=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $u(t,e){if(e){if(n_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function Zu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=null;function af(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ed=null,Ir=null,Dr=null;function gh(t){if(t=ls(t)){if(typeof ed!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=sc(e),ed(t.stateNode,t.type,e))}}function Hg(t){Ir?Dr?Dr.push(t):Dr=[t]:Ir=t}function jg(){if(Ir){var t=Ir,e=Dr;if(Dr=Ir=null,gh(t),e)for(t=0;t<e.length;t++)gh(e[t])}}function Vg(t,e){return t(e)}function Gg(){}var Ic=!1;function qg(t,e,n){if(Ic)return t(e,n);Ic=!0;try{return Vg(t,e,n)}finally{Ic=!1,(Ir!==null||Dr!==null)&&(Gg(),jg())}}function ko(t,e){var n=t.stateNode;if(n===null)return null;var a=sc(n);if(a===null)return null;n=a[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var td=!1;if(wa)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){td=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{td=!1}function a_(t,e,n,a,i,r,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ro=!1,bl=null,Ml=!1,nd=null,i_={onError:function(t){Ro=!0,bl=t}};function r_(t,e,n,a,i,r,o,s,l){Ro=!1,bl=null,a_.apply(i_,arguments)}function o_(t,e,n,a,i,r,o,s,l){if(r_.apply(this,arguments),Ro){if(Ro){var c=bl;Ro=!1,bl=null}else throw Error(oe(198));Ml||(Ml=!0,nd=c)}}function Ki(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Wg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vh(t){if(Ki(t)!==t)throw Error(oe(188))}function s_(t){var e=t.alternate;if(!e){if(e=Ki(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,a=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return vh(i),t;if(r===a)return vh(i),e;r=r.sibling}throw Error(oe(188))}if(n.return!==a.return)n=i,a=r;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,a=r;break}if(s===a){o=!0,a=i,n=r;break}s=s.sibling}if(!o){for(s=r.child;s;){if(s===n){o=!0,n=r,a=i;break}if(s===a){o=!0,a=r,n=i;break}s=s.sibling}if(!o)throw Error(oe(189))}}if(n.alternate!==a)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function Xg(t){return t=s_(t),t!==null?Jg(t):null}function Jg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jg(t);if(e!==null)return e;t=t.sibling}return null}var Kg=En.unstable_scheduleCallback,yh=En.unstable_cancelCallback,l_=En.unstable_shouldYield,c_=En.unstable_requestPaint,Pt=En.unstable_now,u_=En.unstable_getCurrentPriorityLevel,rf=En.unstable_ImmediatePriority,Yg=En.unstable_UserBlockingPriority,El=En.unstable_NormalPriority,d_=En.unstable_LowPriority,$g=En.unstable_IdlePriority,ac=null,la=null;function f_(t){if(la&&typeof la.onCommitFiberRoot=="function")try{la.onCommitFiberRoot(ac,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:m_,h_=Math.log,p_=Math.LN2;function m_(t){return t>>>=0,t===0?32:31-(h_(t)/p_|0)|0}var Ss=64,bs=4194304;function Ao(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Al(t,e){var n=t.pendingLanes;if(n===0)return 0;var a=0,i=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?a=Ao(s):(r&=o,r!==0&&(a=Ao(r)))}else o=n&~i,o!==0?a=Ao(o):r!==0&&(a=Ao(r));if(a===0)return 0;if(e!==0&&e!==a&&!(e&i)&&(i=a&-a,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(a&4&&(a|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=a;0<e;)n=31-Yn(e),i=1<<n,a|=t[n],e&=~i;return a}function g_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v_(t,e){for(var n=t.suspendedLanes,a=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-Yn(r),s=1<<o,l=i[o];l===-1?(!(s&n)||s&a)&&(i[o]=g_(s,e)):l<=e&&(t.expiredLanes|=s),r&=~s}}function ad(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Zg(){var t=Ss;return Ss<<=1,!(Ss&4194240)&&(Ss=64),t}function Dc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function os(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=n}function y_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yn(n),r=1<<i;e[i]=0,a[i]=-1,t[i]=-1,n&=~r}}function of(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var a=31-Yn(n),i=1<<a;i&e|t[a]&e&&(t[a]|=e),n&=~i}}var st=0;function Qg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ev,sf,tv,nv,av,id=!1,Ms=[],$a=null,Za=null,Qa=null,Ho=new Map,jo=new Map,qa=[],__="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _h(t,e){switch(t){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":Ho.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(e.pointerId)}}function so(t,e,n,a,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[i]},e!==null&&(e=ls(e),e!==null&&sf(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function x_(t,e,n,a,i){switch(e){case"focusin":return $a=so($a,t,e,n,a,i),!0;case"dragenter":return Za=so(Za,t,e,n,a,i),!0;case"mouseover":return Qa=so(Qa,t,e,n,a,i),!0;case"pointerover":var r=i.pointerId;return Ho.set(r,so(Ho.get(r)||null,t,e,n,a,i)),!0;case"gotpointercapture":return r=i.pointerId,jo.set(r,so(jo.get(r)||null,t,e,n,a,i)),!0}return!1}function iv(t){var e=Li(t.target);if(e!==null){var n=Ki(e);if(n!==null){if(e=n.tag,e===13){if(e=Wg(n),e!==null){t.blockedOn=e,av(t.priority,function(){tv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ul(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);Qu=a,n.target.dispatchEvent(a),Qu=null}else return e=ls(n),e!==null&&sf(e),t.blockedOn=n,!1;e.shift()}return!0}function xh(t,e,n){ul(t)&&n.delete(e)}function S_(){id=!1,$a!==null&&ul($a)&&($a=null),Za!==null&&ul(Za)&&(Za=null),Qa!==null&&ul(Qa)&&(Qa=null),Ho.forEach(xh),jo.forEach(xh)}function lo(t,e){t.blockedOn===e&&(t.blockedOn=null,id||(id=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,S_)))}function Vo(t){function e(i){return lo(i,t)}if(0<Ms.length){lo(Ms[0],t);for(var n=1;n<Ms.length;n++){var a=Ms[n];a.blockedOn===t&&(a.blockedOn=null)}}for($a!==null&&lo($a,t),Za!==null&&lo(Za,t),Qa!==null&&lo(Qa,t),Ho.forEach(e),jo.forEach(e),n=0;n<qa.length;n++)a=qa[n],a.blockedOn===t&&(a.blockedOn=null);for(;0<qa.length&&(n=qa[0],n.blockedOn===null);)iv(n),n.blockedOn===null&&qa.shift()}var Nr=La.ReactCurrentBatchConfig,Tl=!0;function b_(t,e,n,a){var i=st,r=Nr.transition;Nr.transition=null;try{st=1,lf(t,e,n,a)}finally{st=i,Nr.transition=r}}function M_(t,e,n,a){var i=st,r=Nr.transition;Nr.transition=null;try{st=4,lf(t,e,n,a)}finally{st=i,Nr.transition=r}}function lf(t,e,n,a){if(Tl){var i=rd(t,e,n,a);if(i===null)Vc(t,e,a,wl,n),_h(t,a);else if(x_(i,t,e,n,a))a.stopPropagation();else if(_h(t,a),e&4&&-1<__.indexOf(t)){for(;i!==null;){var r=ls(i);if(r!==null&&ev(r),r=rd(t,e,n,a),r===null&&Vc(t,e,a,wl,n),r===i)break;i=r}i!==null&&a.stopPropagation()}else Vc(t,e,a,null,n)}}var wl=null;function rd(t,e,n,a){if(wl=null,t=af(a),t=Li(t),t!==null)if(e=Ki(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Wg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wl=t,null}function rv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u_()){case rf:return 1;case Yg:return 4;case El:case d_:return 16;case $g:return 536870912;default:return 16}default:return 16}}var Ja=null,cf=null,dl=null;function ov(){if(dl)return dl;var t,e=cf,n=e.length,a,i="value"in Ja?Ja.value:Ja.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(a=1;a<=o&&e[n-a]===i[r-a];a++);return dl=i.slice(t,1<a?1-a:void 0)}function fl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Es(){return!0}function Sh(){return!1}function Tn(t){function e(n,a,i,r,o){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(r):r[s]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Es:Sh,this.isPropagationStopped=Sh,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),e}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uf=Tn(Zr),ss=Tt({},Zr,{view:0,detail:0}),E_=Tn(ss),Nc,Uc,co,ic=Tt({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:df,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==co&&(co&&t.type==="mousemove"?(Nc=t.screenX-co.screenX,Uc=t.screenY-co.screenY):Uc=Nc=0,co=t),Nc)},movementY:function(t){return"movementY"in t?t.movementY:Uc}}),bh=Tn(ic),A_=Tt({},ic,{dataTransfer:0}),T_=Tn(A_),w_=Tt({},ss,{relatedTarget:0}),zc=Tn(w_),C_=Tt({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),R_=Tn(C_),P_=Tt({},Zr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),L_=Tn(P_),I_=Tt({},Zr,{data:0}),Mh=Tn(I_),D_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=U_[t])?!!e[t]:!1}function df(){return z_}var F_=Tt({},ss,{key:function(t){if(t.key){var e=D_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:df,charCode:function(t){return t.type==="keypress"?fl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),O_=Tn(F_),B_=Tt({},ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eh=Tn(B_),k_=Tt({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:df}),H_=Tn(k_),j_=Tt({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),V_=Tn(j_),G_=Tt({},ic,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q_=Tn(G_),W_=[9,13,27,32],ff=wa&&"CompositionEvent"in window,Po=null;wa&&"documentMode"in document&&(Po=document.documentMode);var X_=wa&&"TextEvent"in window&&!Po,sv=wa&&(!ff||Po&&8<Po&&11>=Po),Ah=" ",Th=!1;function lv(t,e){switch(t){case"keyup":return W_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _r=!1;function J_(t,e){switch(t){case"compositionend":return cv(e);case"keypress":return e.which!==32?null:(Th=!0,Ah);case"textInput":return t=e.data,t===Ah&&Th?null:t;default:return null}}function K_(t,e){if(_r)return t==="compositionend"||!ff&&lv(t,e)?(t=ov(),dl=cf=Ja=null,_r=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sv&&e.locale!=="ko"?null:e.data;default:return null}}var Y_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y_[t.type]:e==="textarea"}function uv(t,e,n,a){Hg(a),e=Cl(e,"onChange"),0<e.length&&(n=new uf("onChange","change",null,n,a),t.push({event:n,listeners:e}))}var Lo=null,Go=null;function $_(t){Sv(t,0)}function rc(t){var e=br(t);if(Ng(e))return t}function Z_(t,e){if(t==="change")return e}var dv=!1;if(wa){var Fc;if(wa){var Oc="oninput"in document;if(!Oc){var Ch=document.createElement("div");Ch.setAttribute("oninput","return;"),Oc=typeof Ch.oninput=="function"}Fc=Oc}else Fc=!1;dv=Fc&&(!document.documentMode||9<document.documentMode)}function Rh(){Lo&&(Lo.detachEvent("onpropertychange",fv),Go=Lo=null)}function fv(t){if(t.propertyName==="value"&&rc(Go)){var e=[];uv(e,Go,t,af(t)),qg($_,e)}}function Q_(t,e,n){t==="focusin"?(Rh(),Lo=e,Go=n,Lo.attachEvent("onpropertychange",fv)):t==="focusout"&&Rh()}function ex(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rc(Go)}function tx(t,e){if(t==="click")return rc(e)}function nx(t,e){if(t==="input"||t==="change")return rc(e)}function ax(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qn=typeof Object.is=="function"?Object.is:ax;function qo(t,e){if(Qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Hu.call(e,i)||!Qn(t[i],e[i]))return!1}return!0}function Ph(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lh(t,e){var n=Ph(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=e&&a>=e)return{node:n,offset:e-t};t=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ph(n)}}function hv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pv(){for(var t=window,e=Sl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sl(t.document)}return e}function hf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ix(t){var e=pv(),n=t.focusedElem,a=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hv(n.ownerDocument.documentElement,n)){if(a!==null&&hf(n)){if(e=a.start,t=a.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,r=Math.min(a.start,i);a=a.end===void 0?r:Math.min(a.end,i),!t.extend&&r>a&&(i=a,a=r,r=i),i=Lh(n,r);var o=Lh(n,a);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),r>a?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rx=wa&&"documentMode"in document&&11>=document.documentMode,xr=null,od=null,Io=null,sd=!1;function Ih(t,e,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sd||xr==null||xr!==Sl(a)||(a=xr,"selectionStart"in a&&hf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Io&&qo(Io,a)||(Io=a,a=Cl(od,"onSelect"),0<a.length&&(e=new uf("onSelect","select",null,e,n),t.push({event:e,listeners:a}),e.target=xr)))}function As(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sr={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionend:As("Transition","TransitionEnd")},Bc={},mv={};wa&&(mv=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function oc(t){if(Bc[t])return Bc[t];if(!Sr[t])return t;var e=Sr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mv)return Bc[t]=e[n];return t}var gv=oc("animationend"),vv=oc("animationiteration"),yv=oc("animationstart"),_v=oc("transitionend"),xv=new Map,Dh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(t,e){xv.set(t,e),Ji(e,[t])}for(var kc=0;kc<Dh.length;kc++){var Hc=Dh[kc],ox=Hc.toLowerCase(),sx=Hc[0].toUpperCase()+Hc.slice(1);fi(ox,"on"+sx)}fi(gv,"onAnimationEnd");fi(vv,"onAnimationIteration");fi(yv,"onAnimationStart");fi("dblclick","onDoubleClick");fi("focusin","onFocus");fi("focusout","onBlur");fi(_v,"onTransitionEnd");kr("onMouseEnter",["mouseout","mouseover"]);kr("onMouseLeave",["mouseout","mouseover"]);kr("onPointerEnter",["pointerout","pointerover"]);kr("onPointerLeave",["pointerout","pointerover"]);Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lx=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function Nh(t,e,n){var a=t.type||"unknown-event";t.currentTarget=n,o_(a,e,void 0,t),t.currentTarget=null}function Sv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],i=a.event;a=a.listeners;e:{var r=void 0;if(e)for(var o=a.length-1;0<=o;o--){var s=a[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==r&&i.isPropagationStopped())break e;Nh(i,s,c),r=l}else for(o=0;o<a.length;o++){if(s=a[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==r&&i.isPropagationStopped())break e;Nh(i,s,c),r=l}}}if(Ml)throw t=nd,Ml=!1,nd=null,t}function pt(t,e){var n=e[fd];n===void 0&&(n=e[fd]=new Set);var a=t+"__bubble";n.has(a)||(bv(e,t,2,!1),n.add(a))}function jc(t,e,n){var a=0;e&&(a|=4),bv(n,t,a,e)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function Wo(t){if(!t[Ts]){t[Ts]=!0,Rg.forEach(function(n){n!=="selectionchange"&&(lx.has(n)||jc(n,!1,t),jc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ts]||(e[Ts]=!0,jc("selectionchange",!1,e))}}function bv(t,e,n,a){switch(rv(e)){case 1:var i=b_;break;case 4:i=M_;break;default:i=lf}n=i.bind(null,e,n,t),i=void 0,!td||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),a?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vc(t,e,n,a,i){var r=a;if(!(e&1)&&!(e&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var s=a.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=a.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Li(s),o===null)return;if(l=o.tag,l===5||l===6){a=r=o;continue e}s=s.parentNode}}a=a.return}qg(function(){var c=r,u=af(n),f=[];e:{var h=xv.get(t);if(h!==void 0){var p=uf,y=t;switch(t){case"keypress":if(fl(n)===0)break e;case"keydown":case"keyup":p=O_;break;case"focusin":y="focus",p=zc;break;case"focusout":y="blur",p=zc;break;case"beforeblur":case"afterblur":p=zc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=bh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=T_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=H_;break;case gv:case vv:case yv:p=R_;break;case _v:p=V_;break;case"scroll":p=E_;break;case"wheel":p=q_;break;case"copy":case"cut":case"paste":p=L_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Eh}var _=(e&4)!==0,m=!_&&t==="scroll",d=_?h!==null?h+"Capture":null:h;_=[];for(var g=c,v;g!==null;){v=g;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,d!==null&&(b=ko(g,d),b!=null&&_.push(Xo(g,b,v)))),m)break;g=g.return}0<_.length&&(h=new p(h,y,null,n,u),f.push({event:h,listeners:_}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Qu&&(y=n.relatedTarget||n.fromElement)&&(Li(y)||y[Ca]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?Li(y):null,y!==null&&(m=Ki(y),y!==m||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(_=bh,b="onMouseLeave",d="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=Eh,b="onPointerLeave",d="onPointerEnter",g="pointer"),m=p==null?h:br(p),v=y==null?h:br(y),h=new _(b,g+"leave",p,n,u),h.target=m,h.relatedTarget=v,b=null,Li(u)===c&&(_=new _(d,g+"enter",y,n,u),_.target=v,_.relatedTarget=m,b=_),m=b,p&&y)t:{for(_=p,d=y,g=0,v=_;v;v=Zi(v))g++;for(v=0,b=d;b;b=Zi(b))v++;for(;0<g-v;)_=Zi(_),g--;for(;0<v-g;)d=Zi(d),v--;for(;g--;){if(_===d||d!==null&&_===d.alternate)break t;_=Zi(_),d=Zi(d)}_=null}else _=null;p!==null&&Uh(f,h,p,_,!1),y!==null&&m!==null&&Uh(f,m,y,_,!0)}}e:{if(h=c?br(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=Z_;else if(wh(h))if(dv)w=nx;else{w=ex;var T=Q_}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=tx);if(w&&(w=w(t,c))){uv(f,w,n,u);break e}T&&T(t,h,c),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Ju(h,"number",h.value)}switch(T=c?br(c):window,t){case"focusin":(wh(T)||T.contentEditable==="true")&&(xr=T,od=c,Io=null);break;case"focusout":Io=od=xr=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,Ih(f,n,u);break;case"selectionchange":if(rx)break;case"keydown":case"keyup":Ih(f,n,u)}var x;if(ff)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else _r?lv(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(sv&&n.locale!=="ko"&&(_r||P!=="onCompositionStart"?P==="onCompositionEnd"&&_r&&(x=ov()):(Ja=u,cf="value"in Ja?Ja.value:Ja.textContent,_r=!0)),T=Cl(c,P),0<T.length&&(P=new Mh(P,t,null,n,u),f.push({event:P,listeners:T}),x?P.data=x:(x=cv(n),x!==null&&(P.data=x)))),(x=X_?J_(t,n):K_(t,n))&&(c=Cl(c,"onBeforeInput"),0<c.length&&(u=new Mh("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=x))}Sv(f,e)})}function Xo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cl(t,e){for(var n=e+"Capture",a=[];t!==null;){var i=t,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=ko(t,n),r!=null&&a.unshift(Xo(t,r,i)),r=ko(t,e),r!=null&&a.push(Xo(t,r,i))),t=t.return}return a}function Zi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uh(t,e,n,a,i){for(var r=e._reactName,o=[];n!==null&&n!==a;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===a)break;s.tag===5&&c!==null&&(s=c,i?(l=ko(n,r),l!=null&&o.unshift(Xo(n,l,s))):i||(l=ko(n,r),l!=null&&o.push(Xo(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cx=/\r\n?/g,ux=/\u0000|\uFFFD/g;function zh(t){return(typeof t=="string"?t:""+t).replace(cx,`
`).replace(ux,"")}function ws(t,e,n){if(e=zh(e),zh(t)!==e&&n)throw Error(oe(425))}function Rl(){}var ld=null,cd=null;function ud(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dd=typeof setTimeout=="function"?setTimeout:void 0,dx=typeof clearTimeout=="function"?clearTimeout:void 0,Fh=typeof Promise=="function"?Promise:void 0,fx=typeof queueMicrotask=="function"?queueMicrotask:typeof Fh<"u"?function(t){return Fh.resolve(null).then(t).catch(hx)}:dd;function hx(t){setTimeout(function(){throw t})}function Gc(t,e){var n=e,a=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(a===0){t.removeChild(i),Vo(e);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=i}while(n);Vo(e)}function ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Oh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qr=Math.random().toString(36).slice(2),ia="__reactFiber$"+Qr,Jo="__reactProps$"+Qr,Ca="__reactContainer$"+Qr,fd="__reactEvents$"+Qr,px="__reactListeners$"+Qr,mx="__reactHandles$"+Qr;function Li(t){var e=t[ia];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ca]||n[ia]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Oh(t);t!==null;){if(n=t[ia])return n;t=Oh(t)}return e}t=n,n=t.parentNode}return null}function ls(t){return t=t[ia]||t[Ca],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function br(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function sc(t){return t[Jo]||null}var hd=[],Mr=-1;function hi(t){return{current:t}}function gt(t){0>Mr||(t.current=hd[Mr],hd[Mr]=null,Mr--)}function ht(t,e){Mr++,hd[Mr]=t.current,t.current=e}var li={},tn=hi(li),mn=hi(!1),ki=li;function Hr(t,e){var n=t.type.contextTypes;if(!n)return li;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===e)return a.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=e[r];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gn(t){return t=t.childContextTypes,t!=null}function Pl(){gt(mn),gt(tn)}function Bh(t,e,n){if(tn.current!==li)throw Error(oe(168));ht(tn,e),ht(mn,n)}function Mv(t,e,n){var a=t.stateNode;if(e=e.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var i in a)if(!(i in e))throw Error(oe(108,Q0(t)||"Unknown",i));return Tt({},n,a)}function Ll(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||li,ki=tn.current,ht(tn,t),ht(mn,mn.current),!0}function kh(t,e,n){var a=t.stateNode;if(!a)throw Error(oe(169));n?(t=Mv(t,e,ki),a.__reactInternalMemoizedMergedChildContext=t,gt(mn),gt(tn),ht(tn,t)):gt(mn),ht(mn,n)}var _a=null,lc=!1,qc=!1;function Ev(t){_a===null?_a=[t]:_a.push(t)}function gx(t){lc=!0,Ev(t)}function pi(){if(!qc&&_a!==null){qc=!0;var t=0,e=st;try{var n=_a;for(st=1;t<n.length;t++){var a=n[t];do a=a(!0);while(a!==null)}_a=null,lc=!1}catch(i){throw _a!==null&&(_a=_a.slice(t+1)),Kg(rf,pi),i}finally{st=e,qc=!1}}return null}var Er=[],Ar=0,Il=null,Dl=0,Pn=[],Ln=0,Hi=null,Sa=1,ba="";function Ai(t,e){Er[Ar++]=Dl,Er[Ar++]=Il,Il=t,Dl=e}function Av(t,e,n){Pn[Ln++]=Sa,Pn[Ln++]=ba,Pn[Ln++]=Hi,Hi=t;var a=Sa;t=ba;var i=32-Yn(a)-1;a&=~(1<<i),n+=1;var r=32-Yn(e)+i;if(30<r){var o=i-i%5;r=(a&(1<<o)-1).toString(32),a>>=o,i-=o,Sa=1<<32-Yn(e)+i|n<<i|a,ba=r+t}else Sa=1<<r|n<<i|a,ba=t}function pf(t){t.return!==null&&(Ai(t,1),Av(t,1,0))}function mf(t){for(;t===Il;)Il=Er[--Ar],Er[Ar]=null,Dl=Er[--Ar],Er[Ar]=null;for(;t===Hi;)Hi=Pn[--Ln],Pn[Ln]=null,ba=Pn[--Ln],Pn[Ln]=null,Sa=Pn[--Ln],Pn[Ln]=null}var Mn=null,bn=null,St=!1,Jn=null;function Tv(t,e){var n=Nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,bn=ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hi!==null?{id:Sa,overflow:ba}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mn=t,bn=null,!0):!1;default:return!1}}function pd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function md(t){if(St){var e=bn;if(e){var n=e;if(!Hh(t,e)){if(pd(t))throw Error(oe(418));e=ei(n.nextSibling);var a=Mn;e&&Hh(t,e)?Tv(a,n):(t.flags=t.flags&-4097|2,St=!1,Mn=t)}}else{if(pd(t))throw Error(oe(418));t.flags=t.flags&-4097|2,St=!1,Mn=t}}}function jh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function Cs(t){if(t!==Mn)return!1;if(!St)return jh(t),St=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ud(t.type,t.memoizedProps)),e&&(e=bn)){if(pd(t))throw wv(),Error(oe(418));for(;e;)Tv(t,e),e=ei(e.nextSibling)}if(jh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bn=ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bn=null}}else bn=Mn?ei(t.stateNode.nextSibling):null;return!0}function wv(){for(var t=bn;t;)t=ei(t.nextSibling)}function jr(){bn=Mn=null,St=!1}function gf(t){Jn===null?Jn=[t]:Jn.push(t)}var vx=La.ReactCurrentBatchConfig;function uo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var a=n.stateNode}if(!a)throw Error(oe(147,t));var i=a,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var s=i.refs;o===null?delete s[r]:s[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function Rs(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vh(t){var e=t._init;return e(t._payload)}function Cv(t){function e(d,g){if(t){var v=d.deletions;v===null?(d.deletions=[g],d.flags|=16):v.push(g)}}function n(d,g){if(!t)return null;for(;g!==null;)e(d,g),g=g.sibling;return null}function a(d,g){for(d=new Map;g!==null;)g.key!==null?d.set(g.key,g):d.set(g.index,g),g=g.sibling;return d}function i(d,g){return d=ii(d,g),d.index=0,d.sibling=null,d}function r(d,g,v){return d.index=v,t?(v=d.alternate,v!==null?(v=v.index,v<g?(d.flags|=2,g):v):(d.flags|=2,g)):(d.flags|=1048576,g)}function o(d){return t&&d.alternate===null&&(d.flags|=2),d}function s(d,g,v,b){return g===null||g.tag!==6?(g=Zc(v,d.mode,b),g.return=d,g):(g=i(g,v),g.return=d,g)}function l(d,g,v,b){var w=v.type;return w===yr?u(d,g,v.props.children,b,v.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Va&&Vh(w)===g.type)?(b=i(g,v.props),b.ref=uo(d,g,v),b.return=d,b):(b=_l(v.type,v.key,v.props,null,d.mode,b),b.ref=uo(d,g,v),b.return=d,b)}function c(d,g,v,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Qc(v,d.mode,b),g.return=d,g):(g=i(g,v.children||[]),g.return=d,g)}function u(d,g,v,b,w){return g===null||g.tag!==7?(g=Bi(v,d.mode,b,w),g.return=d,g):(g=i(g,v),g.return=d,g)}function f(d,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Zc(""+g,d.mode,v),g.return=d,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ys:return v=_l(g.type,g.key,g.props,null,d.mode,v),v.ref=uo(d,null,g),v.return=d,v;case vr:return g=Qc(g,d.mode,v),g.return=d,g;case Va:var b=g._init;return f(d,b(g._payload),v)}if(Eo(g)||ro(g))return g=Bi(g,d.mode,v,null),g.return=d,g;Rs(d,g)}return null}function h(d,g,v,b){var w=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:s(d,g,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ys:return v.key===w?l(d,g,v,b):null;case vr:return v.key===w?c(d,g,v,b):null;case Va:return w=v._init,h(d,g,w(v._payload),b)}if(Eo(v)||ro(v))return w!==null?null:u(d,g,v,b,null);Rs(d,v)}return null}function p(d,g,v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return d=d.get(v)||null,s(g,d,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ys:return d=d.get(b.key===null?v:b.key)||null,l(g,d,b,w);case vr:return d=d.get(b.key===null?v:b.key)||null,c(g,d,b,w);case Va:var T=b._init;return p(d,g,v,T(b._payload),w)}if(Eo(b)||ro(b))return d=d.get(v)||null,u(g,d,b,w,null);Rs(g,b)}return null}function y(d,g,v,b){for(var w=null,T=null,x=g,P=g=0,E=null;x!==null&&P<v.length;P++){x.index>P?(E=x,x=null):E=x.sibling;var S=h(d,x,v[P],b);if(S===null){x===null&&(x=E);break}t&&x&&S.alternate===null&&e(d,x),g=r(S,g,P),T===null?w=S:T.sibling=S,T=S,x=E}if(P===v.length)return n(d,x),St&&Ai(d,P),w;if(x===null){for(;P<v.length;P++)x=f(d,v[P],b),x!==null&&(g=r(x,g,P),T===null?w=x:T.sibling=x,T=x);return St&&Ai(d,P),w}for(x=a(d,x);P<v.length;P++)E=p(x,d,P,v[P],b),E!==null&&(t&&E.alternate!==null&&x.delete(E.key===null?P:E.key),g=r(E,g,P),T===null?w=E:T.sibling=E,T=E);return t&&x.forEach(function(N){return e(d,N)}),St&&Ai(d,P),w}function _(d,g,v,b){var w=ro(v);if(typeof w!="function")throw Error(oe(150));if(v=w.call(v),v==null)throw Error(oe(151));for(var T=w=null,x=g,P=g=0,E=null,S=v.next();x!==null&&!S.done;P++,S=v.next()){x.index>P?(E=x,x=null):E=x.sibling;var N=h(d,x,S.value,b);if(N===null){x===null&&(x=E);break}t&&x&&N.alternate===null&&e(d,x),g=r(N,g,P),T===null?w=N:T.sibling=N,T=N,x=E}if(S.done)return n(d,x),St&&Ai(d,P),w;if(x===null){for(;!S.done;P++,S=v.next())S=f(d,S.value,b),S!==null&&(g=r(S,g,P),T===null?w=S:T.sibling=S,T=S);return St&&Ai(d,P),w}for(x=a(d,x);!S.done;P++,S=v.next())S=p(x,d,P,S.value,b),S!==null&&(t&&S.alternate!==null&&x.delete(S.key===null?P:S.key),g=r(S,g,P),T===null?w=S:T.sibling=S,T=S);return t&&x.forEach(function(q){return e(d,q)}),St&&Ai(d,P),w}function m(d,g,v,b){if(typeof v=="object"&&v!==null&&v.type===yr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ys:e:{for(var w=v.key,T=g;T!==null;){if(T.key===w){if(w=v.type,w===yr){if(T.tag===7){n(d,T.sibling),g=i(T,v.props.children),g.return=d,d=g;break e}}else if(T.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Va&&Vh(w)===T.type){n(d,T.sibling),g=i(T,v.props),g.ref=uo(d,T,v),g.return=d,d=g;break e}n(d,T);break}else e(d,T);T=T.sibling}v.type===yr?(g=Bi(v.props.children,d.mode,b,v.key),g.return=d,d=g):(b=_l(v.type,v.key,v.props,null,d.mode,b),b.ref=uo(d,g,v),b.return=d,d=b)}return o(d);case vr:e:{for(T=v.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(d,g.sibling),g=i(g,v.children||[]),g.return=d,d=g;break e}else{n(d,g);break}else e(d,g);g=g.sibling}g=Qc(v,d.mode,b),g.return=d,d=g}return o(d);case Va:return T=v._init,m(d,g,T(v._payload),b)}if(Eo(v))return y(d,g,v,b);if(ro(v))return _(d,g,v,b);Rs(d,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(d,g.sibling),g=i(g,v),g.return=d,d=g):(n(d,g),g=Zc(v,d.mode,b),g.return=d,d=g),o(d)):n(d,g)}return m}var Vr=Cv(!0),Rv=Cv(!1),Nl=hi(null),Ul=null,Tr=null,vf=null;function yf(){vf=Tr=Ul=null}function _f(t){var e=Nl.current;gt(Nl),t._currentValue=e}function gd(t,e,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===n)break;t=t.return}}function Ur(t,e){Ul=t,vf=Tr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pn=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(vf!==t)if(t={context:t,memoizedValue:e,next:null},Tr===null){if(Ul===null)throw Error(oe(308));Tr=t,Ul.dependencies={lanes:0,firstContext:t}}else Tr=Tr.next=t;return e}var Ii=null;function xf(t){Ii===null?Ii=[t]:Ii.push(t)}function Pv(t,e,n,a){var i=e.interleaved;return i===null?(n.next=n,xf(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ra(t,a)}function Ra(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ga=!1;function Sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Aa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ti(t,e,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,at&2){var i=a.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),a.pending=e,Ra(t,n)}return i=a.interleaved,i===null?(e.next=e,xf(a)):(e.next=i.next,i.next=e),a.interleaved=e,Ra(t,n)}function hl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,of(t,n)}}function Gh(t,e){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:a.shared,effects:a.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zl(t,e,n,a){var i=t.updateQueue;Ga=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(r!==null){var f=i.baseState;o=0,u=c=l=null,s=r;do{var h=s.lane,p=s.eventTime;if((a&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,_=s;switch(h=e,p=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=Tt({},f,h);break e;case 2:Ga=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);Vi|=o,t.lanes=o,t.memoizedState=f}}function qh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var a=t[e],i=a.callback;if(i!==null){if(a.callback=null,a=n,typeof i!="function")throw Error(oe(191,i));i.call(a)}}}var cs={},ca=hi(cs),Ko=hi(cs),Yo=hi(cs);function Di(t){if(t===cs)throw Error(oe(174));return t}function bf(t,e){switch(ht(Yo,e),ht(Ko,t),ht(ca,cs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yu(e,t)}gt(ca),ht(ca,e)}function Gr(){gt(ca),gt(Ko),gt(Yo)}function Iv(t){Di(Yo.current);var e=Di(ca.current),n=Yu(e,t.type);e!==n&&(ht(Ko,t),ht(ca,n))}function Mf(t){Ko.current===t&&(gt(ca),gt(Ko))}var Mt=hi(0);function Fl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wc=[];function Ef(){for(var t=0;t<Wc.length;t++)Wc[t]._workInProgressVersionPrimary=null;Wc.length=0}var pl=La.ReactCurrentDispatcher,Xc=La.ReactCurrentBatchConfig,ji=0,Et=null,Ft=null,jt=null,Ol=!1,Do=!1,$o=0,yx=0;function Yt(){throw Error(oe(321))}function Af(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qn(t[n],e[n]))return!1;return!0}function Tf(t,e,n,a,i,r){if(ji=r,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pl.current=t===null||t.memoizedState===null?bx:Mx,t=n(a,i),Do){r=0;do{if(Do=!1,$o=0,25<=r)throw Error(oe(301));r+=1,jt=Ft=null,e.updateQueue=null,pl.current=Ex,t=n(a,i)}while(Do)}if(pl.current=Bl,e=Ft!==null&&Ft.next!==null,ji=0,jt=Ft=Et=null,Ol=!1,e)throw Error(oe(300));return t}function wf(){var t=$o!==0;return $o=0,t}function ta(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Et.memoizedState=jt=t:jt=jt.next=t,jt}function Bn(){if(Ft===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=jt===null?Et.memoizedState:jt.next;if(e!==null)jt=e,Ft=t;else{if(t===null)throw Error(oe(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},jt===null?Et.memoizedState=jt=t:jt=jt.next=t}return jt}function Zo(t,e){return typeof e=="function"?e(t):e}function Jc(t){var e=Bn(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var a=Ft,i=a.baseQueue,r=n.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}a.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,a=a.baseState;var s=o=null,l=null,c=r;do{var u=c.lane;if((ji&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),a=c.hasEagerState?c.eagerState:t(a,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=a):l=l.next=f,Et.lanes|=u,Vi|=u}c=c.next}while(c!==null&&c!==r);l===null?o=a:l.next=s,Qn(a,e.memoizedState)||(pn=!0),e.memoizedState=a,e.baseState=o,e.baseQueue=l,n.lastRenderedState=a}if(t=n.interleaved,t!==null){i=t;do r=i.lane,Et.lanes|=r,Vi|=r,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kc(t){var e=Bn(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var a=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do r=t(r,o.action),o=o.next;while(o!==i);Qn(r,e.memoizedState)||(pn=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,a]}function Dv(){}function Nv(t,e){var n=Et,a=Bn(),i=e(),r=!Qn(a.memoizedState,i);if(r&&(a.memoizedState=i,pn=!0),a=a.queue,Cf(Fv.bind(null,n,a,t),[t]),a.getSnapshot!==e||r||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,Qo(9,zv.bind(null,n,a,i,e),void 0,null),Gt===null)throw Error(oe(349));ji&30||Uv(n,e,i)}return i}function Uv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zv(t,e,n,a){e.value=n,e.getSnapshot=a,Ov(e)&&Bv(t)}function Fv(t,e,n){return n(function(){Ov(e)&&Bv(t)})}function Ov(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qn(t,n)}catch{return!0}}function Bv(t){var e=Ra(t,1);e!==null&&$n(e,t,1,-1)}function Wh(t){var e=ta();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:t},e.queue=t,t=t.dispatch=Sx.bind(null,Et,t),[e.memoizedState,t]}function Qo(t,e,n,a){return t={tag:t,create:e,destroy:n,deps:a,next:null},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,e.lastEffect=t)),t}function kv(){return Bn().memoizedState}function ml(t,e,n,a){var i=ta();Et.flags|=t,i.memoizedState=Qo(1|e,n,void 0,a===void 0?null:a)}function cc(t,e,n,a){var i=Bn();a=a===void 0?null:a;var r=void 0;if(Ft!==null){var o=Ft.memoizedState;if(r=o.destroy,a!==null&&Af(a,o.deps)){i.memoizedState=Qo(e,n,r,a);return}}Et.flags|=t,i.memoizedState=Qo(1|e,n,r,a)}function Xh(t,e){return ml(8390656,8,t,e)}function Cf(t,e){return cc(2048,8,t,e)}function Hv(t,e){return cc(4,2,t,e)}function jv(t,e){return cc(4,4,t,e)}function Vv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gv(t,e,n){return n=n!=null?n.concat([t]):null,cc(4,4,Vv.bind(null,e,t),n)}function Rf(){}function qv(t,e){var n=Bn();e=e===void 0?null:e;var a=n.memoizedState;return a!==null&&e!==null&&Af(e,a[1])?a[0]:(n.memoizedState=[t,e],t)}function Wv(t,e){var n=Bn();e=e===void 0?null:e;var a=n.memoizedState;return a!==null&&e!==null&&Af(e,a[1])?a[0]:(t=t(),n.memoizedState=[t,e],t)}function Xv(t,e,n){return ji&21?(Qn(n,e)||(n=Zg(),Et.lanes|=n,Vi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pn=!0),t.memoizedState=n)}function _x(t,e){var n=st;st=n!==0&&4>n?n:4,t(!0);var a=Xc.transition;Xc.transition={};try{t(!1),e()}finally{st=n,Xc.transition=a}}function Jv(){return Bn().memoizedState}function xx(t,e,n){var a=ai(t);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Kv(t))Yv(e,n);else if(n=Pv(t,e,n,a),n!==null){var i=sn();$n(n,t,a,i),$v(n,e,a)}}function Sx(t,e,n){var a=ai(t),i={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kv(t))Yv(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,s=r(o,n);if(i.hasEagerState=!0,i.eagerState=s,Qn(s,o)){var l=e.interleaved;l===null?(i.next=i,xf(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Pv(t,e,i,a),n!==null&&(i=sn(),$n(n,t,a,i),$v(n,e,a))}}function Kv(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function Yv(t,e){Do=Ol=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $v(t,e,n){if(n&4194240){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,of(t,n)}}var Bl={readContext:On,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},bx={readContext:On,useCallback:function(t,e){return ta().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:Xh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ml(4194308,4,Vv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ml(4194308,4,t,e)},useInsertionEffect:function(t,e){return ml(4,2,t,e)},useMemo:function(t,e){var n=ta();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var a=ta();return e=n!==void 0?n(e):e,a.memoizedState=a.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},a.queue=t,t=t.dispatch=xx.bind(null,Et,t),[a.memoizedState,t]},useRef:function(t){var e=ta();return t={current:t},e.memoizedState=t},useState:Wh,useDebugValue:Rf,useDeferredValue:function(t){return ta().memoizedState=t},useTransition:function(){var t=Wh(!1),e=t[0];return t=_x.bind(null,t[1]),ta().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var a=Et,i=ta();if(St){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),Gt===null)throw Error(oe(349));ji&30||Uv(a,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,Xh(Fv.bind(null,a,r,t),[t]),a.flags|=2048,Qo(9,zv.bind(null,a,r,n,e),void 0,null),n},useId:function(){var t=ta(),e=Gt.identifierPrefix;if(St){var n=ba,a=Sa;n=(a&~(1<<32-Yn(a)-1)).toString(32)+n,e=":"+e+"R"+n,n=$o++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Mx={readContext:On,useCallback:qv,useContext:On,useEffect:Cf,useImperativeHandle:Gv,useInsertionEffect:Hv,useLayoutEffect:jv,useMemo:Wv,useReducer:Jc,useRef:kv,useState:function(){return Jc(Zo)},useDebugValue:Rf,useDeferredValue:function(t){var e=Bn();return Xv(e,Ft.memoizedState,t)},useTransition:function(){var t=Jc(Zo)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:Dv,useSyncExternalStore:Nv,useId:Jv,unstable_isNewReconciler:!1},Ex={readContext:On,useCallback:qv,useContext:On,useEffect:Cf,useImperativeHandle:Gv,useInsertionEffect:Hv,useLayoutEffect:jv,useMemo:Wv,useReducer:Kc,useRef:kv,useState:function(){return Kc(Zo)},useDebugValue:Rf,useDeferredValue:function(t){var e=Bn();return Ft===null?e.memoizedState=t:Xv(e,Ft.memoizedState,t)},useTransition:function(){var t=Kc(Zo)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:Dv,useSyncExternalStore:Nv,useId:Jv,unstable_isNewReconciler:!1};function qn(t,e){if(t&&t.defaultProps){e=Tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vd(t,e,n,a){e=t.memoizedState,n=n(a,e),n=n==null?e:Tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uc={isMounted:function(t){return(t=t._reactInternals)?Ki(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var a=sn(),i=ai(t),r=Aa(a,i);r.payload=e,n!=null&&(r.callback=n),e=ti(t,r,i),e!==null&&($n(e,t,i,a),hl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var a=sn(),i=ai(t),r=Aa(a,i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=ti(t,r,i),e!==null&&($n(e,t,i,a),hl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),a=ai(t),i=Aa(n,a);i.tag=2,e!=null&&(i.callback=e),e=ti(t,i,a),e!==null&&($n(e,t,a,n),hl(e,t,a))}};function Jh(t,e,n,a,i,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,r,o):e.prototype&&e.prototype.isPureReactComponent?!qo(n,a)||!qo(i,r):!0}function Zv(t,e,n){var a=!1,i=li,r=e.contextType;return typeof r=="object"&&r!==null?r=On(r):(i=gn(e)?ki:tn.current,a=e.contextTypes,r=(a=a!=null)?Hr(t,i):li),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uc,t.stateNode=e,e._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function Kh(t,e,n,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,a),e.state!==t&&uc.enqueueReplaceState(e,e.state,null)}function yd(t,e,n,a){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Sf(t);var r=e.contextType;typeof r=="object"&&r!==null?i.context=On(r):(r=gn(e)?ki:tn.current,i.context=Hr(t,r)),i.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(vd(t,e,r,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uc.enqueueReplaceState(i,i.state,null),zl(t,n,i,a),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qr(t,e){try{var n="",a=e;do n+=Z0(a),a=a.return;while(a);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:i,digest:null}}function Yc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _d(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ax=typeof WeakMap=="function"?WeakMap:Map;function Qv(t,e,n){n=Aa(-1,n),n.tag=3,n.payload={element:null};var a=e.value;return n.callback=function(){Hl||(Hl=!0,Rd=a),_d(t,e)},n}function ey(t,e,n){n=Aa(-1,n),n.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var i=e.value;n.payload=function(){return a(i)},n.callback=function(){_d(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){_d(t,e),typeof a!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Yh(t,e,n){var a=t.pingCache;if(a===null){a=t.pingCache=new Ax;var i=new Set;a.set(e,i)}else i=a.get(e),i===void 0&&(i=new Set,a.set(e,i));i.has(n)||(i.add(n),t=Bx.bind(null,t,e,n),e.then(t,t))}function $h(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zh(t,e,n,a,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Aa(-1,1),e.tag=2,ti(n,e,1))),n.lanes|=1),t)}var Tx=La.ReactCurrentOwner,pn=!1;function on(t,e,n,a){e.child=t===null?Rv(e,null,n,a):Vr(e,t.child,n,a)}function Qh(t,e,n,a,i){n=n.render;var r=e.ref;return Ur(e,i),a=Tf(t,e,n,a,r,i),n=wf(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pa(t,e,i)):(St&&n&&pf(e),e.flags|=1,on(t,e,a,i),e.child)}function ep(t,e,n,a,i){if(t===null){var r=n.type;return typeof r=="function"&&!Ff(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,ty(t,e,r,a,i)):(t=_l(n.type,null,a,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&i)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:qo,n(o,a)&&t.ref===e.ref)return Pa(t,e,i)}return e.flags|=1,t=ii(r,a),t.ref=e.ref,t.return=e,e.child=t}function ty(t,e,n,a,i){if(t!==null){var r=t.memoizedProps;if(qo(r,a)&&t.ref===e.ref)if(pn=!1,e.pendingProps=a=r,(t.lanes&i)!==0)t.flags&131072&&(pn=!0);else return e.lanes=t.lanes,Pa(t,e,i)}return xd(t,e,n,a,i)}function ny(t,e,n){var a=e.pendingProps,i=a.children,r=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Cr,Sn),Sn|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ht(Cr,Sn),Sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=r!==null?r.baseLanes:n,ht(Cr,Sn),Sn|=a}else r!==null?(a=r.baseLanes|n,e.memoizedState=null):a=n,ht(Cr,Sn),Sn|=a;return on(t,e,i,n),e.child}function ay(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xd(t,e,n,a,i){var r=gn(n)?ki:tn.current;return r=Hr(e,r),Ur(e,i),n=Tf(t,e,n,a,r,i),a=wf(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pa(t,e,i)):(St&&a&&pf(e),e.flags|=1,on(t,e,n,i),e.child)}function tp(t,e,n,a,i){if(gn(n)){var r=!0;Ll(e)}else r=!1;if(Ur(e,i),e.stateNode===null)gl(t,e),Zv(e,n,a),yd(e,n,a,i),a=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=On(c):(c=gn(n)?ki:tn.current,c=Hr(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==a||l!==c)&&Kh(e,o,a,c),Ga=!1;var h=e.memoizedState;o.state=h,zl(e,a,o,i),l=e.memoizedState,s!==a||h!==l||mn.current||Ga?(typeof u=="function"&&(vd(e,n,u,a),l=e.memoizedState),(s=Ga||Jh(e,n,s,a,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=l),o.props=a,o.state=l,o.context=c,a=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{o=e.stateNode,Lv(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:qn(e.type,s),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=On(l):(l=gn(n)?ki:tn.current,l=Hr(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&Kh(e,o,a,l),Ga=!1,h=e.memoizedState,o.state=h,zl(e,a,o,i);var y=e.memoizedState;s!==f||h!==y||mn.current||Ga?(typeof p=="function"&&(vd(e,n,p,a),y=e.memoizedState),(c=Ga||Jh(e,n,c,a,h,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=y),o.props=a,o.state=y,o.context=l,a=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),a=!1)}return Sd(t,e,n,a,r,i)}function Sd(t,e,n,a,i,r){ay(t,e);var o=(e.flags&128)!==0;if(!a&&!o)return i&&kh(e,n,!1),Pa(t,e,r);a=e.stateNode,Tx.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:a.render();return e.flags|=1,t!==null&&o?(e.child=Vr(e,t.child,null,r),e.child=Vr(e,null,s,r)):on(t,e,s,r),e.memoizedState=a.state,i&&kh(e,n,!0),e.child}function iy(t){var e=t.stateNode;e.pendingContext?Bh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Bh(t,e.context,!1),bf(t,e.containerInfo)}function np(t,e,n,a,i){return jr(),gf(i),e.flags|=256,on(t,e,n,a),e.child}var bd={dehydrated:null,treeContext:null,retryLane:0};function Md(t){return{baseLanes:t,cachePool:null,transitions:null}}function ry(t,e,n){var a=e.pendingProps,i=Mt.current,r=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ht(Mt,i&1),t===null)return md(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=a.children,t=a.fallback,r?(a=e.mode,r=e.child,o={mode:"hidden",children:o},!(a&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=hc(o,a,0,null),t=Bi(t,a,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Md(n),e.memoizedState=bd,t):Pf(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return wx(t,e,o,a,s,i,n);if(r){r=a.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:a.children};return!(o&1)&&e.child!==i?(a=e.child,a.childLanes=0,a.pendingProps=l,e.deletions=null):(a=ii(i,l),a.subtreeFlags=i.subtreeFlags&14680064),s!==null?r=ii(s,r):(r=Bi(r,o,n,null),r.flags|=2),r.return=e,a.return=e,a.sibling=r,e.child=a,a=r,r=e.child,o=t.child.memoizedState,o=o===null?Md(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=bd,a}return r=t.child,t=r.sibling,a=ii(r,{mode:"visible",children:a.children}),!(e.mode&1)&&(a.lanes=n),a.return=e,a.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=a,e.memoizedState=null,a}function Pf(t,e){return e=hc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ps(t,e,n,a){return a!==null&&gf(a),Vr(e,t.child,null,n),t=Pf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wx(t,e,n,a,i,r,o){if(n)return e.flags&256?(e.flags&=-257,a=Yc(Error(oe(422))),Ps(t,e,o,a)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=a.fallback,i=e.mode,a=hc({mode:"visible",children:a.children},i,0,null),r=Bi(r,i,o,null),r.flags|=2,a.return=e,r.return=e,a.sibling=r,e.child=a,e.mode&1&&Vr(e,t.child,null,o),e.child.memoizedState=Md(o),e.memoizedState=bd,r);if(!(e.mode&1))return Ps(t,e,o,null);if(i.data==="$!"){if(a=i.nextSibling&&i.nextSibling.dataset,a)var s=a.dgst;return a=s,r=Error(oe(419)),a=Yc(r,a,void 0),Ps(t,e,o,a)}if(s=(o&t.childLanes)!==0,pn||s){if(a=Gt,a!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(a.suspendedLanes|o)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,Ra(t,i),$n(a,t,i,-1))}return zf(),a=Yc(Error(oe(421))),Ps(t,e,o,a)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=kx.bind(null,t),i._reactRetry=e,null):(t=r.treeContext,bn=ei(i.nextSibling),Mn=e,St=!0,Jn=null,t!==null&&(Pn[Ln++]=Sa,Pn[Ln++]=ba,Pn[Ln++]=Hi,Sa=t.id,ba=t.overflow,Hi=e),e=Pf(e,a.children),e.flags|=4096,e)}function ap(t,e,n){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),gd(t.return,e,n)}function $c(t,e,n,a,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=i)}function oy(t,e,n){var a=e.pendingProps,i=a.revealOrder,r=a.tail;if(on(t,e,a.children,n),a=Mt.current,a&2)a=a&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ap(t,n,e);else if(t.tag===19)ap(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(ht(Mt,a),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Fl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$c(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Fl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$c(e,!0,n,null,r);break;case"together":$c(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Cx(t,e,n){switch(e.tag){case 3:iy(e),jr();break;case 5:Iv(e);break;case 1:gn(e.type)&&Ll(e);break;case 4:bf(e,e.stateNode.containerInfo);break;case 10:var a=e.type._context,i=e.memoizedProps.value;ht(Nl,a._currentValue),a._currentValue=i;break;case 13:if(a=e.memoizedState,a!==null)return a.dehydrated!==null?(ht(Mt,Mt.current&1),e.flags|=128,null):n&e.child.childLanes?ry(t,e,n):(ht(Mt,Mt.current&1),t=Pa(t,e,n),t!==null?t.sibling:null);ht(Mt,Mt.current&1);break;case 19:if(a=(n&e.childLanes)!==0,t.flags&128){if(a)return oy(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ht(Mt,Mt.current),a)break;return null;case 22:case 23:return e.lanes=0,ny(t,e,n)}return Pa(t,e,n)}var sy,Ed,ly,cy;sy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ed=function(){};ly=function(t,e,n,a){var i=t.memoizedProps;if(i!==a){t=e.stateNode,Di(ca.current);var r=null;switch(n){case"input":i=Wu(t,i),a=Wu(t,a),r=[];break;case"select":i=Tt({},i,{value:void 0}),a=Tt({},a,{value:void 0}),r=[];break;case"textarea":i=Ku(t,i),a=Ku(t,a),r=[];break;default:typeof i.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=Rl)}$u(n,a);var o;n=null;for(c in i)if(!a.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Oo.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in a){var l=a[c];if(s=i!=null?i[c]:void 0,a.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Oo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&pt("scroll",t),r||s===l||(r=[])):(r=r||[]).push(c,l))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};cy=function(t,e,n,a){n!==a&&(e.flags|=4)};function fo(t,e){if(!St)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&14680064,a|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=a,t.childLanes=n,e}function Rx(t,e,n){var a=e.pendingProps;switch(mf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return gn(e.type)&&Pl(),$t(e),null;case 3:return a=e.stateNode,Gr(),gt(mn),gt(tn),Ef(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Cs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jn!==null&&(Id(Jn),Jn=null))),Ed(t,e),$t(e),null;case 5:Mf(e);var i=Di(Yo.current);if(n=e.type,t!==null&&e.stateNode!=null)ly(t,e,n,a,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!a){if(e.stateNode===null)throw Error(oe(166));return $t(e),null}if(t=Di(ca.current),Cs(e)){a=e.stateNode,n=e.type;var r=e.memoizedProps;switch(a[ia]=e,a[Jo]=r,t=(e.mode&1)!==0,n){case"dialog":pt("cancel",a),pt("close",a);break;case"iframe":case"object":case"embed":pt("load",a);break;case"video":case"audio":for(i=0;i<To.length;i++)pt(To[i],a);break;case"source":pt("error",a);break;case"img":case"image":case"link":pt("error",a),pt("load",a);break;case"details":pt("toggle",a);break;case"input":fh(a,r),pt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!r.multiple},pt("invalid",a);break;case"textarea":ph(a,r),pt("invalid",a)}$u(n,r),i=null;for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];o==="children"?typeof s=="string"?a.textContent!==s&&(r.suppressHydrationWarning!==!0&&ws(a.textContent,s,t),i=["children",s]):typeof s=="number"&&a.textContent!==""+s&&(r.suppressHydrationWarning!==!0&&ws(a.textContent,s,t),i=["children",""+s]):Oo.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&pt("scroll",a)}switch(n){case"input":_s(a),hh(a,r,!0);break;case"textarea":_s(a),mh(a);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(a.onclick=Rl)}a=i,e.updateQueue=a,a!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=o.createElement(n,{is:a.is}):(t=o.createElement(n),n==="select"&&(o=t,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):t=o.createElementNS(t,n),t[ia]=e,t[Jo]=a,sy(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zu(n,a),n){case"dialog":pt("cancel",t),pt("close",t),i=a;break;case"iframe":case"object":case"embed":pt("load",t),i=a;break;case"video":case"audio":for(i=0;i<To.length;i++)pt(To[i],t);i=a;break;case"source":pt("error",t),i=a;break;case"img":case"image":case"link":pt("error",t),pt("load",t),i=a;break;case"details":pt("toggle",t),i=a;break;case"input":fh(t,a),i=Wu(t,a),pt("invalid",t);break;case"option":i=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},i=Tt({},a,{value:void 0}),pt("invalid",t);break;case"textarea":ph(t,a),i=Ku(t,a),pt("invalid",t);break;default:i=a}$u(n,i),s=i;for(r in s)if(s.hasOwnProperty(r)){var l=s[r];r==="style"?kg(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Og(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bo(t,l):typeof l=="number"&&Bo(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Oo.hasOwnProperty(r)?l!=null&&r==="onScroll"&&pt("scroll",t):l!=null&&Qd(t,r,l,o))}switch(n){case"input":_s(t),hh(t,a,!1);break;case"textarea":_s(t),mh(t);break;case"option":a.value!=null&&t.setAttribute("value",""+si(a.value));break;case"select":t.multiple=!!a.multiple,r=a.value,r!=null?Lr(t,!!a.multiple,r,!1):a.defaultValue!=null&&Lr(t,!!a.multiple,a.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rl)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)cy(t,e,t.memoizedProps,a);else{if(typeof a!="string"&&e.stateNode===null)throw Error(oe(166));if(n=Di(Yo.current),Di(ca.current),Cs(e)){if(a=e.stateNode,n=e.memoizedProps,a[ia]=e,(r=a.nodeValue!==n)&&(t=Mn,t!==null))switch(t.tag){case 3:ws(a.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ws(a.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[ia]=e,e.stateNode=a}return $t(e),null;case 13:if(gt(Mt),a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(St&&bn!==null&&e.mode&1&&!(e.flags&128))wv(),jr(),e.flags|=98560,r=!1;else if(r=Cs(e),a!==null&&a.dehydrated!==null){if(t===null){if(!r)throw Error(oe(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(oe(317));r[ia]=e}else jr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),r=!1}else Jn!==null&&(Id(Jn),Jn=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(e.child.flags|=8192,e.mode&1&&(t===null||Mt.current&1?Ot===0&&(Ot=3):zf())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return Gr(),Ed(t,e),t===null&&Wo(e.stateNode.containerInfo),$t(e),null;case 10:return _f(e.type._context),$t(e),null;case 17:return gn(e.type)&&Pl(),$t(e),null;case 19:if(gt(Mt),r=e.memoizedState,r===null)return $t(e),null;if(a=(e.flags&128)!==0,o=r.rendering,o===null)if(a)fo(r,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Fl(t),o!==null){for(e.flags|=128,fo(r,!1),a=o.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),e.subtreeFlags=0,a=n,n=e.child;n!==null;)r=n,t=a,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ht(Mt,Mt.current&1|2),e.child}t=t.sibling}r.tail!==null&&Pt()>Wr&&(e.flags|=128,a=!0,fo(r,!1),e.lanes=4194304)}else{if(!a)if(t=Fl(o),t!==null){if(e.flags|=128,a=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!St)return $t(e),null}else 2*Pt()-r.renderingStartTime>Wr&&n!==1073741824&&(e.flags|=128,a=!0,fo(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Pt(),e.sibling=null,n=Mt.current,ht(Mt,a?n&1|2:n&1),e):($t(e),null);case 22:case 23:return Uf(),a=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(e.flags|=8192),a&&e.mode&1?Sn&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function Px(t,e){switch(mf(e),e.tag){case 1:return gn(e.type)&&Pl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gr(),gt(mn),gt(tn),Ef(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mf(e),null;case 13:if(gt(Mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));jr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gt(Mt),null;case 4:return Gr(),null;case 10:return _f(e.type._context),null;case 22:case 23:return Uf(),null;case 24:return null;default:return null}}var Ls=!1,en=!1,Lx=typeof WeakSet=="function"?WeakSet:Set,be=null;function wr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){Rt(t,e,a)}else n.current=null}function Ad(t,e,n){try{n()}catch(a){Rt(t,e,a)}}var ip=!1;function Ix(t,e){if(ld=Tl,t=pv(),hf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==r||a!==0&&f.nodeType!==3||(l=o+a),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===i&&(s=o),h===r&&++u===a&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cd={focusedElem:t,selectionRange:n},Tl=!1,be=e;be!==null;)if(e=be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,be=t;else for(;be!==null;){e=be;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,m=y.memoizedState,d=e.stateNode,g=d.getSnapshotBeforeUpdate(e.elementType===e.type?_:qn(e.type,_),m);d.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(b){Rt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,be=t;break}be=e.return}return y=ip,ip=!1,y}function No(t,e,n){var a=e.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var i=a=a.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,r!==void 0&&Ad(e,n,r)}i=i.next}while(i!==a)}}function dc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var a=n.create;n.destroy=a()}n=n.next}while(n!==e)}}function Td(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function uy(t){var e=t.alternate;e!==null&&(t.alternate=null,uy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ia],delete e[Jo],delete e[fd],delete e[px],delete e[mx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dy(t){return t.tag===5||t.tag===3||t.tag===4}function rp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wd(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rl));else if(a!==4&&(t=t.child,t!==null))for(wd(t,e,n),t=t.sibling;t!==null;)wd(t,e,n),t=t.sibling}function Cd(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(Cd(t,e,n),t=t.sibling;t!==null;)Cd(t,e,n),t=t.sibling}var Wt=null,Wn=!1;function Ua(t,e,n){for(n=n.child;n!==null;)fy(t,e,n),n=n.sibling}function fy(t,e,n){if(la&&typeof la.onCommitFiberUnmount=="function")try{la.onCommitFiberUnmount(ac,n)}catch{}switch(n.tag){case 5:en||wr(n,e);case 6:var a=Wt,i=Wn;Wt=null,Ua(t,e,n),Wt=a,Wn=i,Wt!==null&&(Wn?(t=Wt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(Wn?(t=Wt,n=n.stateNode,t.nodeType===8?Gc(t.parentNode,n):t.nodeType===1&&Gc(t,n),Vo(t)):Gc(Wt,n.stateNode));break;case 4:a=Wt,i=Wn,Wt=n.stateNode.containerInfo,Wn=!0,Ua(t,e,n),Wt=a,Wn=i;break;case 0:case 11:case 14:case 15:if(!en&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){i=a=a.next;do{var r=i,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Ad(n,e,o),i=i.next}while(i!==a)}Ua(t,e,n);break;case 1:if(!en&&(wr(n,e),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(s){Rt(n,e,s)}Ua(t,e,n);break;case 21:Ua(t,e,n);break;case 22:n.mode&1?(en=(a=en)||n.memoizedState!==null,Ua(t,e,n),en=a):Ua(t,e,n);break;default:Ua(t,e,n)}}function op(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Lx),e.forEach(function(a){var i=Hx.bind(null,t,a);n.has(a)||(n.add(a),a.then(i,i))})}}function Hn(t,e){var n=e.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a];try{var r=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Wt=s.stateNode,Wn=!1;break e;case 3:Wt=s.stateNode.containerInfo,Wn=!0;break e;case 4:Wt=s.stateNode.containerInfo,Wn=!0;break e}s=s.return}if(Wt===null)throw Error(oe(160));fy(r,o,i),Wt=null,Wn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Rt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hy(e,t),e=e.sibling}function hy(t,e){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hn(e,t),ea(t),a&4){try{No(3,t,t.return),dc(3,t)}catch(_){Rt(t,t.return,_)}try{No(5,t,t.return)}catch(_){Rt(t,t.return,_)}}break;case 1:Hn(e,t),ea(t),a&512&&n!==null&&wr(n,n.return);break;case 5:if(Hn(e,t),ea(t),a&512&&n!==null&&wr(n,n.return),t.flags&32){var i=t.stateNode;try{Bo(i,"")}catch(_){Rt(t,t.return,_)}}if(a&4&&(i=t.stateNode,i!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&r.type==="radio"&&r.name!=null&&Ug(i,r),Zu(s,o);var c=Zu(s,r);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?kg(i,f):u==="dangerouslySetInnerHTML"?Og(i,f):u==="children"?Bo(i,f):Qd(i,u,f,c)}switch(s){case"input":Xu(i,r);break;case"textarea":zg(i,r);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?Lr(i,!!r.multiple,p,!1):h!==!!r.multiple&&(r.defaultValue!=null?Lr(i,!!r.multiple,r.defaultValue,!0):Lr(i,!!r.multiple,r.multiple?[]:"",!1))}i[Jo]=r}catch(_){Rt(t,t.return,_)}}break;case 6:if(Hn(e,t),ea(t),a&4){if(t.stateNode===null)throw Error(oe(162));i=t.stateNode,r=t.memoizedProps;try{i.nodeValue=r}catch(_){Rt(t,t.return,_)}}break;case 3:if(Hn(e,t),ea(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Vo(e.containerInfo)}catch(_){Rt(t,t.return,_)}break;case 4:Hn(e,t),ea(t);break;case 13:Hn(e,t),ea(t),i=t.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(Df=Pt())),a&4&&op(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(en=(c=en)||u,Hn(e,t),en=c):Hn(e,t),ea(t),a&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(be=t,u=t.child;u!==null;){for(f=be=u;be!==null;){switch(h=be,p=h.child,h.tag){case 0:case 11:case 14:case 15:No(4,h,h.return);break;case 1:wr(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){a=h,n=h.return;try{e=a,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){Rt(a,n,_)}}break;case 5:wr(h,h.return);break;case 22:if(h.memoizedState!==null){lp(f);continue}}p!==null?(p.return=h,be=p):lp(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Bg("display",o))}catch(_){Rt(t,t.return,_)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(_){Rt(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hn(e,t),ea(t),a&4&&op(t);break;case 21:break;default:Hn(e,t),ea(t)}}function ea(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dy(n)){var a=n;break e}n=n.return}throw Error(oe(160))}switch(a.tag){case 5:var i=a.stateNode;a.flags&32&&(Bo(i,""),a.flags&=-33);var r=rp(t);Cd(t,r,i);break;case 3:case 4:var o=a.stateNode.containerInfo,s=rp(t);wd(t,s,o);break;default:throw Error(oe(161))}}catch(l){Rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Dx(t,e,n){be=t,py(t)}function py(t,e,n){for(var a=(t.mode&1)!==0;be!==null;){var i=be,r=i.child;if(i.tag===22&&a){var o=i.memoizedState!==null||Ls;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||en;s=Ls;var c=en;if(Ls=o,(en=l)&&!c)for(be=i;be!==null;)o=be,l=o.child,o.tag===22&&o.memoizedState!==null?cp(i):l!==null?(l.return=o,be=l):cp(i);for(;r!==null;)be=r,py(r),r=r.sibling;be=i,Ls=s,en=c}sp(t)}else i.subtreeFlags&8772&&r!==null?(r.return=i,be=r):sp(t)}}function sp(t){for(;be!==null;){var e=be;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:en||dc(5,e);break;case 1:var a=e.stateNode;if(e.flags&4&&!en)if(n===null)a.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qn(e.type,n.memoizedProps);a.componentDidUpdate(i,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&qh(e,r,a);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qh(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Vo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}en||e.flags&512&&Td(e)}catch(h){Rt(e,e.return,h)}}if(e===t){be=null;break}if(n=e.sibling,n!==null){n.return=e.return,be=n;break}be=e.return}}function lp(t){for(;be!==null;){var e=be;if(e===t){be=null;break}var n=e.sibling;if(n!==null){n.return=e.return,be=n;break}be=e.return}}function cp(t){for(;be!==null;){var e=be;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dc(4,e)}catch(l){Rt(e,n,l)}break;case 1:var a=e.stateNode;if(typeof a.componentDidMount=="function"){var i=e.return;try{a.componentDidMount()}catch(l){Rt(e,i,l)}}var r=e.return;try{Td(e)}catch(l){Rt(e,r,l)}break;case 5:var o=e.return;try{Td(e)}catch(l){Rt(e,o,l)}}}catch(l){Rt(e,e.return,l)}if(e===t){be=null;break}var s=e.sibling;if(s!==null){s.return=e.return,be=s;break}be=e.return}}var Nx=Math.ceil,kl=La.ReactCurrentDispatcher,Lf=La.ReactCurrentOwner,zn=La.ReactCurrentBatchConfig,at=0,Gt=null,Ut=null,Xt=0,Sn=0,Cr=hi(0),Ot=0,es=null,Vi=0,fc=0,If=0,Uo=null,fn=null,Df=0,Wr=1/0,ya=null,Hl=!1,Rd=null,ni=null,Is=!1,Ka=null,jl=0,zo=0,Pd=null,vl=-1,yl=0;function sn(){return at&6?Pt():vl!==-1?vl:vl=Pt()}function ai(t){return t.mode&1?at&2&&Xt!==0?Xt&-Xt:vx.transition!==null?(yl===0&&(yl=Zg()),yl):(t=st,t!==0||(t=window.event,t=t===void 0?16:rv(t.type)),t):1}function $n(t,e,n,a){if(50<zo)throw zo=0,Pd=null,Error(oe(185));os(t,n,a),(!(at&2)||t!==Gt)&&(t===Gt&&(!(at&2)&&(fc|=n),Ot===4&&Wa(t,Xt)),vn(t,a),n===1&&at===0&&!(e.mode&1)&&(Wr=Pt()+500,lc&&pi()))}function vn(t,e){var n=t.callbackNode;v_(t,e);var a=Al(t,t===Gt?Xt:0);if(a===0)n!==null&&yh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=a&-a,t.callbackPriority!==e){if(n!=null&&yh(n),e===1)t.tag===0?gx(up.bind(null,t)):Ev(up.bind(null,t)),fx(function(){!(at&6)&&pi()}),n=null;else{switch(Qg(a)){case 1:n=rf;break;case 4:n=Yg;break;case 16:n=El;break;case 536870912:n=$g;break;default:n=El}n=by(n,my.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function my(t,e){if(vl=-1,yl=0,at&6)throw Error(oe(327));var n=t.callbackNode;if(zr()&&t.callbackNode!==n)return null;var a=Al(t,t===Gt?Xt:0);if(a===0)return null;if(a&30||a&t.expiredLanes||e)e=Vl(t,a);else{e=a;var i=at;at|=2;var r=vy();(Gt!==t||Xt!==e)&&(ya=null,Wr=Pt()+500,Oi(t,e));do try{Fx();break}catch(s){gy(t,s)}while(!0);yf(),kl.current=r,at=i,Ut!==null?e=0:(Gt=null,Xt=0,e=Ot)}if(e!==0){if(e===2&&(i=ad(t),i!==0&&(a=i,e=Ld(t,i))),e===1)throw n=es,Oi(t,0),Wa(t,a),vn(t,Pt()),n;if(e===6)Wa(t,a);else{if(i=t.current.alternate,!(a&30)&&!Ux(i)&&(e=Vl(t,a),e===2&&(r=ad(t),r!==0&&(a=r,e=Ld(t,r))),e===1))throw n=es,Oi(t,0),Wa(t,a),vn(t,Pt()),n;switch(t.finishedWork=i,t.finishedLanes=a,e){case 0:case 1:throw Error(oe(345));case 2:Ti(t,fn,ya);break;case 3:if(Wa(t,a),(a&130023424)===a&&(e=Df+500-Pt(),10<e)){if(Al(t,0)!==0)break;if(i=t.suspendedLanes,(i&a)!==a){sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=dd(Ti.bind(null,t,fn,ya),e);break}Ti(t,fn,ya);break;case 4:if(Wa(t,a),(a&4194240)===a)break;for(e=t.eventTimes,i=-1;0<a;){var o=31-Yn(a);r=1<<o,o=e[o],o>i&&(i=o),a&=~r}if(a=i,a=Pt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Nx(a/1960))-a,10<a){t.timeoutHandle=dd(Ti.bind(null,t,fn,ya),a);break}Ti(t,fn,ya);break;case 5:Ti(t,fn,ya);break;default:throw Error(oe(329))}}}return vn(t,Pt()),t.callbackNode===n?my.bind(null,t):null}function Ld(t,e){var n=Uo;return t.current.memoizedState.isDehydrated&&(Oi(t,e).flags|=256),t=Vl(t,e),t!==2&&(e=fn,fn=n,e!==null&&Id(e)),t}function Id(t){fn===null?fn=t:fn.push.apply(fn,t)}function Ux(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var i=n[a],r=i.getSnapshot;i=i.value;try{if(!Qn(r(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wa(t,e){for(e&=~If,e&=~fc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yn(e),a=1<<n;t[n]=-1,e&=~a}}function up(t){if(at&6)throw Error(oe(327));zr();var e=Al(t,0);if(!(e&1))return vn(t,Pt()),null;var n=Vl(t,e);if(t.tag!==0&&n===2){var a=ad(t);a!==0&&(e=a,n=Ld(t,a))}if(n===1)throw n=es,Oi(t,0),Wa(t,e),vn(t,Pt()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ti(t,fn,ya),vn(t,Pt()),null}function Nf(t,e){var n=at;at|=1;try{return t(e)}finally{at=n,at===0&&(Wr=Pt()+500,lc&&pi())}}function Gi(t){Ka!==null&&Ka.tag===0&&!(at&6)&&zr();var e=at;at|=1;var n=zn.transition,a=st;try{if(zn.transition=null,st=1,t)return t()}finally{st=a,zn.transition=n,at=e,!(at&6)&&pi()}}function Uf(){Sn=Cr.current,gt(Cr)}function Oi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dx(n)),Ut!==null)for(n=Ut.return;n!==null;){var a=n;switch(mf(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Pl();break;case 3:Gr(),gt(mn),gt(tn),Ef();break;case 5:Mf(a);break;case 4:Gr();break;case 13:gt(Mt);break;case 19:gt(Mt);break;case 10:_f(a.type._context);break;case 22:case 23:Uf()}n=n.return}if(Gt=t,Ut=t=ii(t.current,null),Xt=Sn=e,Ot=0,es=null,If=fc=Vi=0,fn=Uo=null,Ii!==null){for(e=0;e<Ii.length;e++)if(n=Ii[e],a=n.interleaved,a!==null){n.interleaved=null;var i=a.next,r=n.pending;if(r!==null){var o=r.next;r.next=i,a.next=o}n.pending=a}Ii=null}return t}function gy(t,e){do{var n=Ut;try{if(yf(),pl.current=Bl,Ol){for(var a=Et.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}Ol=!1}if(ji=0,jt=Ft=Et=null,Do=!1,$o=0,Lf.current=null,n===null||n.return===null){Ot=1,es=e,Ut=null;break}e:{var r=t,o=n.return,s=n,l=e;if(e=Xt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=$h(o);if(p!==null){p.flags&=-257,Zh(p,o,s,r,e),p.mode&1&&Yh(r,c,e),e=p,l=c;var y=e.updateQueue;if(y===null){var _=new Set;_.add(l),e.updateQueue=_}else y.add(l);break e}else{if(!(e&1)){Yh(r,c,e),zf();break e}l=Error(oe(426))}}else if(St&&s.mode&1){var m=$h(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),Zh(m,o,s,r,e),gf(qr(l,s));break e}}r=l=qr(l,s),Ot!==4&&(Ot=2),Uo===null?Uo=[r]:Uo.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var d=Qv(r,l,e);Gh(r,d);break e;case 1:s=l;var g=r.type,v=r.stateNode;if(!(r.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ni===null||!ni.has(v)))){r.flags|=65536,e&=-e,r.lanes|=e;var b=ey(r,s,e);Gh(r,b);break e}}r=r.return}while(r!==null)}_y(n)}catch(w){e=w,Ut===n&&n!==null&&(Ut=n=n.return);continue}break}while(!0)}function vy(){var t=kl.current;return kl.current=Bl,t===null?Bl:t}function zf(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Gt===null||!(Vi&268435455)&&!(fc&268435455)||Wa(Gt,Xt)}function Vl(t,e){var n=at;at|=2;var a=vy();(Gt!==t||Xt!==e)&&(ya=null,Oi(t,e));do try{zx();break}catch(i){gy(t,i)}while(!0);if(yf(),at=n,kl.current=a,Ut!==null)throw Error(oe(261));return Gt=null,Xt=0,Ot}function zx(){for(;Ut!==null;)yy(Ut)}function Fx(){for(;Ut!==null&&!l_();)yy(Ut)}function yy(t){var e=Sy(t.alternate,t,Sn);t.memoizedProps=t.pendingProps,e===null?_y(t):Ut=e,Lf.current=null}function _y(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Px(n,e),n!==null){n.flags&=32767,Ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,Ut=null;return}}else if(n=Rx(n,e,Sn),n!==null){Ut=n;return}if(e=e.sibling,e!==null){Ut=e;return}Ut=e=t}while(e!==null);Ot===0&&(Ot=5)}function Ti(t,e,n){var a=st,i=zn.transition;try{zn.transition=null,st=1,Ox(t,e,n,a)}finally{zn.transition=i,st=a}return null}function Ox(t,e,n,a){do zr();while(Ka!==null);if(at&6)throw Error(oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(y_(t,r),t===Gt&&(Ut=Gt=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Is||(Is=!0,by(El,function(){return zr(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=zn.transition,zn.transition=null;var o=st;st=1;var s=at;at|=4,Lf.current=null,Ix(t,n),hy(n,t),ix(cd),Tl=!!ld,cd=ld=null,t.current=n,Dx(n),c_(),at=s,st=o,zn.transition=r}else t.current=n;if(Is&&(Is=!1,Ka=t,jl=i),r=t.pendingLanes,r===0&&(ni=null),f_(n.stateNode),vn(t,Pt()),e!==null)for(a=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],a(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,t=Rd,Rd=null,t;return jl&1&&t.tag!==0&&zr(),r=t.pendingLanes,r&1?t===Pd?zo++:(zo=0,Pd=t):zo=0,pi(),null}function zr(){if(Ka!==null){var t=Qg(jl),e=zn.transition,n=st;try{if(zn.transition=null,st=16>t?16:t,Ka===null)var a=!1;else{if(t=Ka,Ka=null,jl=0,at&6)throw Error(oe(331));var i=at;for(at|=4,be=t.current;be!==null;){var r=be,o=r.child;if(be.flags&16){var s=r.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(be=c;be!==null;){var u=be;switch(u.tag){case 0:case 11:case 15:No(8,u,r)}var f=u.child;if(f!==null)f.return=u,be=f;else for(;be!==null;){u=be;var h=u.sibling,p=u.return;if(uy(u),u===c){be=null;break}if(h!==null){h.return=p,be=h;break}be=p}}}var y=r.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var m=_.sibling;_.sibling=null,_=m}while(_!==null)}}be=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,be=o;else e:for(;be!==null;){if(r=be,r.flags&2048)switch(r.tag){case 0:case 11:case 15:No(9,r,r.return)}var d=r.sibling;if(d!==null){d.return=r.return,be=d;break e}be=r.return}}var g=t.current;for(be=g;be!==null;){o=be;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,be=v;else e:for(o=g;be!==null;){if(s=be,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:dc(9,s)}}catch(w){Rt(s,s.return,w)}if(s===o){be=null;break e}var b=s.sibling;if(b!==null){b.return=s.return,be=b;break e}be=s.return}}if(at=i,pi(),la&&typeof la.onPostCommitFiberRoot=="function")try{la.onPostCommitFiberRoot(ac,t)}catch{}a=!0}return a}finally{st=n,zn.transition=e}}return!1}function dp(t,e,n){e=qr(n,e),e=Qv(t,e,1),t=ti(t,e,1),e=sn(),t!==null&&(os(t,1,e),vn(t,e))}function Rt(t,e,n){if(t.tag===3)dp(t,t,n);else for(;e!==null;){if(e.tag===3){dp(e,t,n);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ni===null||!ni.has(a))){t=qr(n,t),t=ey(e,t,1),e=ti(e,t,1),t=sn(),e!==null&&(os(e,1,t),vn(e,t));break}}e=e.return}}function Bx(t,e,n){var a=t.pingCache;a!==null&&a.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,Gt===t&&(Xt&n)===n&&(Ot===4||Ot===3&&(Xt&130023424)===Xt&&500>Pt()-Df?Oi(t,0):If|=n),vn(t,e)}function xy(t,e){e===0&&(t.mode&1?(e=bs,bs<<=1,!(bs&130023424)&&(bs=4194304)):e=1);var n=sn();t=Ra(t,e),t!==null&&(os(t,e,n),vn(t,n))}function kx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xy(t,n)}function Hx(t,e){var n=0;switch(t.tag){case 13:var a=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(oe(314))}a!==null&&a.delete(e),xy(t,n)}var Sy;Sy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pn=!1,Cx(t,e,n);pn=!!(t.flags&131072)}else pn=!1,St&&e.flags&1048576&&Av(e,Dl,e.index);switch(e.lanes=0,e.tag){case 2:var a=e.type;gl(t,e),t=e.pendingProps;var i=Hr(e,tn.current);Ur(e,n),i=Tf(null,e,a,t,i,n);var r=wf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(a)?(r=!0,Ll(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sf(e),i.updater=uc,e.stateNode=i,i._reactInternals=e,yd(e,a,t,n),e=Sd(null,e,a,!0,r,n)):(e.tag=0,St&&r&&pf(e),on(null,e,i,n),e=e.child),e;case 16:a=e.elementType;e:{switch(gl(t,e),t=e.pendingProps,i=a._init,a=i(a._payload),e.type=a,i=e.tag=Vx(a),t=qn(a,t),i){case 0:e=xd(null,e,a,t,n);break e;case 1:e=tp(null,e,a,t,n);break e;case 11:e=Qh(null,e,a,t,n);break e;case 14:e=ep(null,e,a,qn(a.type,t),n);break e}throw Error(oe(306,a,""))}return e;case 0:return a=e.type,i=e.pendingProps,i=e.elementType===a?i:qn(a,i),xd(t,e,a,i,n);case 1:return a=e.type,i=e.pendingProps,i=e.elementType===a?i:qn(a,i),tp(t,e,a,i,n);case 3:e:{if(iy(e),t===null)throw Error(oe(387));a=e.pendingProps,r=e.memoizedState,i=r.element,Lv(t,e),zl(e,a,null,n);var o=e.memoizedState;if(a=o.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=qr(Error(oe(423)),e),e=np(t,e,a,n,i);break e}else if(a!==i){i=qr(Error(oe(424)),e),e=np(t,e,a,n,i);break e}else for(bn=ei(e.stateNode.containerInfo.firstChild),Mn=e,St=!0,Jn=null,n=Rv(e,null,a,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jr(),a===i){e=Pa(t,e,n);break e}on(t,e,a,n)}e=e.child}return e;case 5:return Iv(e),t===null&&md(e),a=e.type,i=e.pendingProps,r=t!==null?t.memoizedProps:null,o=i.children,ud(a,i)?o=null:r!==null&&ud(a,r)&&(e.flags|=32),ay(t,e),on(t,e,o,n),e.child;case 6:return t===null&&md(e),null;case 13:return ry(t,e,n);case 4:return bf(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=Vr(e,null,a,n):on(t,e,a,n),e.child;case 11:return a=e.type,i=e.pendingProps,i=e.elementType===a?i:qn(a,i),Qh(t,e,a,i,n);case 7:return on(t,e,e.pendingProps,n),e.child;case 8:return on(t,e,e.pendingProps.children,n),e.child;case 12:return on(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(a=e.type._context,i=e.pendingProps,r=e.memoizedProps,o=i.value,ht(Nl,a._currentValue),a._currentValue=o,r!==null)if(Qn(r.value,o)){if(r.children===i.children&&!mn.current){e=Pa(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){o=r.child;for(var l=s.firstContext;l!==null;){if(l.context===a){if(r.tag===1){l=Aa(-1,n&-n),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),gd(r.return,n,e),s.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(oe(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),gd(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}on(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,a=e.pendingProps.children,Ur(e,n),i=On(i),a=a(i),e.flags|=1,on(t,e,a,n),e.child;case 14:return a=e.type,i=qn(a,e.pendingProps),i=qn(a.type,i),ep(t,e,a,i,n);case 15:return ty(t,e,e.type,e.pendingProps,n);case 17:return a=e.type,i=e.pendingProps,i=e.elementType===a?i:qn(a,i),gl(t,e),e.tag=1,gn(a)?(t=!0,Ll(e)):t=!1,Ur(e,n),Zv(e,a,i),yd(e,a,i,n),Sd(null,e,a,!0,t,n);case 19:return oy(t,e,n);case 22:return ny(t,e,n)}throw Error(oe(156,e.tag))};function by(t,e){return Kg(t,e)}function jx(t,e,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,e,n,a){return new jx(t,e,n,a)}function Ff(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vx(t){if(typeof t=="function")return Ff(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tf)return 11;if(t===nf)return 14}return 2}function ii(t,e){var n=t.alternate;return n===null?(n=Nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _l(t,e,n,a,i,r){var o=2;if(a=t,typeof t=="function")Ff(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yr:return Bi(n.children,i,r,e);case ef:o=8,i|=8;break;case ju:return t=Nn(12,n,e,i|2),t.elementType=ju,t.lanes=r,t;case Vu:return t=Nn(13,n,e,i),t.elementType=Vu,t.lanes=r,t;case Gu:return t=Nn(19,n,e,i),t.elementType=Gu,t.lanes=r,t;case Ig:return hc(n,i,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pg:o=10;break e;case Lg:o=9;break e;case tf:o=11;break e;case nf:o=14;break e;case Va:o=16,a=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=Nn(o,n,e,i),e.elementType=t,e.type=a,e.lanes=r,e}function Bi(t,e,n,a){return t=Nn(7,t,a,e),t.lanes=n,t}function hc(t,e,n,a){return t=Nn(22,t,a,e),t.elementType=Ig,t.lanes=n,t.stateNode={isHidden:!1},t}function Zc(t,e,n){return t=Nn(6,t,null,e),t.lanes=n,t}function Qc(t,e,n){return e=Nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gx(t,e,n,a,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dc(0),this.expirationTimes=Dc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dc(0),this.identifierPrefix=a,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Of(t,e,n,a,i,r,o,s,l){return t=new Gx(t,e,n,s,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Nn(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sf(r),t}function qx(t,e,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vr,key:a==null?null:""+a,children:t,containerInfo:e,implementation:n}}function My(t){if(!t)return li;t=t._reactInternals;e:{if(Ki(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(gn(n))return Mv(t,n,e)}return e}function Ey(t,e,n,a,i,r,o,s,l){return t=Of(n,a,!0,t,i,r,o,s,l),t.context=My(null),n=t.current,a=sn(),i=ai(n),r=Aa(a,i),r.callback=e??null,ti(n,r,i),t.current.lanes=i,os(t,i,a),vn(t,a),t}function pc(t,e,n,a){var i=e.current,r=sn(),o=ai(i);return n=My(n),e.context===null?e.context=n:e.pendingContext=n,e=Aa(r,o),e.payload={element:t},a=a===void 0?null:a,a!==null&&(e.callback=a),t=ti(i,e,o),t!==null&&($n(t,i,o,r),hl(t,i,o)),o}function Gl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bf(t,e){fp(t,e),(t=t.alternate)&&fp(t,e)}function Wx(){return null}var Ay=typeof reportError=="function"?reportError:function(t){console.error(t)};function kf(t){this._internalRoot=t}mc.prototype.render=kf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));pc(t,e,null,null)};mc.prototype.unmount=kf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gi(function(){pc(null,t,null,null)}),e[Ca]=null}};function mc(t){this._internalRoot=t}mc.prototype.unstable_scheduleHydration=function(t){if(t){var e=nv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qa.length&&e!==0&&e<qa[n].priority;n++);qa.splice(n,0,t),n===0&&iv(t)}};function Hf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hp(){}function Xx(t,e,n,a,i){if(i){if(typeof a=="function"){var r=a;a=function(){var c=Gl(o);r.call(c)}}var o=Ey(e,a,t,0,null,!1,!1,"",hp);return t._reactRootContainer=o,t[Ca]=o.current,Wo(t.nodeType===8?t.parentNode:t),Gi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof a=="function"){var s=a;a=function(){var c=Gl(l);s.call(c)}}var l=Of(t,0,!1,null,null,!1,!1,"",hp);return t._reactRootContainer=l,t[Ca]=l.current,Wo(t.nodeType===8?t.parentNode:t),Gi(function(){pc(e,l,n,a)}),l}function vc(t,e,n,a,i){var r=n._reactRootContainer;if(r){var o=r;if(typeof i=="function"){var s=i;i=function(){var l=Gl(o);s.call(l)}}pc(e,o,t,i)}else o=Xx(n,e,t,i,a);return Gl(o)}ev=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ao(e.pendingLanes);n!==0&&(of(e,n|1),vn(e,Pt()),!(at&6)&&(Wr=Pt()+500,pi()))}break;case 13:Gi(function(){var a=Ra(t,1);if(a!==null){var i=sn();$n(a,t,1,i)}}),Bf(t,1)}};sf=function(t){if(t.tag===13){var e=Ra(t,134217728);if(e!==null){var n=sn();$n(e,t,134217728,n)}Bf(t,134217728)}};tv=function(t){if(t.tag===13){var e=ai(t),n=Ra(t,e);if(n!==null){var a=sn();$n(n,t,e,a)}Bf(t,e)}};nv=function(){return st};av=function(t,e){var n=st;try{return st=t,e()}finally{st=n}};ed=function(t,e,n){switch(e){case"input":if(Xu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var a=n[e];if(a!==t&&a.form===t.form){var i=sc(a);if(!i)throw Error(oe(90));Ng(a),Xu(a,i)}}}break;case"textarea":zg(t,n);break;case"select":e=n.value,e!=null&&Lr(t,!!n.multiple,e,!1)}};Vg=Nf;Gg=Gi;var Jx={usingClientEntryPoint:!1,Events:[ls,br,sc,Hg,jg,Nf]},ho={findFiberByHostInstance:Li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kx={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:La.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xg(t),t===null?null:t.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||Wx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{ac=Ds.inject(Kx),la=Ds}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jx;An.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hf(e))throw Error(oe(200));return qx(t,e,null,n)};An.createRoot=function(t,e){if(!Hf(t))throw Error(oe(299));var n=!1,a="",i=Ay;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Of(t,1,!1,null,null,n,!1,a,i),t[Ca]=e.current,Wo(t.nodeType===8?t.parentNode:t),new kf(e)};An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=Xg(e),t=t===null?null:t.stateNode,t};An.flushSync=function(t){return Gi(t)};An.hydrate=function(t,e,n){if(!gc(e))throw Error(oe(200));return vc(null,t,e,!0,n)};An.hydrateRoot=function(t,e,n){if(!Hf(t))throw Error(oe(405));var a=n!=null&&n.hydratedSources||null,i=!1,r="",o=Ay;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ey(e,null,t,1,n??null,i,!1,r,o),t[Ca]=e.current,Wo(t),a)for(t=0;t<a.length;t++)n=a[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new mc(e)};An.render=function(t,e,n){if(!gc(e))throw Error(oe(200));return vc(null,t,e,!1,n)};An.unmountComponentAtNode=function(t){if(!gc(t))throw Error(oe(40));return t._reactRootContainer?(Gi(function(){vc(null,null,t,!1,function(){t._reactRootContainer=null,t[Ca]=null})}),!0):!1};An.unstable_batchedUpdates=Nf;An.unstable_renderSubtreeIntoContainer=function(t,e,n,a){if(!gc(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return vc(t,e,n,!1,a)};An.version="18.3.1-next-f1338f8080-20240426";function Ty(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ty)}catch(t){console.error(t)}}Ty(),Tg.exports=An;var jf=Tg.exports;const Yx=pg(jf),$x=hg({__proto__:null,default:Yx},[jf]);var pp=jf;ku.createRoot=pp.createRoot,ku.hydrateRoot=pp.hydrateRoot;/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bt(){return bt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},bt.apply(this,arguments)}var Nt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Nt||(Nt={}));const mp="popstate";function Zx(t){t===void 0&&(t={});function e(i,r){let{pathname:o="/",search:s="",hash:l=""}=Ia(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ts("",{pathname:o,search:s,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){let o=i.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");s=c===-1?l:l.slice(0,c)}return s+"#"+(typeof r=="string"?r:Wi(r))}function a(i,r){qi(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(r)+")")}return eS(e,n,a,t)}function $e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Qx(){return Math.random().toString(36).substr(2,8)}function gp(t,e){return{usr:t.state,key:t.key,idx:e}}function ts(t,e,n,a){return n===void 0&&(n=null),bt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ia(e):e,{state:n,key:e&&e.key||a||Qx()})}function Wi(t){let{pathname:e="/",search:n="",hash:a=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Ia(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substr(a),t=t.substr(0,a)),t&&(e.pathname=t)}return e}function eS(t,e,n,a){a===void 0&&(a={});let{window:i=document.defaultView,v5Compat:r=!1}=a,o=i.history,s=Nt.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(bt({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){s=Nt.Pop;let m=u(),d=m==null?null:m-c;c=m,l&&l({action:s,location:_.location,delta:d})}function h(m,d){s=Nt.Push;let g=ts(_.location,m,d);n&&n(g,m),c=u()+1;let v=gp(g,c),b=_.createHref(g);try{o.pushState(v,"",b)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(b)}r&&l&&l({action:s,location:_.location,delta:1})}function p(m,d){s=Nt.Replace;let g=ts(_.location,m,d);n&&n(g,m),c=u();let v=gp(g,c),b=_.createHref(g);o.replaceState(v,"",b),r&&l&&l({action:s,location:_.location,delta:0})}function y(m){let d=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof m=="string"?m:Wi(m);return g=g.replace(/ $/,"%20"),$e(d,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,d)}let _={get action(){return s},get location(){return t(i,o)},listen(m){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(mp,f),l=m,()=>{i.removeEventListener(mp,f),l=null}},createHref(m){return e(i,m)},createURL:y,encodeLocation(m){let d=y(m);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:h,replace:p,go(m){return o.go(m)}};return _}var xt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xt||(xt={}));const tS=new Set(["lazy","caseSensitive","path","id","index","children"]);function nS(t){return t.index===!0}function Dd(t,e,n,a){return n===void 0&&(n=[]),a===void 0&&(a={}),t.map((i,r)=>{let o=[...n,r],s=typeof i.id=="string"?i.id:o.join("-");if($e(i.index!==!0||!i.children,"Cannot specify children on an index route"),$e(!a[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),nS(i)){let l=bt({},i,e(i),{id:s});return a[s]=l,l}else{let l=bt({},i,e(i),{id:s,children:void 0});return a[s]=l,i.children&&(l.children=Dd(i.children,e,o,a)),l}})}function Rr(t,e,n){n===void 0&&(n="/");let a=typeof e=="string"?Ia(e):e,i=eo(a.pathname||"/",n);if(i==null)return null;let r=wy(t);iS(r);let o=null;for(let s=0;o==null&&s<r.length;++s){let l=gS(i);o=hS(r[s],l)}return o}function aS(t,e){let{route:n,pathname:a,params:i}=t;return{id:n.id,pathname:a,params:i,data:e[n.id],handle:n.handle}}function wy(t,e,n,a){e===void 0&&(e=[]),n===void 0&&(n=[]),a===void 0&&(a="");let i=(r,o,s)=>{let l={relativePath:s===void 0?r.path||"":s,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};l.relativePath.startsWith("/")&&($e(l.relativePath.startsWith(a),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(a.length));let c=Ta([a,l.relativePath]),u=n.concat(l);r.children&&r.children.length>0&&($e(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),wy(r.children,e,u,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:dS(c,r.index),routesMeta:u})};return t.forEach((r,o)=>{var s;if(r.path===""||!((s=r.path)!=null&&s.includes("?")))i(r,o);else for(let l of Cy(r.path))i(r,o,l)}),e}function Cy(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,i=n.endsWith("?"),r=n.replace(/\?$/,"");if(a.length===0)return i?[r,""]:[r];let o=Cy(a.join("/")),s=[];return s.push(...o.map(l=>l===""?r:[r,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function iS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fS(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const rS=/^:[\w-]+$/,oS=3,sS=2,lS=1,cS=10,uS=-2,vp=t=>t==="*";function dS(t,e){let n=t.split("/"),a=n.length;return n.some(vp)&&(a+=uS),e&&(a+=sS),n.filter(i=>!vp(i)).reduce((i,r)=>i+(rS.test(r)?oS:r===""?lS:cS),a)}function fS(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function hS(t,e){let{routesMeta:n}=t,a={},i="/",r=[];for(let o=0;o<n.length;++o){let s=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=pS({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!u)return null;Object.assign(a,u.params);let f=s.route;r.push({params:a,pathname:Ta([i,u.pathname]),pathnameBase:_S(Ta([i,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(i=Ta([i,u.pathnameBase]))}return r}function pS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=mS(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let r=i[0],o=r.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:a.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let _=s[f]||"";o=r.slice(0,r.length-_.length).replace(/(.)\/+$/,"$1")}const y=s[f];return p&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:o,pattern:t}}function mS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(a.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function gS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qi(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function eo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function vS(t,e){e===void 0&&(e="/");let{pathname:n,search:a="",hash:i=""}=typeof t=="string"?Ia(t):t;return{pathname:n?n.startsWith("/")?n:yS(n,e):e,search:xS(a),hash:SS(i)}}function yS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function eu(t,e,n,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ry(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vf(t,e){let n=Ry(t);return e?n.map((a,i)=>i===t.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function Gf(t,e,n,a){a===void 0&&(a=!1);let i;typeof t=="string"?i=Ia(t):(i=bt({},t),$e(!i.pathname||!i.pathname.includes("?"),eu("?","pathname","search",i)),$e(!i.pathname||!i.pathname.includes("#"),eu("#","pathname","hash",i)),$e(!i.search||!i.search.includes("#"),eu("#","search","hash",i)));let r=t===""||i.pathname==="",o=r?"/":i.pathname,s;if(o==null)s=n;else{let f=e.length-1;if(!a&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=vS(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(r||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ta=t=>t.join("/").replace(/\/\/+/g,"/"),_S=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,SS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class qf{constructor(e,n,a,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}}function Wf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Py=["post","put","patch","delete"],bS=new Set(Py),MS=["get",...Py],ES=new Set(MS),AS=new Set([301,302,303,307,308]),TS=new Set([307,308]),tu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},po={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Xf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CS=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Ly="remix-router-transitions";function RS(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",a=!n;$e(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let L=t.detectErrorBoundary;i=z=>({hasErrorBoundary:L(z)})}else i=CS;let r={},o=Dd(t.routes,i,void 0,r),s,l=t.basename||"/",c=t.unstable_dataStrategy||DS,u=bt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),f=null,h=new Set,p=null,y=null,_=null,m=t.hydrationData!=null,d=Rr(o,t.history.location,l),g=null;if(d==null){let L=Rn(404,{pathname:t.history.location.pathname}),{matches:z,route:H}=wp(o);d=z,g={[H.id]:L}}let v,b=d.some(L=>L.route.lazy),w=d.some(L=>L.route.loader);if(b)v=!1;else if(!w)v=!0;else if(u.v7_partialHydration){let L=t.hydrationData?t.hydrationData.loaderData:null,z=t.hydrationData?t.hydrationData.errors:null,H=ne=>ne.route.loader?typeof ne.route.loader=="function"&&ne.route.loader.hydrate===!0?!1:L&&L[ne.route.id]!==void 0||z&&z[ne.route.id]!==void 0:!0;if(z){let ne=d.findIndex(fe=>z[fe.route.id]!==void 0);v=d.slice(0,ne+1).every(H)}else v=d.every(H)}else v=t.hydrationData!=null;let T,x={historyAction:t.history.action,location:t.history.location,matches:d,initialized:v,navigation:tu,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||g,fetchers:new Map,blockers:new Map},P=Nt.Pop,E=!1,S,N=!1,q=new Map,I=null,J=!1,K=!1,se=[],re=[],R=new Map,W=0,X=-1,ce=new Map,Me=new Set,Je=new Map,V=new Map,ae=new Set,ge=new Map,le=new Map,Xe=!1;function Ke(){if(f=t.history.listen(L=>{let{action:z,location:H,delta:ne}=L;if(Xe){Xe=!1;return}qi(le.size===0||ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=D({currentLocation:x.location,nextLocation:H,historyAction:z});if(fe&&ne!=null){Xe=!0,t.history.go(ne*-1),ke(fe,{state:"blocked",location:H,proceed(){ke(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),t.history.go(ne)},reset(){let Be=new Map(x.blockers);Be.set(fe,po),Ae({blockers:Be})}});return}return Fe(z,H)}),n){qS(e,q);let L=()=>WS(e,q);e.addEventListener("pagehide",L),I=()=>e.removeEventListener("pagehide",L)}return x.initialized||Fe(Nt.Pop,x.location,{initialHydration:!0}),T}function F(){f&&f(),I&&I(),h.clear(),S&&S.abort(),x.fetchers.forEach((L,z)=>ue(z)),x.blockers.forEach((L,z)=>yt(z))}function ct(L){return h.add(L),()=>h.delete(L)}function Ae(L,z){z===void 0&&(z={}),x=bt({},x,L);let H=[],ne=[];u.v7_fetcherPersist&&x.fetchers.forEach((fe,Be)=>{fe.state==="idle"&&(ae.has(Be)?ne.push(Be):H.push(Be))}),[...h].forEach(fe=>fe(x,{deletedFetchers:ne,unstable_viewTransitionOpts:z.viewTransitionOpts,unstable_flushSync:z.flushSync===!0})),u.v7_fetcherPersist&&(H.forEach(fe=>x.fetchers.delete(fe)),ne.forEach(fe=>ue(fe)))}function rt(L,z,H){var ne,fe;let{flushSync:Be}=H===void 0?{}:H,Pe=x.actionData!=null&&x.navigation.formMethod!=null&&Xn(x.navigation.formMethod)&&x.navigation.state==="loading"&&((ne=L.state)==null?void 0:ne._isRedirect)!==!0,Se;z.actionData?Object.keys(z.actionData).length>0?Se=z.actionData:Se=null:Pe?Se=x.actionData:Se=null;let Oe=z.loaderData?Ap(x.loaderData,z.loaderData,z.matches||[],z.errors):x.loaderData,ze=x.blockers;ze.size>0&&(ze=new Map(ze),ze.forEach((Ue,dt)=>ze.set(dt,po)));let wt=E===!0||x.navigation.formMethod!=null&&Xn(x.navigation.formMethod)&&((fe=L.state)==null?void 0:fe._isRedirect)!==!0;s&&(o=s,s=void 0),J||P===Nt.Pop||(P===Nt.Push?t.history.push(L,L.state):P===Nt.Replace&&t.history.replace(L,L.state));let Lt;if(P===Nt.Pop){let Ue=q.get(x.location.pathname);Ue&&Ue.has(L.pathname)?Lt={currentLocation:x.location,nextLocation:L}:q.has(L.pathname)&&(Lt={currentLocation:L,nextLocation:x.location})}else if(N){let Ue=q.get(x.location.pathname);Ue?Ue.add(L.pathname):(Ue=new Set([L.pathname]),q.set(x.location.pathname,Ue)),Lt={currentLocation:x.location,nextLocation:L}}Ae(bt({},z,{actionData:Se,loaderData:Oe,historyAction:P,location:L,initialized:!0,navigation:tu,revalidation:"idle",restoreScrollPosition:tt(L,z.matches||x.matches),preventScrollReset:wt,blockers:ze}),{viewTransitionOpts:Lt,flushSync:Be===!0}),P=Nt.Pop,E=!1,N=!1,J=!1,K=!1,se=[],re=[]}async function Ne(L,z){if(typeof L=="number"){t.history.go(L);return}let H=Nd(x.location,x.matches,l,u.v7_prependBasename,L,u.v7_relativeSplatPath,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:ne,submission:fe,error:Be}=yp(u.v7_normalizeFormMethod,!1,H,z),Pe=x.location,Se=ts(x.location,ne,z&&z.state);Se=bt({},Se,t.history.encodeLocation(Se));let Oe=z&&z.replace!=null?z.replace:void 0,ze=Nt.Push;Oe===!0?ze=Nt.Replace:Oe===!1||fe!=null&&Xn(fe.formMethod)&&fe.formAction===x.location.pathname+x.location.search&&(ze=Nt.Replace);let wt=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,Lt=(z&&z.unstable_flushSync)===!0,Ue=D({currentLocation:Pe,nextLocation:Se,historyAction:ze});if(Ue){ke(Ue,{state:"blocked",location:Se,proceed(){ke(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:Se}),Ne(L,z)},reset(){let dt=new Map(x.blockers);dt.set(Ue,po),Ae({blockers:dt})}});return}return await Fe(ze,Se,{submission:fe,pendingError:Be,preventScrollReset:wt,replace:z&&z.replace,enableViewTransition:z&&z.unstable_viewTransition,flushSync:Lt})}function Qe(){if(Re(),Ae({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){Fe(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}Fe(P||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation})}}async function Fe(L,z,H){S&&S.abort(),S=null,P=L,J=(H&&H.startUninterruptedRevalidation)===!0,_e(x.location,x.matches),E=(H&&H.preventScrollReset)===!0,N=(H&&H.enableViewTransition)===!0;let ne=s||o,fe=H&&H.overrideNavigation,Be=Rr(ne,z,l),Pe=(H&&H.flushSync)===!0;if(!Be){let Ue=Rn(404,{pathname:z.pathname}),{matches:dt,route:It}=wp(ne);Q(),rt(z,{matches:dt,loaderData:{},errors:{[It.id]:Ue}},{flushSync:Pe});return}if(x.initialized&&!K&&BS(x.location,z)&&!(H&&H.submission&&Xn(H.submission.formMethod))){rt(z,{matches:Be},{flushSync:Pe});return}S=new AbortController;let Se=Qi(t.history,z,S.signal,H&&H.submission),Oe;if(H&&H.pendingError)Oe=[Fo(Be).route.id,{type:xt.error,error:H.pendingError}];else if(H&&H.submission&&Xn(H.submission.formMethod)){let Ue=await et(Se,z,H.submission,Be,{replace:H.replace,flushSync:Pe});if(Ue.shortCircuited)return;Oe=Ue.pendingActionResult,fe=nu(z,H.submission),Pe=!1,Se=Qi(t.history,Se.url,Se.signal)}let{shortCircuited:ze,loaderData:wt,errors:Lt}=await vt(Se,z,Be,fe,H&&H.submission,H&&H.fetcherSubmission,H&&H.replace,H&&H.initialHydration===!0,Pe,Oe);ze||(S=null,rt(z,bt({matches:Be},Tp(Oe),{loaderData:wt,errors:Lt})))}async function et(L,z,H,ne,fe){fe===void 0&&(fe={}),Re();let Be=VS(z,H);Ae({navigation:Be},{flushSync:fe.flushSync===!0});let Pe,Se=zd(ne,z);if(!Se.route.action&&!Se.route.lazy)Pe={type:xt.error,error:Rn(405,{method:L.method,pathname:z.pathname,routeId:Se.route.id})};else if(Pe=(await te("action",L,[Se],ne))[0],L.signal.aborted)return{shortCircuited:!0};if(Ui(Pe)){let Oe;return fe&&fe.replace!=null?Oe=fe.replace:Oe=bp(Pe.response.headers.get("Location"),new URL(L.url),l)===x.location.pathname+x.location.search,await $(L,Pe,{submission:H,replace:Oe}),{shortCircuited:!0}}if(Ni(Pe))throw Rn(400,{type:"defer-action"});if(In(Pe)){let Oe=Fo(ne,Se.route.id);return(fe&&fe.replace)!==!0&&(P=Nt.Push),{pendingActionResult:[Oe.route.id,Pe]}}return{pendingActionResult:[Se.route.id,Pe]}}async function vt(L,z,H,ne,fe,Be,Pe,Se,Oe,ze){let wt=ne||nu(z,fe),Lt=fe||Be||Pp(wt),Ue=s||o,[dt,It]=_p(t.history,x,H,Lt,z,u.v7_partialHydration&&Se===!0,u.unstable_skipActionErrorRevalidation,K,se,re,ae,Je,Me,Ue,l,ze);if(Q(de=>!(H&&H.some(we=>we.route.id===de))||dt&&dt.some(we=>we.route.id===de)),X=++W,dt.length===0&&It.length===0){let de=xe();return rt(z,bt({matches:H,loaderData:{},errors:ze&&In(ze[1])?{[ze[0]]:ze[1].error}:null},Tp(ze),de?{fetchers:new Map(x.fetchers)}:{}),{flushSync:Oe}),{shortCircuited:!0}}if(!J&&(!u.v7_partialHydration||!Se)){It.forEach(we=>{let Ie=x.fetchers.get(we.key),Ce=mo(void 0,Ie?Ie.data:void 0);x.fetchers.set(we.key,Ce)});let de;ze&&!In(ze[1])?de={[ze[0]]:ze[1].data}:x.actionData&&(Object.keys(x.actionData).length===0?de=null:de=x.actionData),Ae(bt({navigation:wt},de!==void 0?{actionData:de}:{},It.length>0?{fetchers:new Map(x.fetchers)}:{}),{flushSync:Oe})}It.forEach(de=>{R.has(de.key)&&je(de.key),de.controller&&R.set(de.key,de.controller)});let gi=()=>It.forEach(de=>je(de.key));S&&S.signal.addEventListener("abort",gi);let{loaderResults:A,fetcherResults:U}=await ie(x.matches,H,dt,It,L);if(L.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",gi),It.forEach(de=>R.delete(de.key));let j=Cp([...A,...U]);if(j){if(j.idx>=dt.length){let de=It[j.idx-dt.length].key;Me.add(de)}return await $(L,j.result,{replace:Pe}),{shortCircuited:!0}}let{loaderData:B,errors:O}=Ep(x,H,dt,A,ze,It,U,ge);ge.forEach((de,we)=>{de.subscribe(Ie=>{(Ie||de.done)&&ge.delete(we)})}),u.v7_partialHydration&&Se&&x.errors&&Object.entries(x.errors).filter(de=>{let[we]=de;return!dt.some(Ie=>Ie.route.id===we)}).forEach(de=>{let[we,Ie]=de;O=Object.assign(O||{},{[we]:Ie})});let me=xe(),Ee=Ve(X),Te=me||Ee||It.length>0;return bt({loaderData:B,errors:O},Te?{fetchers:new Map(x.fetchers)}:{})}function C(L,z,H,ne){if(a)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");R.has(L)&&je(L);let fe=(ne&&ne.unstable_flushSync)===!0,Be=s||o,Pe=Nd(x.location,x.matches,l,u.v7_prependBasename,H,u.v7_relativeSplatPath,z,ne==null?void 0:ne.relative),Se=Rr(Be,Pe,l);if(!Se){pe(L,z,Rn(404,{pathname:Pe}),{flushSync:fe});return}let{path:Oe,submission:ze,error:wt}=yp(u.v7_normalizeFormMethod,!0,Pe,ne);if(wt){pe(L,z,wt,{flushSync:fe});return}let Lt=zd(Se,Oe);if(E=(ne&&ne.preventScrollReset)===!0,ze&&Xn(ze.formMethod)){M(L,z,Oe,Lt,Se,fe,ze);return}Je.set(L,{routeId:z,path:Oe}),G(L,z,Oe,Lt,Se,fe,ze)}async function M(L,z,H,ne,fe,Be,Pe){if(Re(),Je.delete(L),!ne.route.action&&!ne.route.lazy){let Ce=Rn(405,{method:Pe.formMethod,pathname:H,routeId:z});pe(L,z,Ce,{flushSync:Be});return}let Se=x.fetchers.get(L);he(L,GS(Pe,Se),{flushSync:Be});let Oe=new AbortController,ze=Qi(t.history,H,Oe.signal,Pe);R.set(L,Oe);let wt=W,Ue=(await te("action",ze,[ne],fe))[0];if(ze.signal.aborted){R.get(L)===Oe&&R.delete(L);return}if(u.v7_fetcherPersist&&ae.has(L)){if(Ui(Ue)||In(Ue)){he(L,ja(void 0));return}}else{if(Ui(Ue))if(R.delete(L),X>wt){he(L,ja(void 0));return}else return Me.add(L),he(L,mo(Pe)),$(ze,Ue,{fetcherSubmission:Pe});if(In(Ue)){pe(L,z,Ue.error);return}}if(Ni(Ue))throw Rn(400,{type:"defer-action"});let dt=x.navigation.location||x.location,It=Qi(t.history,dt,Oe.signal),gi=s||o,A=x.navigation.state!=="idle"?Rr(gi,x.navigation.location,l):x.matches;$e(A,"Didn't find any matches after fetcher action");let U=++W;ce.set(L,U);let j=mo(Pe,Ue.data);x.fetchers.set(L,j);let[B,O]=_p(t.history,x,A,Pe,dt,!1,u.unstable_skipActionErrorRevalidation,K,se,re,ae,Je,Me,gi,l,[ne.route.id,Ue]);O.filter(Ce=>Ce.key!==L).forEach(Ce=>{let ft=Ce.key,zt=x.fetchers.get(ft),an=mo(void 0,zt?zt.data:void 0);x.fetchers.set(ft,an),R.has(ft)&&je(ft),Ce.controller&&R.set(ft,Ce.controller)}),Ae({fetchers:new Map(x.fetchers)});let me=()=>O.forEach(Ce=>je(Ce.key));Oe.signal.addEventListener("abort",me);let{loaderResults:Ee,fetcherResults:Te}=await ie(x.matches,A,B,O,It);if(Oe.signal.aborted)return;Oe.signal.removeEventListener("abort",me),ce.delete(L),R.delete(L),O.forEach(Ce=>R.delete(Ce.key));let de=Cp([...Ee,...Te]);if(de){if(de.idx>=B.length){let Ce=O[de.idx-B.length].key;Me.add(Ce)}return $(It,de.result)}let{loaderData:we,errors:Ie}=Ep(x,x.matches,B,Ee,void 0,O,Te,ge);if(x.fetchers.has(L)){let Ce=ja(Ue.data);x.fetchers.set(L,Ce)}Ve(U),x.navigation.state==="loading"&&U>X?($e(P,"Expected pending action"),S&&S.abort(),rt(x.navigation.location,{matches:A,loaderData:we,errors:Ie,fetchers:new Map(x.fetchers)})):(Ae({errors:Ie,loaderData:Ap(x.loaderData,we,A,Ie),fetchers:new Map(x.fetchers)}),K=!1)}async function G(L,z,H,ne,fe,Be,Pe){let Se=x.fetchers.get(L);he(L,mo(Pe,Se?Se.data:void 0),{flushSync:Be});let Oe=new AbortController,ze=Qi(t.history,H,Oe.signal);R.set(L,Oe);let wt=W,Ue=(await te("loader",ze,[ne],fe))[0];if(Ni(Ue)&&(Ue=await Uy(Ue,ze.signal,!0)||Ue),R.get(L)===Oe&&R.delete(L),!ze.signal.aborted){if(ae.has(L)){he(L,ja(void 0));return}if(Ui(Ue))if(X>wt){he(L,ja(void 0));return}else{Me.add(L),await $(ze,Ue);return}if(In(Ue)){pe(L,z,Ue.error);return}$e(!Ni(Ue),"Unhandled fetcher deferred data"),he(L,ja(Ue.data))}}async function $(L,z,H){let{submission:ne,fetcherSubmission:fe,replace:Be}=H===void 0?{}:H;z.response.headers.has("X-Remix-Revalidate")&&(K=!0);let Pe=z.response.headers.get("Location");$e(Pe,"Expected a Location header on the redirect Response"),Pe=bp(Pe,new URL(L.url),l);let Se=ts(x.location,Pe,{_isRedirect:!0});if(n){let dt=!1;if(z.response.headers.has("X-Remix-Reload-Document"))dt=!0;else if(Xf.test(Pe)){const It=t.history.createURL(Pe);dt=It.origin!==e.location.origin||eo(It.pathname,l)==null}if(dt){Be?e.location.replace(Pe):e.location.assign(Pe);return}}S=null;let Oe=Be===!0?Nt.Replace:Nt.Push,{formMethod:ze,formAction:wt,formEncType:Lt}=x.navigation;!ne&&!fe&&ze&&wt&&Lt&&(ne=Pp(x.navigation));let Ue=ne||fe;if(TS.has(z.response.status)&&Ue&&Xn(Ue.formMethod))await Fe(Oe,Se,{submission:bt({},Ue,{formAction:Pe}),preventScrollReset:E});else{let dt=nu(Se,ne);await Fe(Oe,Se,{overrideNavigation:dt,fetcherSubmission:fe,preventScrollReset:E})}}async function te(L,z,H,ne){try{let fe=await NS(c,L,z,H,ne,r,i);return await Promise.all(fe.map((Be,Pe)=>{if(kS(Be)){let Se=Be.result;return{type:xt.redirect,response:FS(Se,z,H[Pe].route.id,ne,l,u.v7_relativeSplatPath)}}return zS(Be)}))}catch(fe){return H.map(()=>({type:xt.error,error:fe}))}}async function ie(L,z,H,ne,fe){let[Be,...Pe]=await Promise.all([H.length?te("loader",fe,H,z):[],...ne.map(Se=>{if(Se.matches&&Se.match&&Se.controller){let Oe=Qi(t.history,Se.path,Se.controller.signal);return te("loader",Oe,[Se.match],Se.matches).then(ze=>ze[0])}else return Promise.resolve({type:xt.error,error:Rn(404,{pathname:Se.path})})})]);return await Promise.all([Rp(L,H,Be,Be.map(()=>fe.signal),!1,x.loaderData),Rp(L,ne.map(Se=>Se.match),Pe,ne.map(Se=>Se.controller?Se.controller.signal:null),!0)]),{loaderResults:Be,fetcherResults:Pe}}function Re(){K=!0,se.push(...Q()),Je.forEach((L,z)=>{R.has(z)&&(re.push(z),je(z))})}function he(L,z,H){H===void 0&&(H={}),x.fetchers.set(L,z),Ae({fetchers:new Map(x.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function pe(L,z,H,ne){ne===void 0&&(ne={});let fe=Fo(x.matches,z);ue(L),Ae({errors:{[fe.route.id]:H},fetchers:new Map(x.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function He(L){return u.v7_fetcherPersist&&(V.set(L,(V.get(L)||0)+1),ae.has(L)&&ae.delete(L)),x.fetchers.get(L)||wS}function ue(L){let z=x.fetchers.get(L);R.has(L)&&!(z&&z.state==="loading"&&ce.has(L))&&je(L),Je.delete(L),ce.delete(L),Me.delete(L),ae.delete(L),x.fetchers.delete(L)}function Le(L){if(u.v7_fetcherPersist){let z=(V.get(L)||0)-1;z<=0?(V.delete(L),ae.add(L)):V.set(L,z)}else ue(L);Ae({fetchers:new Map(x.fetchers)})}function je(L){let z=R.get(L);$e(z,"Expected fetch controller: "+L),z.abort(),R.delete(L)}function De(L){for(let z of L){let H=He(z),ne=ja(H.data);x.fetchers.set(z,ne)}}function xe(){let L=[],z=!1;for(let H of Me){let ne=x.fetchers.get(H);$e(ne,"Expected fetcher: "+H),ne.state==="loading"&&(Me.delete(H),L.push(H),z=!0)}return De(L),z}function Ve(L){let z=[];for(let[H,ne]of ce)if(ne<L){let fe=x.fetchers.get(H);$e(fe,"Expected fetcher: "+H),fe.state==="loading"&&(je(H),ce.delete(H),z.push(H))}return De(z),z.length>0}function Ye(L,z){let H=x.blockers.get(L)||po;return le.get(L)!==z&&le.set(L,z),H}function yt(L){x.blockers.delete(L),le.delete(L)}function ke(L,z){let H=x.blockers.get(L)||po;$e(H.state==="unblocked"&&z.state==="blocked"||H.state==="blocked"&&z.state==="blocked"||H.state==="blocked"&&z.state==="proceeding"||H.state==="blocked"&&z.state==="unblocked"||H.state==="proceeding"&&z.state==="unblocked","Invalid blocker state transition: "+H.state+" -> "+z.state);let ne=new Map(x.blockers);ne.set(L,z),Ae({blockers:ne})}function D(L){let{currentLocation:z,nextLocation:H,historyAction:ne}=L;if(le.size===0)return;le.size>1&&qi(!1,"A router only supports one blocker at a time");let fe=Array.from(le.entries()),[Be,Pe]=fe[fe.length-1],Se=x.blockers.get(Be);if(!(Se&&Se.state==="proceeding")&&Pe({currentLocation:z,nextLocation:H,historyAction:ne}))return Be}function Q(L){let z=[];return ge.forEach((H,ne)=>{(!L||L(ne))&&(H.cancel(),z.push(ne),ge.delete(ne))}),z}function Y(L,z,H){if(p=L,_=z,y=H||null,!m&&x.navigation===tu){m=!0;let ne=tt(x.location,x.matches);ne!=null&&Ae({restoreScrollPosition:ne})}return()=>{p=null,_=null,y=null}}function ve(L,z){return y&&y(L,z.map(ne=>aS(ne,x.loaderData)))||L.key}function _e(L,z){if(p&&_){let H=ve(L,z);p[H]=_()}}function tt(L,z){if(p){let H=ve(L,z),ne=p[H];if(typeof ne=="number")return ne}return null}function ut(L){r={},s=Dd(L,i,void 0,r)}return T={get basename(){return l},get future(){return u},get state(){return x},get routes(){return o},get window(){return e},initialize:Ke,subscribe:ct,enableScrollRestoration:Y,navigate:Ne,fetch:C,revalidate:Qe,createHref:L=>t.history.createHref(L),encodeLocation:L=>t.history.encodeLocation(L),getFetcher:He,deleteFetcher:Le,dispose:F,getBlocker:Ye,deleteBlocker:yt,_internalFetchControllers:R,_internalActiveDeferreds:ge,_internalSetRoutes:ut},T}function PS(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Nd(t,e,n,a,i,r,o,s){let l,c;if(o){l=[];for(let f of e)if(l.push(f),f.route.id===o){c=f;break}}else l=e,c=e[e.length-1];let u=Gf(i||".",Vf(l,r),eo(t.pathname,n)||t.pathname,s==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!Jf(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Ta([n,u.pathname])),Wi(u)}function yp(t,e,n,a){if(!a||!PS(a))return{path:n};if(a.formMethod&&!jS(a.formMethod))return{path:n,error:Rn(405,{method:a.formMethod})};let i=()=>({path:n,error:Rn(400,{type:"invalid-body"})}),r=a.formMethod||"get",o=t?r.toUpperCase():r.toLowerCase(),s=Dy(n);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!Xn(o))return i();let h=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((p,y)=>{let[_,m]=y;return""+p+_+"="+m+`
`},""):String(a.body);return{path:n,submission:{formMethod:o,formAction:s,formEncType:a.formEncType,formData:void 0,json:void 0,text:h}}}else if(a.formEncType==="application/json"){if(!Xn(o))return i();try{let h=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:n,submission:{formMethod:o,formAction:s,formEncType:a.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}$e(typeof FormData=="function","FormData is not available in this environment");let l,c;if(a.formData)l=Ud(a.formData),c=a.formData;else if(a.body instanceof FormData)l=Ud(a.body),c=a.body;else if(a.body instanceof URLSearchParams)l=a.body,c=Mp(l);else if(a.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(a.body),c=Mp(l)}catch{return i()}let u={formMethod:o,formAction:s,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Xn(u.formMethod))return{path:n,submission:u};let f=Ia(n);return e&&f.search&&Jf(f.search)&&l.append("index",""),f.search="?"+l,{path:Wi(f),submission:u}}function LS(t,e){let n=t;if(e){let a=t.findIndex(i=>i.route.id===e);a>=0&&(n=t.slice(0,a))}return n}function _p(t,e,n,a,i,r,o,s,l,c,u,f,h,p,y,_){let m=_?In(_[1])?_[1].error:_[1].data:void 0,d=t.createURL(e.location),g=t.createURL(i),v=_&&In(_[1])?_[0]:void 0,b=v?LS(n,v):n,w=_?_[1].statusCode:void 0,T=o&&w&&w>=400,x=b.filter((E,S)=>{let{route:N}=E;if(N.lazy)return!0;if(N.loader==null)return!1;if(r)return typeof N.loader!="function"||N.loader.hydrate?!0:e.loaderData[N.id]===void 0&&(!e.errors||e.errors[N.id]===void 0);if(IS(e.loaderData,e.matches[S],E)||l.some(J=>J===E.route.id))return!0;let q=e.matches[S],I=E;return xp(E,bt({currentUrl:d,currentParams:q.params,nextUrl:g,nextParams:I.params},a,{actionResult:m,unstable_actionStatus:w,defaultShouldRevalidate:T?!1:s||d.pathname+d.search===g.pathname+g.search||d.search!==g.search||Iy(q,I)}))}),P=[];return f.forEach((E,S)=>{if(r||!n.some(K=>K.route.id===E.routeId)||u.has(S))return;let N=Rr(p,E.path,y);if(!N){P.push({key:S,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let q=e.fetchers.get(S),I=zd(N,E.path),J=!1;h.has(S)?J=!1:c.includes(S)?J=!0:q&&q.state!=="idle"&&q.data===void 0?J=s:J=xp(I,bt({currentUrl:d,currentParams:e.matches[e.matches.length-1].params,nextUrl:g,nextParams:n[n.length-1].params},a,{actionResult:m,unstable_actionStatus:w,defaultShouldRevalidate:T?!1:s})),J&&P.push({key:S,routeId:E.routeId,path:E.path,matches:N,match:I,controller:new AbortController})}),[x,P]}function IS(t,e,n){let a=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return a||i}function Iy(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function xp(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Sp(t,e,n){if(!t.lazy)return;let a=await t.lazy();if(!t.lazy)return;let i=n[t.id];$e(i,"No route found in manifest");let r={};for(let o in a){let l=i[o]!==void 0&&o!=="hasErrorBoundary";qi(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!tS.has(o)&&(r[o]=a[o])}Object.assign(i,r),Object.assign(i,bt({},e(i),{lazy:void 0}))}function DS(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function NS(t,e,n,a,i,r,o,s){let l=a.reduce((f,h)=>f.add(h.route.id),new Set),c=new Set,u=await t({matches:i.map(f=>{let h=l.has(f.route.id);return bt({},f,{shouldLoad:h,resolve:y=>(c.add(f.route.id),h?US(e,n,f,r,o,y,s):Promise.resolve({type:xt.data,result:void 0}))})}),request:n,params:i[0].params,context:s});return i.forEach(f=>$e(c.has(f.route.id),'`match.resolve()` was not called for route id "'+f.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),u.filter((f,h)=>l.has(i[h].route.id))}async function US(t,e,n,a,i,r,o){let s,l,c=u=>{let f,h=new Promise((_,m)=>f=m);l=()=>f(),e.signal.addEventListener("abort",l);let p=_=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:o},..._!==void 0?[_]:[]),y;return r?y=r(_=>p(_)):y=(async()=>{try{return{type:"data",result:await p()}}catch(_){return{type:"error",result:_}}})(),Promise.race([y,h])};try{let u=n.route[t];if(n.route.lazy)if(u){let f,[h]=await Promise.all([c(u).catch(p=>{f=p}),Sp(n.route,i,a)]);if(f!==void 0)throw f;s=h}else if(await Sp(n.route,i,a),u=n.route[t],u)s=await c(u);else if(t==="action"){let f=new URL(e.url),h=f.pathname+f.search;throw Rn(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:xt.data,result:void 0};else if(u)s=await c(u);else{let f=new URL(e.url),h=f.pathname+f.search;throw Rn(404,{pathname:h})}$e(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:xt.error,result:u}}finally{l&&e.signal.removeEventListener("abort",l)}return s}async function zS(t){let{result:e,type:n,status:a}=t;if(Ny(e)){let o;try{let s=e.headers.get("Content-Type");s&&/\bapplication\/json\b/.test(s)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(s){return{type:xt.error,error:s}}return n===xt.error?{type:xt.error,error:new qf(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:xt.data,data:o,statusCode:e.status,headers:e.headers}}if(n===xt.error)return{type:xt.error,error:e,statusCode:Wf(e)?e.status:a};if(HS(e)){var i,r;return{type:xt.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((r=e.init)==null?void 0:r.headers)&&new Headers(e.init.headers)}}return{type:xt.data,data:e,statusCode:a}}function FS(t,e,n,a,i,r){let o=t.headers.get("Location");if($e(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Xf.test(o)){let s=a.slice(0,a.findIndex(l=>l.route.id===n)+1);o=Nd(new URL(e.url),s,i,!0,o,r),t.headers.set("Location",o)}return t}function bp(t,e,n){if(Xf.test(t)){let a=t,i=a.startsWith("//")?new URL(e.protocol+a):new URL(a),r=eo(i.pathname,n)!=null;if(i.origin===e.origin&&r)return i.pathname+i.search+i.hash}return t}function Qi(t,e,n,a){let i=t.createURL(Dy(e)).toString(),r={signal:n};if(a&&Xn(a.formMethod)){let{formMethod:o,formEncType:s}=a;r.method=o.toUpperCase(),s==="application/json"?(r.headers=new Headers({"Content-Type":s}),r.body=JSON.stringify(a.json)):s==="text/plain"?r.body=a.text:s==="application/x-www-form-urlencoded"&&a.formData?r.body=Ud(a.formData):r.body=a.formData}return new Request(i,r)}function Ud(t){let e=new URLSearchParams;for(let[n,a]of t.entries())e.append(n,typeof a=="string"?a:a.name);return e}function Mp(t){let e=new FormData;for(let[n,a]of t.entries())e.append(n,a);return e}function OS(t,e,n,a,i,r){let o={},s=null,l,c=!1,u={},f=a&&In(a[1])?a[1].error:void 0;return n.forEach((h,p)=>{let y=e[p].route.id;if($e(!Ui(h),"Cannot handle redirect results in processLoaderData"),In(h)){let _=h.error;f!==void 0&&(_=f,f=void 0),s=s||{};{let m=Fo(t,y);s[m.route.id]==null&&(s[m.route.id]=_)}o[y]=void 0,c||(c=!0,l=Wf(h.error)?h.error.status:500),h.headers&&(u[y]=h.headers)}else Ni(h)?(i.set(y,h.deferredData),o[y]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!c&&(l=h.statusCode),h.headers&&(u[y]=h.headers)):(o[y]=h.data,h.statusCode&&h.statusCode!==200&&!c&&(l=h.statusCode),h.headers&&(u[y]=h.headers))}),f!==void 0&&a&&(s={[a[0]]:f},o[a[0]]=void 0),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:u}}function Ep(t,e,n,a,i,r,o,s){let{loaderData:l,errors:c}=OS(e,n,a,i,s);for(let u=0;u<r.length;u++){let{key:f,match:h,controller:p}=r[u];$e(o!==void 0&&o[u]!==void 0,"Did not find corresponding fetcher result");let y=o[u];if(!(p&&p.signal.aborted))if(In(y)){let _=Fo(t.matches,h==null?void 0:h.route.id);c&&c[_.route.id]||(c=bt({},c,{[_.route.id]:y.error})),t.fetchers.delete(f)}else if(Ui(y))$e(!1,"Unhandled fetcher revalidation redirect");else if(Ni(y))$e(!1,"Unhandled fetcher deferred data");else{let _=ja(y.data);t.fetchers.set(f,_)}}return{loaderData:l,errors:c}}function Ap(t,e,n,a){let i=bt({},e);for(let r of n){let o=r.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&r.route.loader&&(i[o]=t[o]),a&&a.hasOwnProperty(o))break}return i}function Tp(t){return t?In(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Fo(t,e){return(e?t.slice(0,t.findIndex(a=>a.route.id===e)+1):[...t]).reverse().find(a=>a.route.hasErrorBoundary===!0)||t[0]}function wp(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Rn(t,e){let{pathname:n,routeId:a,method:i,type:r}=e===void 0?{}:e,o="Unknown Server Error",s="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&a?s="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+a+'", ')+"so there is no way to handle the request.":r==="defer-action"?s="defer() is not supported in actions":r==="invalid-body"&&(s="Unable to encode submission body")):t===403?(o="Forbidden",s='Route "'+a+'" does not match URL "'+n+'"'):t===404?(o="Not Found",s='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&a?s="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+a+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new qf(t||500,o,new Error(s),!0)}function Cp(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Ui(n))return{result:n,idx:e}}}function Dy(t){let e=typeof t=="string"?Ia(t):t;return Wi(bt({},e,{hash:""}))}function BS(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function kS(t){return Ny(t.result)&&AS.has(t.result.status)}function Ni(t){return t.type===xt.deferred}function In(t){return t.type===xt.error}function Ui(t){return(t&&t.type)===xt.redirect}function HS(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Ny(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function jS(t){return ES.has(t.toLowerCase())}function Xn(t){return bS.has(t.toLowerCase())}async function Rp(t,e,n,a,i,r){for(let o=0;o<n.length;o++){let s=n[o],l=e[o];if(!l)continue;let c=t.find(f=>f.route.id===l.route.id),u=c!=null&&!Iy(c,l)&&(r&&r[l.route.id])!==void 0;if(Ni(s)&&(i||u)){let f=a[o];$e(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await Uy(s,f,i).then(h=>{h&&(n[o]=h||n[o])})}}}async function Uy(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:xt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:xt.error,error:i}}return{type:xt.data,data:t.deferredData.data}}}function Jf(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function zd(t,e){let n=typeof e=="string"?Ia(e).search:e.search;if(t[t.length-1].route.index&&Jf(n||""))return t[t.length-1];let a=Ry(t);return a[a.length-1]}function Pp(t){let{formMethod:e,formAction:n,formEncType:a,text:i,formData:r,json:o}=t;if(!(!e||!n||!a)){if(i!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:i};if(r!=null)return{formMethod:e,formAction:n,formEncType:a,formData:r,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:o,text:void 0}}}function nu(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function VS(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function mo(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function GS(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ja(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function qS(t,e){try{let n=t.sessionStorage.getItem(Ly);if(n){let a=JSON.parse(n);for(let[i,r]of Object.entries(a||{}))r&&Array.isArray(r)&&e.set(i,new Set(r||[]))}}catch{}}function WS(t,e){if(e.size>0){let n={};for(let[a,i]of e)n[a]=[...i];try{t.sessionStorage.setItem(Ly,JSON.stringify(n))}catch(a){qi(!1,"Failed to save applied view transitions in sessionStorage ("+a+").")}}}/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ql.apply(this,arguments)}const yc=Z.createContext(null),zy=Z.createContext(null),Yi=Z.createContext(null),Kf=Z.createContext(null),Da=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),Fy=Z.createContext(null);function XS(t,e){let{relative:n}=e===void 0?{}:e;us()||$e(!1);let{basename:a,navigator:i}=Z.useContext(Yi),{hash:r,pathname:o,search:s}=By(t,{relative:n}),l=o;return a!=="/"&&(l=o==="/"?a:Ta([a,o])),i.createHref({pathname:l,search:s,hash:r})}function us(){return Z.useContext(Kf)!=null}function _c(){return us()||$e(!1),Z.useContext(Kf).location}function Oy(t){Z.useContext(Yi).static||Z.useLayoutEffect(t)}function JS(){let{isDataRoute:t}=Z.useContext(Da);return t?c1():KS()}function KS(){us()||$e(!1);let t=Z.useContext(yc),{basename:e,future:n,navigator:a}=Z.useContext(Yi),{matches:i}=Z.useContext(Da),{pathname:r}=_c(),o=JSON.stringify(Vf(i,n.v7_relativeSplatPath)),s=Z.useRef(!1);return Oy(()=>{s.current=!0}),Z.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){a.go(c);return}let f=Gf(c,JSON.parse(o),r,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ta([e,f.pathname])),(u.replace?a.replace:a.push)(f,u.state,u)},[e,a,o,r,t])}const YS=Z.createContext(null);function $S(t){let e=Z.useContext(Da).outlet;return e&&Z.createElement(YS.Provider,{value:t},e)}function ZS(){let{matches:t}=Z.useContext(Da),e=t[t.length-1];return e?e.params:{}}function By(t,e){let{relative:n}=e===void 0?{}:e,{future:a}=Z.useContext(Yi),{matches:i}=Z.useContext(Da),{pathname:r}=_c(),o=JSON.stringify(Vf(i,a.v7_relativeSplatPath));return Z.useMemo(()=>Gf(t,JSON.parse(o),r,n==="path"),[t,o,r,n])}function QS(t,e,n,a){us()||$e(!1);let{navigator:i}=Z.useContext(Yi),{matches:r}=Z.useContext(Da),o=r[r.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=_c(),u;u=c;let f=u.pathname||"/",h=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let p=Rr(t,{pathname:h});return i1(p&&p.map(_=>Object.assign({},_,{params:Object.assign({},s,_.params),pathname:Ta([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Ta([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),r,n,a)}function e1(){let t=l1(),e=Wf(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),n?Z.createElement("pre",{style:i},n):null,null)}const t1=Z.createElement(e1,null);class n1 extends Z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Z.createElement(Da.Provider,{value:this.props.routeContext},Z.createElement(Fy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function a1(t){let{routeContext:e,match:n,children:a}=t,i=Z.useContext(yc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Z.createElement(Da.Provider,{value:e},a)}function i1(t,e,n,a){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),a===void 0&&(a=null),t==null){var r;if((r=n)!=null&&r.errors)t=n.matches;else return null}let o=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let u=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);u>=0||$e(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&a&&a.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let p,y=!1,_=null,m=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,_=f.route.errorElement||t1,l&&(c<0&&h===0?(u1("route-fallback"),y=!0,m=null):c===h&&(y=!0,m=f.route.hydrateFallbackElement||null)));let d=e.concat(o.slice(0,h+1)),g=()=>{let v;return p?v=_:y?v=m:f.route.Component?v=Z.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=u,Z.createElement(a1,{match:f,routeContext:{outlet:u,matches:d,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?Z.createElement(n1,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:g(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):g()},null)}var ky=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ky||{}),Wl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wl||{});function r1(t){let e=Z.useContext(yc);return e||$e(!1),e}function o1(t){let e=Z.useContext(zy);return e||$e(!1),e}function s1(t){let e=Z.useContext(Da);return e||$e(!1),e}function Hy(t){let e=s1(),n=e.matches[e.matches.length-1];return n.route.id||$e(!1),n.route.id}function l1(){var t;let e=Z.useContext(Fy),n=o1(Wl.UseRouteError),a=Hy(Wl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[a]}function c1(){let{router:t}=r1(ky.UseNavigateStable),e=Hy(Wl.UseNavigateStable),n=Z.useRef(!1);return Oy(()=>{n.current=!0}),Z.useCallback(function(i,r){r===void 0&&(r={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ql({fromRouteId:e},r)))},[t,e])}const Lp={};function u1(t,e,n){Lp[t]||(Lp[t]=!0)}function d1(t){return $S(t.context)}function f1(t){let{basename:e="/",children:n=null,location:a,navigationType:i=Nt.Pop,navigator:r,static:o=!1,future:s}=t;us()&&$e(!1);let l=e.replace(/^\/*/,"/"),c=Z.useMemo(()=>({basename:l,navigator:r,static:o,future:ql({v7_relativeSplatPath:!1},s)}),[l,s,r,o]);typeof a=="string"&&(a=Ia(a));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:y="default"}=a,_=Z.useMemo(()=>{let m=eo(u,l);return m==null?null:{location:{pathname:m,search:f,hash:h,state:p,key:y},navigationType:i}},[l,u,f,h,p,y,i]);return _==null?null:Z.createElement(Yi.Provider,{value:c},Z.createElement(Kf.Provider,{children:n,value:_}))}new Promise(()=>{});function h1(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:Z.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:Z.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:Z.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ns(){return ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ns.apply(this,arguments)}function p1(t,e){if(t==null)return{};var n={},a=Object.keys(t),i,r;for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function m1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function g1(t,e){return t.button===0&&(!e||e==="_self")&&!m1(t)}const v1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],y1="6";try{window.__reactRouterVersion=y1}catch{}function _1(t,e){return RS({basename:void 0,future:ns({},void 0,{v7_prependBasename:!0}),history:Zx({window:void 0}),hydrationData:x1(),routes:t,mapRouteProperties:h1,unstable_dataStrategy:void 0,window:void 0}).initialize()}function x1(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ns({},e,{errors:S1(e.errors)})),e}function S1(t){if(!t)return null;let e=Object.entries(t),n={};for(let[a,i]of e)if(i&&i.__type==="RouteErrorResponse")n[a]=new qf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let r=window[i.__subType];if(typeof r=="function")try{let o=new r(i.message);o.stack="",n[a]=o}catch{}}if(n[a]==null){let r=new Error(i.message);r.stack="",n[a]=r}}else n[a]=i;return n}const b1=Z.createContext({isTransitioning:!1}),M1=Z.createContext(new Map),E1="startTransition",Ip=B0[E1],A1="flushSync",Dp=$x[A1];function T1(t){Ip?Ip(t):t()}function go(t){Dp?Dp(t):t()}class w1{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}}function C1(t){let{fallbackElement:e,router:n,future:a}=t,[i,r]=Z.useState(n.state),[o,s]=Z.useState(),[l,c]=Z.useState({isTransitioning:!1}),[u,f]=Z.useState(),[h,p]=Z.useState(),[y,_]=Z.useState(),m=Z.useRef(new Map),{v7_startTransition:d}=a||{},g=Z.useCallback(x=>{d?T1(x):x()},[d]),v=Z.useCallback((x,P)=>{let{deletedFetchers:E,unstable_flushSync:S,unstable_viewTransitionOpts:N}=P;E.forEach(I=>m.current.delete(I)),x.fetchers.forEach((I,J)=>{I.data!==void 0&&m.current.set(J,I.data)});let q=n.window==null||typeof n.window.document.startViewTransition!="function";if(!N||q){S?go(()=>r(x)):g(()=>r(x));return}if(S){go(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let I=n.window.document.startViewTransition(()=>{go(()=>r(x))});I.finished.finally(()=>{go(()=>{f(void 0),p(void 0),s(void 0),c({isTransitioning:!1})})}),go(()=>p(I));return}h?(u&&u.resolve(),h.skipTransition(),_({state:x,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(s(x),c({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[n.window,h,u,m,g]);Z.useLayoutEffect(()=>n.subscribe(v),[n,v]),Z.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new w1)},[l]),Z.useEffect(()=>{if(u&&o&&n.window){let x=o,P=u.promise,E=n.window.document.startViewTransition(async()=>{g(()=>r(x)),await P});E.finished.finally(()=>{f(void 0),p(void 0),s(void 0),c({isTransitioning:!1})}),p(E)}},[g,o,u,n.window]),Z.useEffect(()=>{u&&o&&i.location.key===o.location.key&&u.resolve()},[u,h,i.location,o]),Z.useEffect(()=>{!l.isTransitioning&&y&&(s(y.state),c({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),_(void 0))},[l.isTransitioning,y]),Z.useEffect(()=>{},[]);let b=Z.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:x=>n.navigate(x),push:(x,P,E)=>n.navigate(x,{state:P,preventScrollReset:E==null?void 0:E.preventScrollReset}),replace:(x,P,E)=>n.navigate(x,{replace:!0,state:P,preventScrollReset:E==null?void 0:E.preventScrollReset})}),[n]),w=n.basename||"/",T=Z.useMemo(()=>({router:n,navigator:b,static:!1,basename:w}),[n,b,w]);return Z.createElement(Z.Fragment,null,Z.createElement(yc.Provider,{value:T},Z.createElement(zy.Provider,{value:i},Z.createElement(M1.Provider,{value:m.current},Z.createElement(b1.Provider,{value:l},Z.createElement(f1,{basename:w,location:i.location,navigationType:i.historyAction,navigator:b,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?Z.createElement(R1,{routes:n.routes,future:n.future,state:i}):e))))),null)}function R1(t){let{routes:e,future:n,state:a}=t;return QS(e,void 0,a,n)}const P1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jy=Z.forwardRef(function(e,n){let{onClick:a,relative:i,reloadDocument:r,replace:o,state:s,target:l,to:c,preventScrollReset:u,unstable_viewTransition:f}=e,h=p1(e,v1),{basename:p}=Z.useContext(Yi),y,_=!1;if(typeof c=="string"&&L1.test(c)&&(y=c,P1))try{let v=new URL(window.location.href),b=c.startsWith("//")?new URL(v.protocol+c):new URL(c),w=eo(b.pathname,p);b.origin===v.origin&&w!=null?c=w+b.search+b.hash:_=!0}catch{}let m=XS(c,{relative:i}),d=I1(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:f});function g(v){a&&a(v),v.defaultPrevented||d(v)}return Z.createElement("a",ns({},h,{href:y||m,onClick:_||r?a:g,ref:n,target:l}))});var Np;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Np||(Np={}));var Up;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Up||(Up={}));function I1(t,e){let{target:n,replace:a,state:i,preventScrollReset:r,relative:o,unstable_viewTransition:s}=e===void 0?{}:e,l=JS(),c=_c(),u=By(t,{relative:o});return Z.useCallback(f=>{if(g1(f,n)){f.preventDefault();let h=a!==void 0?a:Wi(c)===Wi(u);l(t,{replace:h,state:i,preventScrollReset:r,relative:o,unstable_viewTransition:s})}},[c,l,u,a,i,n,t,r,o,s])}const D1="_container_1t3mi_1",N1="_dot_1t3mi_11",U1="_blink_1t3mi_1",z1="_blurEffect_1t3mi_1",zp={container:D1,dot:N1,blink:U1,blurEffect:z1},F1=()=>{const[t,e]=Z.useState([]);return Z.useEffect(()=>{const n=()=>{const i=[];for(let r=0;r<100;r++)i.push({id:r,x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,size:Math.random()*2+1,animationDelay:Math.random()*3});e(i)};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),ee.jsx("div",{className:zp.container,children:t.map(n=>ee.jsx("div",{className:zp.dot,style:{left:`${n.x}px`,top:`${n.y}px`,width:`${n.size}px`,height:`${n.size}px`,animationDelay:`${n.animationDelay}s`}},n.id))})},O1="_container_141lv_1",B1="_node_141lv_14",k1="_button_141lv_22",H1="_line_141lv_52",j1="_whiteLayer_141lv_61",V1="_lidiadorText_141lv_79",yi={container:O1,node:B1,button:k1,line:H1,whiteLayer:j1,lidiadorText:V1},Ns=[{id:1,label:"MUSICA"},{id:2,label:"TECNOLOGIA"},{id:3,label:"DISEO"},{id:4,label:"ILUSTRACION"},{id:5,label:"CINE"},{id:6,label:"VIDEO"},{id:7,label:"VJ"},{id:8,label:"DISEO WEB"}],G1=()=>{const[t,e]=Z.useState([]),[n,a]=Z.useState({x:0,y:0}),[i,r]=Z.useState(!1);Z.useEffect(()=>{const s=Ns.map(()=>({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight}));e(s)},[]),Z.useEffect(()=>{const s=l=>{a({x:l.clientX,y:l.clientY})};return window.addEventListener("mousemove",s),()=>window.removeEventListener("mousemove",s)},[]);const o=()=>{const s=t.map(l=>{const c=Math.sqrt(Math.pow(n.x-l.x,2)+Math.pow(n.y-l.y,2)),f=Math.min(1,Math.max(0,100/c))*30,h=Math.atan2(n.y-l.y,n.x-l.x);return{x:l.x+f*Math.cos(h),y:l.y+f*Math.sin(h)}});e(s)};return Z.useEffect(()=>{const s=setInterval(()=>{o()},16);return()=>clearInterval(s)},[t,n]),ee.jsx("div",{className:yi.container,children:ee.jsxs(jy,{to:"/crear",className:yi.link,children:[ee.jsx("div",{className:yi.whiteLayer}),i&&ee.jsx("div",{className:yi.lidiadorText,children:"LIDIADOR"}),t.map((s,l)=>ee.jsx("div",{className:yi.node,style:{left:s.x,top:s.y,transform:"translate(-50%, -50%)"},onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:ee.jsx("button",{className:yi.button,onClick:()=>alert(`Accin para ${Ns[l].label}`),children:Ns[l].label})},Ns[l].id)),t.map((s,l)=>t.slice(l+1).map((c,u)=>ee.jsx("svg",{className:yi.line,children:ee.jsx("path",{d:`M${s.x} ${s.y} Q${(s.x+c.x)/2} ${(s.y+c.y)/2} ${c.x} ${c.y}`,stroke:"white",strokeWidth:"1",fill:"none"})},`line-${l}-${l+u+1}`)))]})})};function q1(){return ee.jsxs(ee.Fragment,{children:[ee.jsx(G1,{}),ee.jsx(F1,{}),ee.jsx("h1",{children:"Lidiador"}),ee.jsx("h3",{children:"Arte disidente"}),ee.jsx(jy,{to:"/crear",children:ee.jsx("h4",{children:"crear"})})]})}const W1="_three_1mdm9_1",X1="_title_1mdm9_9",au={three:W1,title:X1},J1=()=>{const{category:t}=ZS();return ee.jsxs("div",{className:au.crear,children:[ee.jsxs("h2",{className:au.title,children:["Modo Crear - ",t]}),ee.jsxs("div",{className:au.content,children:[t==="cine"&&ee.jsx("p",{children:"Contenido relacionado con Cine."}),t==="video"&&ee.jsx("p",{children:"Contenido relacionado con Video."}),t==="musica"&&ee.jsx("p",{children:"Contenido relacionado con Msica."}),t==="it"&&ee.jsx("p",{children:"Contenido relacionado con IT."}),t==="vj"&&ee.jsx("p",{children:"Contenido relacionado con VJ."}),t==="fotografia"&&ee.jsx("p",{children:"Contenido relacionado con Fotografa."}),t==="politica"&&ee.jsx("p",{children:"Contenido relacionado con Poltica."}),t==="ilustracion"&&ee.jsx("p",{children:"Contenido relacionado con Ilustracin."}),!t&&ee.jsx("p",{children:"Selecciona una categora."})]})]})};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Yf="164",K1=0,Fp=1,Y1=2,Vy=1,$1=2,va=3,ci=0,yn=1,xa=2,ri=0,Fr=1,Fd=2,Op=3,Bp=4,Z1=5,Ri=100,Q1=101,eb=102,tb=103,nb=104,ab=200,ib=201,rb=202,ob=203,Od=204,Bd=205,sb=206,lb=207,cb=208,ub=209,db=210,fb=211,hb=212,pb=213,mb=214,gb=0,vb=1,yb=2,Xl=3,_b=4,xb=5,Sb=6,bb=7,$f=0,Mb=1,Eb=2,oi=0,Ab=1,Tb=2,wb=3,Cb=4,Rb=5,Pb=6,Lb=7,Gy=300,Xr=301,Jr=302,kd=303,Hd=304,xc=306,jd=1e3,zi=1001,Vd=1002,Un=1003,Ib=1004,Us=1005,Kn=1006,iu=1007,Fi=1008,ui=1009,Db=1010,Nb=1011,qy=1012,Wy=1013,Kr=1014,Ya=1015,Sc=1016,Xy=1017,Jy=1018,ds=1020,Ub=35902,zb=1021,Fb=1022,oa=1023,Ob=1024,Bb=1025,Or=1026,as=1027,kb=1028,Ky=1029,Hb=1030,Yy=1031,$y=1033,ru=33776,ou=33777,su=33778,lu=33779,kp=35840,Hp=35841,jp=35842,Vp=35843,Gp=36196,qp=37492,Wp=37496,Xp=37808,Jp=37809,Kp=37810,Yp=37811,$p=37812,Zp=37813,Qp=37814,em=37815,tm=37816,nm=37817,am=37818,im=37819,rm=37820,om=37821,cu=36492,sm=36494,lm=36495,jb=36283,cm=36284,um=36285,dm=36286,Vb=3200,Gb=3201,Zy=0,qb=1,Xa="",na="srgb",mi="srgb-linear",Zf="display-p3",bc="display-p3-linear",Jl="linear",mt="srgb",Kl="rec709",Yl="p3",er=7680,fm=519,Wb=512,Xb=513,Jb=514,Qy=515,Kb=516,Yb=517,$b=518,Zb=519,hm=35044,pm="300 es",Ma=2e3,$l=2001;class to{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const a=this._listeners;a[e]===void 0&&(a[e]=[]),a[e].indexOf(n)===-1&&a[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const a=this._listeners;return a[e]!==void 0&&a[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const a=this._listeners[e.type];if(a!==void 0){e.target=this;const i=a.slice(0);for(let r=0,o=i.length;r<o;r++)i[r].call(this,e);e.target=null}}}const Zt=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],uu=Math.PI/180,Gd=180/Math.PI;function fs(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,a=Math.random()*4294967295|0;return(Zt[t&255]+Zt[t>>8&255]+Zt[t>>16&255]+Zt[t>>24&255]+"-"+Zt[e&255]+Zt[e>>8&255]+"-"+Zt[e>>16&15|64]+Zt[e>>24&255]+"-"+Zt[n&63|128]+Zt[n>>8&255]+"-"+Zt[n>>16&255]+Zt[n>>24&255]+Zt[a&255]+Zt[a>>8&255]+Zt[a>>16&255]+Zt[a>>24&255]).toLowerCase()}function hn(t,e,n){return Math.max(e,Math.min(n,t))}function Qb(t,e){return(t%e+e)%e}function du(t,e,n){return(1-n)*t+n*e}function vo(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function dn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class it{constructor(e=0,n=0){it.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,a=this.y,i=e.elements;return this.x=i[0]*n+i[3]*a+i[6],this.y=i[1]*n+i[4]*a+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(e,Math.min(n,a)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const a=this.dot(e)/n;return Math.acos(hn(a,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,a=this.y-e.y;return n*n+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,a){return this.x=e.x+(n.x-e.x)*a,this.y=e.y+(n.y-e.y)*a,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const a=Math.cos(n),i=Math.sin(n),r=this.x-e.x,o=this.y-e.y;return this.x=r*a-o*i+e.x,this.y=r*i+o*a+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class We{constructor(e,n,a,i,r,o,s,l,c){We.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,a,i,r,o,s,l,c)}set(e,n,a,i,r,o,s,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=s,u[3]=n,u[4]=r,u[5]=l,u[6]=a,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,a=e.elements;return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],n[6]=a[6],n[7]=a[7],n[8]=a[8],this}extractBasis(e,n,a){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),a.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const a=e.elements,i=n.elements,r=this.elements,o=a[0],s=a[3],l=a[6],c=a[1],u=a[4],f=a[7],h=a[2],p=a[5],y=a[8],_=i[0],m=i[3],d=i[6],g=i[1],v=i[4],b=i[7],w=i[2],T=i[5],x=i[8];return r[0]=o*_+s*g+l*w,r[3]=o*m+s*v+l*T,r[6]=o*d+s*b+l*x,r[1]=c*_+u*g+f*w,r[4]=c*m+u*v+f*T,r[7]=c*d+u*b+f*x,r[2]=h*_+p*g+y*w,r[5]=h*m+p*v+y*T,r[8]=h*d+p*b+y*x,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],a=e[1],i=e[2],r=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*s*c-a*r*u+a*s*l+i*r*c-i*o*l}invert(){const e=this.elements,n=e[0],a=e[1],i=e[2],r=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=u*o-s*c,h=s*l-u*r,p=c*r-o*l,y=n*f+a*h+i*p;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/y;return e[0]=f*_,e[1]=(i*c-u*a)*_,e[2]=(s*a-i*o)*_,e[3]=h*_,e[4]=(u*n-i*l)*_,e[5]=(i*r-s*n)*_,e[6]=p*_,e[7]=(a*l-c*n)*_,e[8]=(o*n-a*r)*_,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,a,i,r,o,s){const l=Math.cos(r),c=Math.sin(r);return this.set(a*l,a*c,-a*(l*o+c*s)+o+e,-i*c,i*l,-i*(-c*o+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(fu.makeScale(e,n)),this}rotate(e){return this.premultiply(fu.makeRotation(-e)),this}translate(e,n){return this.premultiply(fu.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),a=Math.sin(e);return this.set(n,-a,0,a,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,a=e.elements;for(let i=0;i<9;i++)if(n[i]!==a[i])return!1;return!0}fromArray(e,n=0){for(let a=0;a<9;a++)this.elements[a]=e[a+n];return this}toArray(e=[],n=0){const a=this.elements;return e[n]=a[0],e[n+1]=a[1],e[n+2]=a[2],e[n+3]=a[3],e[n+4]=a[4],e[n+5]=a[5],e[n+6]=a[6],e[n+7]=a[7],e[n+8]=a[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const fu=new We;function e0(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function is(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function eM(){const t=is("canvas");return t.style.display="block",t}const mm={};function tM(t){t in mm||(mm[t]=!0,console.warn(t))}const gm=new We().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),vm=new We().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),zs={[mi]:{transfer:Jl,primaries:Kl,toReference:t=>t,fromReference:t=>t},[na]:{transfer:mt,primaries:Kl,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[bc]:{transfer:Jl,primaries:Yl,toReference:t=>t.applyMatrix3(vm),fromReference:t=>t.applyMatrix3(gm)},[Zf]:{transfer:mt,primaries:Yl,toReference:t=>t.convertSRGBToLinear().applyMatrix3(vm),fromReference:t=>t.applyMatrix3(gm).convertLinearToSRGB()}},nM=new Set([mi,bc]),lt={enabled:!0,_workingColorSpace:mi,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!nM.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const a=zs[e].toReference,i=zs[n].fromReference;return i(a(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return zs[t].primaries},getTransfer:function(t){return t===Xa?Jl:zs[t].transfer}};function Br(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function hu(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let tr;class aM{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{tr===void 0&&(tr=is("canvas")),tr.width=e.width,tr.height=e.height;const a=tr.getContext("2d");e instanceof ImageData?a.putImageData(e,0,0):a.drawImage(e,0,0,e.width,e.height),n=tr}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=is("canvas");n.width=e.width,n.height=e.height;const a=n.getContext("2d");a.drawImage(e,0,0,e.width,e.height);const i=a.getImageData(0,0,e.width,e.height),r=i.data;for(let o=0;o<r.length;o++)r[o]=Br(r[o]/255)*255;return a.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let a=0;a<n.length;a++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[a]=Math.floor(Br(n[a]/255)*255):n[a]=Br(n[a]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let iM=0;class t0{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:iM++}),this.uuid=fs(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const a={uuid:this.uuid,url:""},i=this.data;if(i!==null){let r;if(Array.isArray(i)){r=[];for(let o=0,s=i.length;o<s;o++)i[o].isDataTexture?r.push(pu(i[o].image)):r.push(pu(i[o]))}else r=pu(i);a.url=r}return n||(e.images[this.uuid]=a),a}}function pu(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?aM.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let rM=0;class ln extends to{constructor(e=ln.DEFAULT_IMAGE,n=ln.DEFAULT_MAPPING,a=zi,i=zi,r=Kn,o=Fi,s=oa,l=ui,c=ln.DEFAULT_ANISOTROPY,u=Xa){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:rM++}),this.uuid=fs(),this.name="",this.source=new t0(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=a,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new it(0,0),this.repeat=new it(1,1),this.center=new it(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new We,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const a={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(a.userData=this.userData),n||(e.textures[this.uuid]=a),a}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Gy)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case jd:e.x=e.x-Math.floor(e.x);break;case zi:e.x=e.x<0?0:1;break;case Vd:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case jd:e.y=e.y-Math.floor(e.y);break;case zi:e.y=e.y<0?0:1;break;case Vd:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ln.DEFAULT_IMAGE=null;ln.DEFAULT_MAPPING=Gy;ln.DEFAULT_ANISOTROPY=1;class Vt{constructor(e=0,n=0,a=0,i=1){Vt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=a,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,a,i){return this.x=e,this.y=n,this.z=a,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,a=this.y,i=this.z,r=this.w,o=e.elements;return this.x=o[0]*n+o[4]*a+o[8]*i+o[12]*r,this.y=o[1]*n+o[5]*a+o[9]*i+o[13]*r,this.z=o[2]*n+o[6]*a+o[10]*i+o[14]*r,this.w=o[3]*n+o[7]*a+o[11]*i+o[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,a,i,r;const l=e.elements,c=l[0],u=l[4],f=l[8],h=l[1],p=l[5],y=l[9],_=l[2],m=l[6],d=l[10];if(Math.abs(u-h)<.01&&Math.abs(f-_)<.01&&Math.abs(y-m)<.01){if(Math.abs(u+h)<.1&&Math.abs(f+_)<.1&&Math.abs(y+m)<.1&&Math.abs(c+p+d-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const v=(c+1)/2,b=(p+1)/2,w=(d+1)/2,T=(u+h)/4,x=(f+_)/4,P=(y+m)/4;return v>b&&v>w?v<.01?(a=0,i=.707106781,r=.707106781):(a=Math.sqrt(v),i=T/a,r=x/a):b>w?b<.01?(a=.707106781,i=0,r=.707106781):(i=Math.sqrt(b),a=T/i,r=P/i):w<.01?(a=.707106781,i=.707106781,r=0):(r=Math.sqrt(w),a=x/r,i=P/r),this.set(a,i,r,n),this}let g=Math.sqrt((m-y)*(m-y)+(f-_)*(f-_)+(h-u)*(h-u));return Math.abs(g)<.001&&(g=1),this.x=(m-y)/g,this.y=(f-_)/g,this.z=(h-u)/g,this.w=Math.acos((c+p+d-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(e,Math.min(n,a)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,a){return this.x=e.x+(n.x-e.x)*a,this.y=e.y+(n.y-e.y)*a,this.z=e.z+(n.z-e.z)*a,this.w=e.w+(n.w-e.w)*a,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class oM extends to{constructor(e=1,n=1,a={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Vt(0,0,e,n),this.scissorTest=!1,this.viewport=new Vt(0,0,e,n);const i={width:e,height:n,depth:1};a=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Kn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},a);const r=new ln(i,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.colorSpace);r.flipY=!1,r.generateMipmaps=a.generateMipmaps,r.internalFormat=a.internalFormat,this.textures=[];const o=a.count;for(let s=0;s<o;s++)this.textures[s]=r.clone(),this.textures[s].isRenderTargetTexture=!0;this.depthBuffer=a.depthBuffer,this.stencilBuffer=a.stencilBuffer,this.resolveDepthBuffer=a.resolveDepthBuffer,this.resolveStencilBuffer=a.resolveStencilBuffer,this.depthTexture=a.depthTexture,this.samples=a.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,a=1){if(this.width!==e||this.height!==n||this.depth!==a){this.width=e,this.height=n,this.depth=a;for(let i=0,r=this.textures.length;i<r;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=a;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let a=0,i=e.textures.length;a<i;a++)this.textures[a]=e.textures[a].clone(),this.textures[a].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new t0(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Xi extends oM{constructor(e=1,n=1,a={}){super(e,n,a),this.isWebGLRenderTarget=!0}}class n0 extends ln{constructor(e=null,n=1,a=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:a,depth:i},this.magFilter=Un,this.minFilter=Un,this.wrapR=zi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class sM extends ln{constructor(e=null,n=1,a=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:a,depth:i},this.magFilter=Un,this.minFilter=Un,this.wrapR=zi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class hs{constructor(e=0,n=0,a=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=a,this._w=i}static slerpFlat(e,n,a,i,r,o,s){let l=a[i+0],c=a[i+1],u=a[i+2],f=a[i+3];const h=r[o+0],p=r[o+1],y=r[o+2],_=r[o+3];if(s===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(s===1){e[n+0]=h,e[n+1]=p,e[n+2]=y,e[n+3]=_;return}if(f!==_||l!==h||c!==p||u!==y){let m=1-s;const d=l*h+c*p+u*y+f*_,g=d>=0?1:-1,v=1-d*d;if(v>Number.EPSILON){const w=Math.sqrt(v),T=Math.atan2(w,d*g);m=Math.sin(m*T)/w,s=Math.sin(s*T)/w}const b=s*g;if(l=l*m+h*b,c=c*m+p*b,u=u*m+y*b,f=f*m+_*b,m===1-s){const w=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=w,c*=w,u*=w,f*=w}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,a,i,r,o){const s=a[i],l=a[i+1],c=a[i+2],u=a[i+3],f=r[o],h=r[o+1],p=r[o+2],y=r[o+3];return e[n]=s*y+u*f+l*p-c*h,e[n+1]=l*y+u*h+c*f-s*p,e[n+2]=c*y+u*p+s*h-l*f,e[n+3]=u*y-s*f-l*h-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,a,i){return this._x=e,this._y=n,this._z=a,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const a=e._x,i=e._y,r=e._z,o=e._order,s=Math.cos,l=Math.sin,c=s(a/2),u=s(i/2),f=s(r/2),h=l(a/2),p=l(i/2),y=l(r/2);switch(o){case"XYZ":this._x=h*u*f+c*p*y,this._y=c*p*f-h*u*y,this._z=c*u*y+h*p*f,this._w=c*u*f-h*p*y;break;case"YXZ":this._x=h*u*f+c*p*y,this._y=c*p*f-h*u*y,this._z=c*u*y-h*p*f,this._w=c*u*f+h*p*y;break;case"ZXY":this._x=h*u*f-c*p*y,this._y=c*p*f+h*u*y,this._z=c*u*y+h*p*f,this._w=c*u*f-h*p*y;break;case"ZYX":this._x=h*u*f-c*p*y,this._y=c*p*f+h*u*y,this._z=c*u*y-h*p*f,this._w=c*u*f+h*p*y;break;case"YZX":this._x=h*u*f+c*p*y,this._y=c*p*f+h*u*y,this._z=c*u*y-h*p*f,this._w=c*u*f-h*p*y;break;case"XZY":this._x=h*u*f-c*p*y,this._y=c*p*f-h*u*y,this._z=c*u*y+h*p*f,this._w=c*u*f+h*p*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const a=n/2,i=Math.sin(a);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(a),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,a=n[0],i=n[4],r=n[8],o=n[1],s=n[5],l=n[9],c=n[2],u=n[6],f=n[10],h=a+s+f;if(h>0){const p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(u-l)*p,this._y=(r-c)*p,this._z=(o-i)*p}else if(a>s&&a>f){const p=2*Math.sqrt(1+a-s-f);this._w=(u-l)/p,this._x=.25*p,this._y=(i+o)/p,this._z=(r+c)/p}else if(s>f){const p=2*Math.sqrt(1+s-a-f);this._w=(r-c)/p,this._x=(i+o)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+f-a-s);this._w=(o-i)/p,this._x=(r+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let a=e.dot(n)+1;return a<Number.EPSILON?(a=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=a):(this._x=0,this._y=-e.z,this._z=e.y,this._w=a)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=a),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(hn(this.dot(e),-1,1)))}rotateTowards(e,n){const a=this.angleTo(e);if(a===0)return this;const i=Math.min(1,n/a);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const a=e._x,i=e._y,r=e._z,o=e._w,s=n._x,l=n._y,c=n._z,u=n._w;return this._x=a*u+o*s+i*c-r*l,this._y=i*u+o*l+r*s-a*c,this._z=r*u+o*c+a*l-i*s,this._w=o*u-a*s-i*l-r*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const a=this._x,i=this._y,r=this._z,o=this._w;let s=o*e._w+a*e._x+i*e._y+r*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=a,this._y=i,this._z=r,this;const l=1-s*s;if(l<=Number.EPSILON){const p=1-n;return this._w=p*o+n*this._w,this._x=p*a+n*this._x,this._y=p*i+n*this._y,this._z=p*r+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,s),f=Math.sin((1-n)*u)/c,h=Math.sin(n*u)/c;return this._w=o*f+this._w*h,this._x=a*f+this._x*h,this._y=i*f+this._y*h,this._z=r*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,a){return this.copy(e).slerp(n,a)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),a=Math.random(),i=Math.sqrt(1-a),r=Math.sqrt(a);return this.set(i*Math.sin(e),i*Math.cos(e),r*Math.sin(n),r*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class k{constructor(e=0,n=0,a=0){k.prototype.isVector3=!0,this.x=e,this.y=n,this.z=a}set(e,n,a){return a===void 0&&(a=this.z),this.x=e,this.y=n,this.z=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(ym.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(ym.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,a=this.y,i=this.z,r=e.elements;return this.x=r[0]*n+r[3]*a+r[6]*i,this.y=r[1]*n+r[4]*a+r[7]*i,this.z=r[2]*n+r[5]*a+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,a=this.y,i=this.z,r=e.elements,o=1/(r[3]*n+r[7]*a+r[11]*i+r[15]);return this.x=(r[0]*n+r[4]*a+r[8]*i+r[12])*o,this.y=(r[1]*n+r[5]*a+r[9]*i+r[13])*o,this.z=(r[2]*n+r[6]*a+r[10]*i+r[14])*o,this}applyQuaternion(e){const n=this.x,a=this.y,i=this.z,r=e.x,o=e.y,s=e.z,l=e.w,c=2*(o*i-s*a),u=2*(s*n-r*i),f=2*(r*a-o*n);return this.x=n+l*c+o*f-s*u,this.y=a+l*u+s*c-r*f,this.z=i+l*f+r*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,a=this.y,i=this.z,r=e.elements;return this.x=r[0]*n+r[4]*a+r[8]*i,this.y=r[1]*n+r[5]*a+r[9]*i,this.z=r[2]*n+r[6]*a+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(e,Math.min(n,a)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,a){return this.x=e.x+(n.x-e.x)*a,this.y=e.y+(n.y-e.y)*a,this.z=e.z+(n.z-e.z)*a,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const a=e.x,i=e.y,r=e.z,o=n.x,s=n.y,l=n.z;return this.x=i*l-r*s,this.y=r*o-a*l,this.z=a*s-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const a=e.dot(this)/n;return this.copy(e).multiplyScalar(a)}projectOnPlane(e){return mu.copy(this).projectOnVector(e),this.sub(mu)}reflect(e){return this.sub(mu.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const a=this.dot(e)/n;return Math.acos(hn(a,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,a=this.y-e.y,i=this.z-e.z;return n*n+a*a+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,a){const i=Math.sin(n)*e;return this.x=i*Math.sin(a),this.y=Math.cos(n)*e,this.z=i*Math.cos(a),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,a){return this.x=e*Math.sin(n),this.y=a,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),a=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=a,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,a=Math.sqrt(1-n*n);return this.x=a*Math.cos(e),this.y=n,this.z=a*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const mu=new k,ym=new hs;class ps{constructor(e=new k(1/0,1/0,1/0),n=new k(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,a=e.length;n<a;n+=3)this.expandByPoint(jn.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,a=e.count;n<a;n++)this.expandByPoint(jn.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,a=e.length;n<a;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const a=jn.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(a),this.max.copy(e).add(a),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const a=e.geometry;if(a!==void 0){const r=a.getAttribute("position");if(n===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let o=0,s=r.count;o<s;o++)e.isMesh===!0?e.getVertexPosition(o,jn):jn.fromBufferAttribute(r,o),jn.applyMatrix4(e.matrixWorld),this.expandByPoint(jn);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Fs.copy(e.boundingBox)):(a.boundingBox===null&&a.computeBoundingBox(),Fs.copy(a.boundingBox)),Fs.applyMatrix4(e.matrixWorld),this.union(Fs)}const i=e.children;for(let r=0,o=i.length;r<o;r++)this.expandByObject(i[r],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,jn),jn.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,a;return e.normal.x>0?(n=e.normal.x*this.min.x,a=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,a=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,a+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,a+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,a+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,a+=e.normal.z*this.min.z),n<=-e.constant&&a>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(yo),Os.subVectors(this.max,yo),nr.subVectors(e.a,yo),ar.subVectors(e.b,yo),ir.subVectors(e.c,yo),za.subVectors(ar,nr),Fa.subVectors(ir,ar),_i.subVectors(nr,ir);let n=[0,-za.z,za.y,0,-Fa.z,Fa.y,0,-_i.z,_i.y,za.z,0,-za.x,Fa.z,0,-Fa.x,_i.z,0,-_i.x,-za.y,za.x,0,-Fa.y,Fa.x,0,-_i.y,_i.x,0];return!gu(n,nr,ar,ir,Os)||(n=[1,0,0,0,1,0,0,0,1],!gu(n,nr,ar,ir,Os))?!1:(Bs.crossVectors(za,Fa),n=[Bs.x,Bs.y,Bs.z],gu(n,nr,ar,ir,Os))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,jn).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(jn).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(fa[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),fa[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),fa[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),fa[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),fa[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),fa[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),fa[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),fa[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(fa),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const fa=[new k,new k,new k,new k,new k,new k,new k,new k],jn=new k,Fs=new ps,nr=new k,ar=new k,ir=new k,za=new k,Fa=new k,_i=new k,yo=new k,Os=new k,Bs=new k,xi=new k;function gu(t,e,n,a,i){for(let r=0,o=t.length-3;r<=o;r+=3){xi.fromArray(t,r);const s=i.x*Math.abs(xi.x)+i.y*Math.abs(xi.y)+i.z*Math.abs(xi.z),l=e.dot(xi),c=n.dot(xi),u=a.dot(xi);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}const lM=new ps,_o=new k,vu=new k;class ms{constructor(e=new k,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const a=this.center;n!==void 0?a.copy(n):lM.setFromPoints(e).getCenter(a);let i=0;for(let r=0,o=e.length;r<o;r++)i=Math.max(i,a.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const a=this.center.distanceToSquared(e);return n.copy(e),a>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;_o.subVectors(e,this.center);const n=_o.lengthSq();if(n>this.radius*this.radius){const a=Math.sqrt(n),i=(a-this.radius)*.5;this.center.addScaledVector(_o,i/a),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(vu.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(_o.copy(e.center).add(vu)),this.expandByPoint(_o.copy(e.center).sub(vu))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ha=new k,yu=new k,ks=new k,Oa=new k,_u=new k,Hs=new k,xu=new k;class Qf{constructor(e=new k,n=new k(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ha)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const a=n.dot(this.direction);return a<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,a)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=ha.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(ha.copy(this.origin).addScaledVector(this.direction,n),ha.distanceToSquared(e))}distanceSqToSegment(e,n,a,i){yu.copy(e).add(n).multiplyScalar(.5),ks.copy(n).sub(e).normalize(),Oa.copy(this.origin).sub(yu);const r=e.distanceTo(n)*.5,o=-this.direction.dot(ks),s=Oa.dot(this.direction),l=-Oa.dot(ks),c=Oa.lengthSq(),u=Math.abs(1-o*o);let f,h,p,y;if(u>0)if(f=o*l-s,h=o*s-l,y=r*u,f>=0)if(h>=-y)if(h<=y){const _=1/u;f*=_,h*=_,p=f*(f+o*h+2*s)+h*(o*f+h+2*l)+c}else h=r,f=Math.max(0,-(o*h+s)),p=-f*f+h*(h+2*l)+c;else h=-r,f=Math.max(0,-(o*h+s)),p=-f*f+h*(h+2*l)+c;else h<=-y?(f=Math.max(0,-(-o*r+s)),h=f>0?-r:Math.min(Math.max(-r,-l),r),p=-f*f+h*(h+2*l)+c):h<=y?(f=0,h=Math.min(Math.max(-r,-l),r),p=h*(h+2*l)+c):(f=Math.max(0,-(o*r+s)),h=f>0?r:Math.min(Math.max(-r,-l),r),p=-f*f+h*(h+2*l)+c);else h=o>0?-r:r,f=Math.max(0,-(o*h+s)),p=-f*f+h*(h+2*l)+c;return a&&a.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(yu).addScaledVector(ks,h),p}intersectSphere(e,n){ha.subVectors(e.center,this.origin);const a=ha.dot(this.direction),i=ha.dot(ha)-a*a,r=e.radius*e.radius;if(i>r)return null;const o=Math.sqrt(r-i),s=a-o,l=a+o;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const a=-(this.origin.dot(e.normal)+e.constant)/n;return a>=0?a:null}intersectPlane(e,n){const a=this.distanceToPlane(e);return a===null?null:this.at(a,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let a,i,r,o,s,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,h=this.origin;return c>=0?(a=(e.min.x-h.x)*c,i=(e.max.x-h.x)*c):(a=(e.max.x-h.x)*c,i=(e.min.x-h.x)*c),u>=0?(r=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(r=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),a>o||r>i||((r>a||isNaN(a))&&(a=r),(o<i||isNaN(i))&&(i=o),f>=0?(s=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(s=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),a>l||s>i)||((s>a||a!==a)&&(a=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(a>=0?a:i,n)}intersectsBox(e){return this.intersectBox(e,ha)!==null}intersectTriangle(e,n,a,i,r){_u.subVectors(n,e),Hs.subVectors(a,e),xu.crossVectors(_u,Hs);let o=this.direction.dot(xu),s;if(o>0){if(i)return null;s=1}else if(o<0)s=-1,o=-o;else return null;Oa.subVectors(this.origin,e);const l=s*this.direction.dot(Hs.crossVectors(Oa,Hs));if(l<0)return null;const c=s*this.direction.dot(_u.cross(Oa));if(c<0||l+c>o)return null;const u=-s*Oa.dot(xu);return u<0?null:this.at(u/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class At{constructor(e,n,a,i,r,o,s,l,c,u,f,h,p,y,_,m){At.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,a,i,r,o,s,l,c,u,f,h,p,y,_,m)}set(e,n,a,i,r,o,s,l,c,u,f,h,p,y,_,m){const d=this.elements;return d[0]=e,d[4]=n,d[8]=a,d[12]=i,d[1]=r,d[5]=o,d[9]=s,d[13]=l,d[2]=c,d[6]=u,d[10]=f,d[14]=h,d[3]=p,d[7]=y,d[11]=_,d[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new At().fromArray(this.elements)}copy(e){const n=this.elements,a=e.elements;return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],n[6]=a[6],n[7]=a[7],n[8]=a[8],n[9]=a[9],n[10]=a[10],n[11]=a[11],n[12]=a[12],n[13]=a[13],n[14]=a[14],n[15]=a[15],this}copyPosition(e){const n=this.elements,a=e.elements;return n[12]=a[12],n[13]=a[13],n[14]=a[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,a){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),a.setFromMatrixColumn(this,2),this}makeBasis(e,n,a){return this.set(e.x,n.x,a.x,0,e.y,n.y,a.y,0,e.z,n.z,a.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,a=e.elements,i=1/rr.setFromMatrixColumn(e,0).length(),r=1/rr.setFromMatrixColumn(e,1).length(),o=1/rr.setFromMatrixColumn(e,2).length();return n[0]=a[0]*i,n[1]=a[1]*i,n[2]=a[2]*i,n[3]=0,n[4]=a[4]*r,n[5]=a[5]*r,n[6]=a[6]*r,n[7]=0,n[8]=a[8]*o,n[9]=a[9]*o,n[10]=a[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,a=e.x,i=e.y,r=e.z,o=Math.cos(a),s=Math.sin(a),l=Math.cos(i),c=Math.sin(i),u=Math.cos(r),f=Math.sin(r);if(e.order==="XYZ"){const h=o*u,p=o*f,y=s*u,_=s*f;n[0]=l*u,n[4]=-l*f,n[8]=c,n[1]=p+y*c,n[5]=h-_*c,n[9]=-s*l,n[2]=_-h*c,n[6]=y+p*c,n[10]=o*l}else if(e.order==="YXZ"){const h=l*u,p=l*f,y=c*u,_=c*f;n[0]=h+_*s,n[4]=y*s-p,n[8]=o*c,n[1]=o*f,n[5]=o*u,n[9]=-s,n[2]=p*s-y,n[6]=_+h*s,n[10]=o*l}else if(e.order==="ZXY"){const h=l*u,p=l*f,y=c*u,_=c*f;n[0]=h-_*s,n[4]=-o*f,n[8]=y+p*s,n[1]=p+y*s,n[5]=o*u,n[9]=_-h*s,n[2]=-o*c,n[6]=s,n[10]=o*l}else if(e.order==="ZYX"){const h=o*u,p=o*f,y=s*u,_=s*f;n[0]=l*u,n[4]=y*c-p,n[8]=h*c+_,n[1]=l*f,n[5]=_*c+h,n[9]=p*c-y,n[2]=-c,n[6]=s*l,n[10]=o*l}else if(e.order==="YZX"){const h=o*l,p=o*c,y=s*l,_=s*c;n[0]=l*u,n[4]=_-h*f,n[8]=y*f+p,n[1]=f,n[5]=o*u,n[9]=-s*u,n[2]=-c*u,n[6]=p*f+y,n[10]=h-_*f}else if(e.order==="XZY"){const h=o*l,p=o*c,y=s*l,_=s*c;n[0]=l*u,n[4]=-f,n[8]=c*u,n[1]=h*f+_,n[5]=o*u,n[9]=p*f-y,n[2]=y*f-p,n[6]=s*u,n[10]=_*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(cM,e,uM)}lookAt(e,n,a){const i=this.elements;return _n.subVectors(e,n),_n.lengthSq()===0&&(_n.z=1),_n.normalize(),Ba.crossVectors(a,_n),Ba.lengthSq()===0&&(Math.abs(a.z)===1?_n.x+=1e-4:_n.z+=1e-4,_n.normalize(),Ba.crossVectors(a,_n)),Ba.normalize(),js.crossVectors(_n,Ba),i[0]=Ba.x,i[4]=js.x,i[8]=_n.x,i[1]=Ba.y,i[5]=js.y,i[9]=_n.y,i[2]=Ba.z,i[6]=js.z,i[10]=_n.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const a=e.elements,i=n.elements,r=this.elements,o=a[0],s=a[4],l=a[8],c=a[12],u=a[1],f=a[5],h=a[9],p=a[13],y=a[2],_=a[6],m=a[10],d=a[14],g=a[3],v=a[7],b=a[11],w=a[15],T=i[0],x=i[4],P=i[8],E=i[12],S=i[1],N=i[5],q=i[9],I=i[13],J=i[2],K=i[6],se=i[10],re=i[14],R=i[3],W=i[7],X=i[11],ce=i[15];return r[0]=o*T+s*S+l*J+c*R,r[4]=o*x+s*N+l*K+c*W,r[8]=o*P+s*q+l*se+c*X,r[12]=o*E+s*I+l*re+c*ce,r[1]=u*T+f*S+h*J+p*R,r[5]=u*x+f*N+h*K+p*W,r[9]=u*P+f*q+h*se+p*X,r[13]=u*E+f*I+h*re+p*ce,r[2]=y*T+_*S+m*J+d*R,r[6]=y*x+_*N+m*K+d*W,r[10]=y*P+_*q+m*se+d*X,r[14]=y*E+_*I+m*re+d*ce,r[3]=g*T+v*S+b*J+w*R,r[7]=g*x+v*N+b*K+w*W,r[11]=g*P+v*q+b*se+w*X,r[15]=g*E+v*I+b*re+w*ce,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],a=e[4],i=e[8],r=e[12],o=e[1],s=e[5],l=e[9],c=e[13],u=e[2],f=e[6],h=e[10],p=e[14],y=e[3],_=e[7],m=e[11],d=e[15];return y*(+r*l*f-i*c*f-r*s*h+a*c*h+i*s*p-a*l*p)+_*(+n*l*p-n*c*h+r*o*h-i*o*p+i*c*u-r*l*u)+m*(+n*c*f-n*s*p-r*o*f+a*o*p+r*s*u-a*c*u)+d*(-i*s*u-n*l*f+n*s*h+i*o*f-a*o*h+a*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,a){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=a),this}invert(){const e=this.elements,n=e[0],a=e[1],i=e[2],r=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=e[9],h=e[10],p=e[11],y=e[12],_=e[13],m=e[14],d=e[15],g=f*m*c-_*h*c+_*l*p-s*m*p-f*l*d+s*h*d,v=y*h*c-u*m*c-y*l*p+o*m*p+u*l*d-o*h*d,b=u*_*c-y*f*c+y*s*p-o*_*p-u*s*d+o*f*d,w=y*f*l-u*_*l-y*s*h+o*_*h+u*s*m-o*f*m,T=n*g+a*v+i*b+r*w;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const x=1/T;return e[0]=g*x,e[1]=(_*h*r-f*m*r-_*i*p+a*m*p+f*i*d-a*h*d)*x,e[2]=(s*m*r-_*l*r+_*i*c-a*m*c-s*i*d+a*l*d)*x,e[3]=(f*l*r-s*h*r-f*i*c+a*h*c+s*i*p-a*l*p)*x,e[4]=v*x,e[5]=(u*m*r-y*h*r+y*i*p-n*m*p-u*i*d+n*h*d)*x,e[6]=(y*l*r-o*m*r-y*i*c+n*m*c+o*i*d-n*l*d)*x,e[7]=(o*h*r-u*l*r+u*i*c-n*h*c-o*i*p+n*l*p)*x,e[8]=b*x,e[9]=(y*f*r-u*_*r-y*a*p+n*_*p+u*a*d-n*f*d)*x,e[10]=(o*_*r-y*s*r+y*a*c-n*_*c-o*a*d+n*s*d)*x,e[11]=(u*s*r-o*f*r-u*a*c+n*f*c+o*a*p-n*s*p)*x,e[12]=w*x,e[13]=(u*_*i-y*f*i+y*a*h-n*_*h-u*a*m+n*f*m)*x,e[14]=(y*s*i-o*_*i-y*a*l+n*_*l+o*a*m-n*s*m)*x,e[15]=(o*f*i-u*s*i+u*a*l-n*f*l-o*a*h+n*s*h)*x,this}scale(e){const n=this.elements,a=e.x,i=e.y,r=e.z;return n[0]*=a,n[4]*=i,n[8]*=r,n[1]*=a,n[5]*=i,n[9]*=r,n[2]*=a,n[6]*=i,n[10]*=r,n[3]*=a,n[7]*=i,n[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],a=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,a,i))}makeTranslation(e,n,a){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,a,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),a=Math.sin(e);return this.set(1,0,0,0,0,n,-a,0,0,a,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),a=Math.sin(e);return this.set(n,0,a,0,0,1,0,0,-a,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),a=Math.sin(e);return this.set(n,-a,0,0,a,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const a=Math.cos(n),i=Math.sin(n),r=1-a,o=e.x,s=e.y,l=e.z,c=r*o,u=r*s;return this.set(c*o+a,c*s-i*l,c*l+i*s,0,c*s+i*l,u*s+a,u*l-i*o,0,c*l-i*s,u*l+i*o,r*l*l+a,0,0,0,0,1),this}makeScale(e,n,a){return this.set(e,0,0,0,0,n,0,0,0,0,a,0,0,0,0,1),this}makeShear(e,n,a,i,r,o){return this.set(1,a,r,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,a){const i=this.elements,r=n._x,o=n._y,s=n._z,l=n._w,c=r+r,u=o+o,f=s+s,h=r*c,p=r*u,y=r*f,_=o*u,m=o*f,d=s*f,g=l*c,v=l*u,b=l*f,w=a.x,T=a.y,x=a.z;return i[0]=(1-(_+d))*w,i[1]=(p+b)*w,i[2]=(y-v)*w,i[3]=0,i[4]=(p-b)*T,i[5]=(1-(h+d))*T,i[6]=(m+g)*T,i[7]=0,i[8]=(y+v)*x,i[9]=(m-g)*x,i[10]=(1-(h+_))*x,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,a){const i=this.elements;let r=rr.set(i[0],i[1],i[2]).length();const o=rr.set(i[4],i[5],i[6]).length(),s=rr.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],Vn.copy(this);const c=1/r,u=1/o,f=1/s;return Vn.elements[0]*=c,Vn.elements[1]*=c,Vn.elements[2]*=c,Vn.elements[4]*=u,Vn.elements[5]*=u,Vn.elements[6]*=u,Vn.elements[8]*=f,Vn.elements[9]*=f,Vn.elements[10]*=f,n.setFromRotationMatrix(Vn),a.x=r,a.y=o,a.z=s,this}makePerspective(e,n,a,i,r,o,s=Ma){const l=this.elements,c=2*r/(n-e),u=2*r/(a-i),f=(n+e)/(n-e),h=(a+i)/(a-i);let p,y;if(s===Ma)p=-(o+r)/(o-r),y=-2*o*r/(o-r);else if(s===$l)p=-o/(o-r),y=-o*r/(o-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=p,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,a,i,r,o,s=Ma){const l=this.elements,c=1/(n-e),u=1/(a-i),f=1/(o-r),h=(n+e)*c,p=(a+i)*u;let y,_;if(s===Ma)y=(o+r)*f,_=-2*f;else if(s===$l)y=r*f,_=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=_,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,a=e.elements;for(let i=0;i<16;i++)if(n[i]!==a[i])return!1;return!0}fromArray(e,n=0){for(let a=0;a<16;a++)this.elements[a]=e[a+n];return this}toArray(e=[],n=0){const a=this.elements;return e[n]=a[0],e[n+1]=a[1],e[n+2]=a[2],e[n+3]=a[3],e[n+4]=a[4],e[n+5]=a[5],e[n+6]=a[6],e[n+7]=a[7],e[n+8]=a[8],e[n+9]=a[9],e[n+10]=a[10],e[n+11]=a[11],e[n+12]=a[12],e[n+13]=a[13],e[n+14]=a[14],e[n+15]=a[15],e}}const rr=new k,Vn=new At,cM=new k(0,0,0),uM=new k(1,1,1),Ba=new k,js=new k,_n=new k,_m=new At,xm=new hs;class ua{constructor(e=0,n=0,a=0,i=ua.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=a,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,a,i=this._order){return this._x=e,this._y=n,this._z=a,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,a=!0){const i=e.elements,r=i[0],o=i[4],s=i[8],l=i[1],c=i[5],u=i[9],f=i[2],h=i[6],p=i[10];switch(n){case"XYZ":this._y=Math.asin(hn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-hn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,r),this._z=0);break;case"ZXY":this._x=Math.asin(hn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,r));break;case"ZYX":this._y=Math.asin(-hn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(l,r)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(hn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,r)):(this._x=0,this._y=Math.atan2(s,p));break;case"XZY":this._z=Math.asin(-hn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(s,r)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,a===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,a){return _m.makeRotationFromQuaternion(e),this.setFromRotationMatrix(_m,n,a)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return xm.setFromEuler(this),this.setFromQuaternion(xm,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ua.DEFAULT_ORDER="XYZ";class a0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let dM=0;const Sm=new k,or=new hs,pa=new At,Vs=new k,xo=new k,fM=new k,hM=new hs,bm=new k(1,0,0),Mm=new k(0,1,0),Em=new k(0,0,1),Am={type:"added"},pM={type:"removed"},sr={type:"childadded",child:null},Su={type:"childremoved",child:null};class qt extends to{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:dM++}),this.uuid=fs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=qt.DEFAULT_UP.clone();const e=new k,n=new ua,a=new hs,i=new k(1,1,1);function r(){a.setFromEuler(n,!1)}function o(){n.setFromQuaternion(a,void 0,!1)}n._onChange(r),a._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new At},normalMatrix:{value:new We}}),this.matrix=new At,this.matrixWorld=new At,this.matrixAutoUpdate=qt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=qt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new a0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return or.setFromAxisAngle(e,n),this.quaternion.multiply(or),this}rotateOnWorldAxis(e,n){return or.setFromAxisAngle(e,n),this.quaternion.premultiply(or),this}rotateX(e){return this.rotateOnAxis(bm,e)}rotateY(e){return this.rotateOnAxis(Mm,e)}rotateZ(e){return this.rotateOnAxis(Em,e)}translateOnAxis(e,n){return Sm.copy(e).applyQuaternion(this.quaternion),this.position.add(Sm.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(bm,e)}translateY(e){return this.translateOnAxis(Mm,e)}translateZ(e){return this.translateOnAxis(Em,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(pa.copy(this.matrixWorld).invert())}lookAt(e,n,a){e.isVector3?Vs.copy(e):Vs.set(e,n,a);const i=this.parent;this.updateWorldMatrix(!0,!1),xo.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?pa.lookAt(xo,Vs,this.up):pa.lookAt(Vs,xo,this.up),this.quaternion.setFromRotationMatrix(pa),i&&(pa.extractRotation(i.matrixWorld),or.setFromRotationMatrix(pa),this.quaternion.premultiply(or.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Am),sr.child=e,this.dispatchEvent(sr),sr.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let a=0;a<arguments.length;a++)this.remove(arguments[a]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(pM),Su.child=e,this.dispatchEvent(Su),Su.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),pa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),pa.multiply(e.parent.matrixWorld)),e.applyMatrix4(pa),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Am),sr.child=e,this.dispatchEvent(sr),sr.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let a=0,i=this.children.length;a<i;a++){const o=this.children[a].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,a=[]){this[e]===n&&a.push(this);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].getObjectsByProperty(e,n,a);return a}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xo,e,fM),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xo,hM,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let a=0,i=n.length;a<i;a++)n[a].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let a=0,i=n.length;a<i;a++)n[a].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let a=0,i=n.length;a<i;a++){const r=n[a];(r.matrixWorldAutoUpdate===!0||e===!0)&&r.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const a=this.parent;if(e===!0&&a!==null&&a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let r=0,o=i.length;r<o;r++){const s=i[r];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",a={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},a.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function r(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];r(e.shapes,f)}else r(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(r(e.materials,this.material[l]));i.material=s}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(r(e.animations,l))}}if(n){const s=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),h=o(e.skeletons),p=o(e.animations),y=o(e.nodes);s.length>0&&(a.geometries=s),l.length>0&&(a.materials=l),c.length>0&&(a.textures=c),u.length>0&&(a.images=u),f.length>0&&(a.shapes=f),h.length>0&&(a.skeletons=h),p.length>0&&(a.animations=p),y.length>0&&(a.nodes=y)}return a.object=i,a;function o(s){const l=[];for(const c in s){const u=s[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let a=0;a<e.children.length;a++){const i=e.children[a];this.add(i.clone())}return this}}qt.DEFAULT_UP=new k(0,1,0);qt.DEFAULT_MATRIX_AUTO_UPDATE=!0;qt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Gn=new k,ma=new k,bu=new k,ga=new k,lr=new k,cr=new k,Tm=new k,Mu=new k,Eu=new k,Au=new k;class ra{constructor(e=new k,n=new k,a=new k){this.a=e,this.b=n,this.c=a}static getNormal(e,n,a,i){i.subVectors(a,n),Gn.subVectors(e,n),i.cross(Gn);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,n,a,i,r){Gn.subVectors(i,n),ma.subVectors(a,n),bu.subVectors(e,n);const o=Gn.dot(Gn),s=Gn.dot(ma),l=Gn.dot(bu),c=ma.dot(ma),u=ma.dot(bu),f=o*c-s*s;if(f===0)return r.set(0,0,0),null;const h=1/f,p=(c*l-s*u)*h,y=(o*u-s*l)*h;return r.set(1-p-y,y,p)}static containsPoint(e,n,a,i){return this.getBarycoord(e,n,a,i,ga)===null?!1:ga.x>=0&&ga.y>=0&&ga.x+ga.y<=1}static getInterpolation(e,n,a,i,r,o,s,l){return this.getBarycoord(e,n,a,i,ga)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(r,ga.x),l.addScaledVector(o,ga.y),l.addScaledVector(s,ga.z),l)}static isFrontFacing(e,n,a,i){return Gn.subVectors(a,n),ma.subVectors(e,n),Gn.cross(ma).dot(i)<0}set(e,n,a){return this.a.copy(e),this.b.copy(n),this.c.copy(a),this}setFromPointsAndIndices(e,n,a,i){return this.a.copy(e[n]),this.b.copy(e[a]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,a,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,a),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Gn.subVectors(this.c,this.b),ma.subVectors(this.a,this.b),Gn.cross(ma).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ra.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ra.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,a,i,r){return ra.getInterpolation(e,this.a,this.b,this.c,n,a,i,r)}containsPoint(e){return ra.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ra.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const a=this.a,i=this.b,r=this.c;let o,s;lr.subVectors(i,a),cr.subVectors(r,a),Mu.subVectors(e,a);const l=lr.dot(Mu),c=cr.dot(Mu);if(l<=0&&c<=0)return n.copy(a);Eu.subVectors(e,i);const u=lr.dot(Eu),f=cr.dot(Eu);if(u>=0&&f<=u)return n.copy(i);const h=l*f-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(a).addScaledVector(lr,o);Au.subVectors(e,r);const p=lr.dot(Au),y=cr.dot(Au);if(y>=0&&p<=y)return n.copy(r);const _=p*c-l*y;if(_<=0&&c>=0&&y<=0)return s=c/(c-y),n.copy(a).addScaledVector(cr,s);const m=u*y-p*f;if(m<=0&&f-u>=0&&p-y>=0)return Tm.subVectors(r,i),s=(f-u)/(f-u+(p-y)),n.copy(i).addScaledVector(Tm,s);const d=1/(m+_+h);return o=_*d,s=h*d,n.copy(a).addScaledVector(lr,o).addScaledVector(cr,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const i0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ka={h:0,s:0,l:0},Gs={h:0,s:0,l:0};function Tu(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class nt{constructor(e,n,a){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,a)}set(e,n,a){if(n===void 0&&a===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,a);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=na){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,lt.toWorkingColorSpace(this,n),this}setRGB(e,n,a,i=lt.workingColorSpace){return this.r=e,this.g=n,this.b=a,lt.toWorkingColorSpace(this,i),this}setHSL(e,n,a,i=lt.workingColorSpace){if(e=Qb(e,1),n=hn(n,0,1),a=hn(a,0,1),n===0)this.r=this.g=this.b=a;else{const r=a<=.5?a*(1+n):a+n-a*n,o=2*a-r;this.r=Tu(o,r,e+1/3),this.g=Tu(o,r,e),this.b=Tu(o,r,e-1/3)}return lt.toWorkingColorSpace(this,i),this}setStyle(e,n=na){function a(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const o=i[1],s=i[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return a(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,n);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return a(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,n);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return a(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=i[1],o=r.length;if(o===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(r,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=na){const a=i0[e.toLowerCase()];return a!==void 0?this.setHex(a,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Br(e.r),this.g=Br(e.g),this.b=Br(e.b),this}copyLinearToSRGB(e){return this.r=hu(e.r),this.g=hu(e.g),this.b=hu(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=na){return lt.fromWorkingColorSpace(Qt.copy(this),e),Math.round(hn(Qt.r*255,0,255))*65536+Math.round(hn(Qt.g*255,0,255))*256+Math.round(hn(Qt.b*255,0,255))}getHexString(e=na){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=lt.workingColorSpace){lt.fromWorkingColorSpace(Qt.copy(this),n);const a=Qt.r,i=Qt.g,r=Qt.b,o=Math.max(a,i,r),s=Math.min(a,i,r);let l,c;const u=(s+o)/2;if(s===o)l=0,c=0;else{const f=o-s;switch(c=u<=.5?f/(o+s):f/(2-o-s),o){case a:l=(i-r)/f+(i<r?6:0);break;case i:l=(r-a)/f+2;break;case r:l=(a-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=lt.workingColorSpace){return lt.fromWorkingColorSpace(Qt.copy(this),n),e.r=Qt.r,e.g=Qt.g,e.b=Qt.b,e}getStyle(e=na){lt.fromWorkingColorSpace(Qt.copy(this),e);const n=Qt.r,a=Qt.g,i=Qt.b;return e!==na?`color(${e} ${n.toFixed(3)} ${a.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(a*255)},${Math.round(i*255)})`}offsetHSL(e,n,a){return this.getHSL(ka),this.setHSL(ka.h+e,ka.s+n,ka.l+a)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,a){return this.r=e.r+(n.r-e.r)*a,this.g=e.g+(n.g-e.g)*a,this.b=e.b+(n.b-e.b)*a,this}lerpHSL(e,n){this.getHSL(ka),e.getHSL(Gs);const a=du(ka.h,Gs.h,n),i=du(ka.s,Gs.s,n),r=du(ka.l,Gs.l,n);return this.setHSL(a,i,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,a=this.g,i=this.b,r=e.elements;return this.r=r[0]*n+r[3]*a+r[6]*i,this.g=r[1]*n+r[4]*a+r[7]*i,this.b=r[2]*n+r[5]*a+r[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Qt=new nt;nt.NAMES=i0;let mM=0;class $i extends to{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:mM++}),this.uuid=fs(),this.name="",this.type="Material",this.blending=Fr,this.side=ci,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Od,this.blendDst=Bd,this.blendEquation=Ri,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new nt(0,0,0),this.blendAlpha=0,this.depthFunc=Xl,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=fm,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=er,this.stencilZFail=er,this.stencilZPass=er,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const a=e[n];if(a===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(a):i&&i.isVector3&&a&&a.isVector3?i.copy(a):this[n]=a}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const a={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.color&&this.color.isColor&&(a.color=this.color.getHex()),this.roughness!==void 0&&(a.roughness=this.roughness),this.metalness!==void 0&&(a.metalness=this.metalness),this.sheen!==void 0&&(a.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(a.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(a.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(a.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(a.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(a.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(a.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(a.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(a.shininess=this.shininess),this.clearcoat!==void 0&&(a.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(a.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(a.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(a.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,a.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(a.dispersion=this.dispersion),this.iridescence!==void 0&&(a.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(a.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(a.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(a.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(a.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(a.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(a.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(a.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(a.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(a.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(a.lightMap=this.lightMap.toJSON(e).uuid,a.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(a.aoMap=this.aoMap.toJSON(e).uuid,a.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(a.bumpMap=this.bumpMap.toJSON(e).uuid,a.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(a.normalMap=this.normalMap.toJSON(e).uuid,a.normalMapType=this.normalMapType,a.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(a.displacementMap=this.displacementMap.toJSON(e).uuid,a.displacementScale=this.displacementScale,a.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(a.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(a.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(a.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(a.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(a.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(a.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(a.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(a.combine=this.combine)),this.envMapRotation!==void 0&&(a.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(a.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(a.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(a.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(a.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(a.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(a.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(a.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(a.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(a.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(a.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(a.size=this.size),this.shadowSide!==null&&(a.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(a.sizeAttenuation=this.sizeAttenuation),this.blending!==Fr&&(a.blending=this.blending),this.side!==ci&&(a.side=this.side),this.vertexColors===!0&&(a.vertexColors=!0),this.opacity<1&&(a.opacity=this.opacity),this.transparent===!0&&(a.transparent=!0),this.blendSrc!==Od&&(a.blendSrc=this.blendSrc),this.blendDst!==Bd&&(a.blendDst=this.blendDst),this.blendEquation!==Ri&&(a.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(a.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(a.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(a.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(a.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(a.blendAlpha=this.blendAlpha),this.depthFunc!==Xl&&(a.depthFunc=this.depthFunc),this.depthTest===!1&&(a.depthTest=this.depthTest),this.depthWrite===!1&&(a.depthWrite=this.depthWrite),this.colorWrite===!1&&(a.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(a.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==fm&&(a.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(a.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(a.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==er&&(a.stencilFail=this.stencilFail),this.stencilZFail!==er&&(a.stencilZFail=this.stencilZFail),this.stencilZPass!==er&&(a.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(a.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(a.rotation=this.rotation),this.polygonOffset===!0&&(a.polygonOffset=!0),this.polygonOffsetFactor!==0&&(a.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(a.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(a.linewidth=this.linewidth),this.dashSize!==void 0&&(a.dashSize=this.dashSize),this.gapSize!==void 0&&(a.gapSize=this.gapSize),this.scale!==void 0&&(a.scale=this.scale),this.dithering===!0&&(a.dithering=!0),this.alphaTest>0&&(a.alphaTest=this.alphaTest),this.alphaHash===!0&&(a.alphaHash=!0),this.alphaToCoverage===!0&&(a.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(a.premultipliedAlpha=!0),this.forceSinglePass===!0&&(a.forceSinglePass=!0),this.wireframe===!0&&(a.wireframe=!0),this.wireframeLinewidth>1&&(a.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(a.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(a.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(a.flatShading=!0),this.visible===!1&&(a.visible=!1),this.toneMapped===!1&&(a.toneMapped=!1),this.fog===!1&&(a.fog=!1),Object.keys(this.userData).length>0&&(a.userData=this.userData);function i(r){const o=[];for(const s in r){const l=r[s];delete l.metadata,o.push(l)}return o}if(n){const r=i(e.textures),o=i(e.images);r.length>0&&(a.textures=r),o.length>0&&(a.images=o)}return a}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let a=null;if(n!==null){const i=n.length;a=new Array(i);for(let r=0;r!==i;++r)a[r]=n[r].clone()}return this.clippingPlanes=a,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class r0 extends $i{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new nt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ua,this.combine=$f,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Dt=new k,qs=new it;class Zn{constructor(e,n,a=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=a,this.usage=hm,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Ya,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return tM("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,a){e*=this.itemSize,a*=n.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=n.array[a+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,a=this.count;n<a;n++)qs.fromBufferAttribute(this,n),qs.applyMatrix3(e),this.setXY(n,qs.x,qs.y);else if(this.itemSize===3)for(let n=0,a=this.count;n<a;n++)Dt.fromBufferAttribute(this,n),Dt.applyMatrix3(e),this.setXYZ(n,Dt.x,Dt.y,Dt.z);return this}applyMatrix4(e){for(let n=0,a=this.count;n<a;n++)Dt.fromBufferAttribute(this,n),Dt.applyMatrix4(e),this.setXYZ(n,Dt.x,Dt.y,Dt.z);return this}applyNormalMatrix(e){for(let n=0,a=this.count;n<a;n++)Dt.fromBufferAttribute(this,n),Dt.applyNormalMatrix(e),this.setXYZ(n,Dt.x,Dt.y,Dt.z);return this}transformDirection(e){for(let n=0,a=this.count;n<a;n++)Dt.fromBufferAttribute(this,n),Dt.transformDirection(e),this.setXYZ(n,Dt.x,Dt.y,Dt.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let a=this.array[e*this.itemSize+n];return this.normalized&&(a=vo(a,this.array)),a}setComponent(e,n,a){return this.normalized&&(a=dn(a,this.array)),this.array[e*this.itemSize+n]=a,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=vo(n,this.array)),n}setX(e,n){return this.normalized&&(n=dn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=vo(n,this.array)),n}setY(e,n){return this.normalized&&(n=dn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=vo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=dn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=vo(n,this.array)),n}setW(e,n){return this.normalized&&(n=dn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,a){return e*=this.itemSize,this.normalized&&(n=dn(n,this.array),a=dn(a,this.array)),this.array[e+0]=n,this.array[e+1]=a,this}setXYZ(e,n,a,i){return e*=this.itemSize,this.normalized&&(n=dn(n,this.array),a=dn(a,this.array),i=dn(i,this.array)),this.array[e+0]=n,this.array[e+1]=a,this.array[e+2]=i,this}setXYZW(e,n,a,i,r){return e*=this.itemSize,this.normalized&&(n=dn(n,this.array),a=dn(a,this.array),i=dn(i,this.array),r=dn(r,this.array)),this.array[e+0]=n,this.array[e+1]=a,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==hm&&(e.usage=this.usage),e}}class o0 extends Zn{constructor(e,n,a){super(new Uint16Array(e),n,a)}}class s0 extends Zn{constructor(e,n,a){super(new Uint32Array(e),n,a)}}class Fn extends Zn{constructor(e,n,a){super(new Float32Array(e),n,a)}}let gM=0;const Cn=new At,wu=new qt,ur=new k,xn=new ps,So=new ps,Ht=new k;class kn extends to{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:gM++}),this.uuid=fs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(e0(e)?s0:o0)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,a=0){this.groups.push({start:e,count:n,materialIndex:a})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const a=this.attributes.normal;if(a!==void 0){const r=new We().getNormalMatrix(e);a.applyNormalMatrix(r),a.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Cn.makeRotationFromQuaternion(e),this.applyMatrix4(Cn),this}rotateX(e){return Cn.makeRotationX(e),this.applyMatrix4(Cn),this}rotateY(e){return Cn.makeRotationY(e),this.applyMatrix4(Cn),this}rotateZ(e){return Cn.makeRotationZ(e),this.applyMatrix4(Cn),this}translate(e,n,a){return Cn.makeTranslation(e,n,a),this.applyMatrix4(Cn),this}scale(e,n,a){return Cn.makeScale(e,n,a),this.applyMatrix4(Cn),this}lookAt(e){return wu.lookAt(e),wu.updateMatrix(),this.applyMatrix4(wu.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ur).negate(),this.translate(ur.x,ur.y,ur.z),this}setFromPoints(e){const n=[];for(let a=0,i=e.length;a<i;a++){const r=e[a];n.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Fn(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ps);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new k(-1/0,-1/0,-1/0),new k(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let a=0,i=n.length;a<i;a++){const r=n[a];xn.setFromBufferAttribute(r),this.morphTargetsRelative?(Ht.addVectors(this.boundingBox.min,xn.min),this.boundingBox.expandByPoint(Ht),Ht.addVectors(this.boundingBox.max,xn.max),this.boundingBox.expandByPoint(Ht)):(this.boundingBox.expandByPoint(xn.min),this.boundingBox.expandByPoint(xn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ms);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new k,1/0);return}if(e){const a=this.boundingSphere.center;if(xn.setFromBufferAttribute(e),n)for(let r=0,o=n.length;r<o;r++){const s=n[r];So.setFromBufferAttribute(s),this.morphTargetsRelative?(Ht.addVectors(xn.min,So.min),xn.expandByPoint(Ht),Ht.addVectors(xn.max,So.max),xn.expandByPoint(Ht)):(xn.expandByPoint(So.min),xn.expandByPoint(So.max))}xn.getCenter(a);let i=0;for(let r=0,o=e.count;r<o;r++)Ht.fromBufferAttribute(e,r),i=Math.max(i,a.distanceToSquared(Ht));if(n)for(let r=0,o=n.length;r<o;r++){const s=n[r],l=this.morphTargetsRelative;for(let c=0,u=s.count;c<u;c++)Ht.fromBufferAttribute(s,c),l&&(ur.fromBufferAttribute(e,c),Ht.add(ur)),i=Math.max(i,a.distanceToSquared(Ht))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const a=n.position,i=n.normal,r=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Zn(new Float32Array(4*a.count),4));const o=this.getAttribute("tangent"),s=[],l=[];for(let P=0;P<a.count;P++)s[P]=new k,l[P]=new k;const c=new k,u=new k,f=new k,h=new it,p=new it,y=new it,_=new k,m=new k;function d(P,E,S){c.fromBufferAttribute(a,P),u.fromBufferAttribute(a,E),f.fromBufferAttribute(a,S),h.fromBufferAttribute(r,P),p.fromBufferAttribute(r,E),y.fromBufferAttribute(r,S),u.sub(c),f.sub(c),p.sub(h),y.sub(h);const N=1/(p.x*y.y-y.x*p.y);isFinite(N)&&(_.copy(u).multiplyScalar(y.y).addScaledVector(f,-p.y).multiplyScalar(N),m.copy(f).multiplyScalar(p.x).addScaledVector(u,-y.x).multiplyScalar(N),s[P].add(_),s[E].add(_),s[S].add(_),l[P].add(m),l[E].add(m),l[S].add(m))}let g=this.groups;g.length===0&&(g=[{start:0,count:e.count}]);for(let P=0,E=g.length;P<E;++P){const S=g[P],N=S.start,q=S.count;for(let I=N,J=N+q;I<J;I+=3)d(e.getX(I+0),e.getX(I+1),e.getX(I+2))}const v=new k,b=new k,w=new k,T=new k;function x(P){w.fromBufferAttribute(i,P),T.copy(w);const E=s[P];v.copy(E),v.sub(w.multiplyScalar(w.dot(E))).normalize(),b.crossVectors(T,E);const N=b.dot(l[P])<0?-1:1;o.setXYZW(P,v.x,v.y,v.z,N)}for(let P=0,E=g.length;P<E;++P){const S=g[P],N=S.start,q=S.count;for(let I=N,J=N+q;I<J;I+=3)x(e.getX(I+0)),x(e.getX(I+1)),x(e.getX(I+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let a=this.getAttribute("normal");if(a===void 0)a=new Zn(new Float32Array(n.count*3),3),this.setAttribute("normal",a);else for(let h=0,p=a.count;h<p;h++)a.setXYZ(h,0,0,0);const i=new k,r=new k,o=new k,s=new k,l=new k,c=new k,u=new k,f=new k;if(e)for(let h=0,p=e.count;h<p;h+=3){const y=e.getX(h+0),_=e.getX(h+1),m=e.getX(h+2);i.fromBufferAttribute(n,y),r.fromBufferAttribute(n,_),o.fromBufferAttribute(n,m),u.subVectors(o,r),f.subVectors(i,r),u.cross(f),s.fromBufferAttribute(a,y),l.fromBufferAttribute(a,_),c.fromBufferAttribute(a,m),s.add(u),l.add(u),c.add(u),a.setXYZ(y,s.x,s.y,s.z),a.setXYZ(_,l.x,l.y,l.z),a.setXYZ(m,c.x,c.y,c.z)}else for(let h=0,p=n.count;h<p;h+=3)i.fromBufferAttribute(n,h+0),r.fromBufferAttribute(n,h+1),o.fromBufferAttribute(n,h+2),u.subVectors(o,r),f.subVectors(i,r),u.cross(f),a.setXYZ(h+0,u.x,u.y,u.z),a.setXYZ(h+1,u.x,u.y,u.z),a.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),a.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,a=e.count;n<a;n++)Ht.fromBufferAttribute(e,n),Ht.normalize(),e.setXYZ(n,Ht.x,Ht.y,Ht.z)}toNonIndexed(){function e(s,l){const c=s.array,u=s.itemSize,f=s.normalized,h=new c.constructor(l.length*u);let p=0,y=0;for(let _=0,m=l.length;_<m;_++){s.isInterleavedBufferAttribute?p=l[_]*s.data.stride+s.offset:p=l[_]*u;for(let d=0;d<u;d++)h[y++]=c[p++]}return new Zn(h,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new kn,a=this.index.array,i=this.attributes;for(const s in i){const l=i[s],c=e(l,a);n.setAttribute(s,c)}const r=this.morphAttributes;for(const s in r){const l=[],c=r[s];for(let u=0,f=c.length;u<f;u++){const h=c[u],p=e(h,a);l.push(p)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,l=o.length;s<l;s++){const c=o[s];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const a=this.attributes;for(const l in a){const c=a[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let r=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,h=c.length;f<h;f++){const p=c[f];u.push(p.toJSON(e.data))}u.length>0&&(i[l]=u,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const a=e.index;a!==null&&this.setIndex(a.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const r=e.morphAttributes;for(const c in r){const u=[],f=r[c];for(let h=0,p=f.length;h<p;h++)u.push(f[h].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const wm=new At,Si=new Qf,Ws=new ms,Cm=new k,dr=new k,fr=new k,hr=new k,Cu=new k,Xs=new k,Js=new it,Ks=new it,Ys=new it,Rm=new k,Pm=new k,Lm=new k,$s=new k,Zs=new k;class sa extends qt{constructor(e=new kn,n=new r0){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,a=Object.keys(n);if(a.length>0){const i=n[a[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const s=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=r}}}}getVertexPosition(e,n){const a=this.geometry,i=a.attributes.position,r=a.morphAttributes.position,o=a.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(r&&s){Xs.set(0,0,0);for(let l=0,c=r.length;l<c;l++){const u=s[l],f=r[l];u!==0&&(Cu.fromBufferAttribute(f,e),o?Xs.addScaledVector(Cu,u):Xs.addScaledVector(Cu.sub(n),u))}n.add(Xs)}return n}raycast(e,n){const a=this.geometry,i=this.material,r=this.matrixWorld;i!==void 0&&(a.boundingSphere===null&&a.computeBoundingSphere(),Ws.copy(a.boundingSphere),Ws.applyMatrix4(r),Si.copy(e.ray).recast(e.near),!(Ws.containsPoint(Si.origin)===!1&&(Si.intersectSphere(Ws,Cm)===null||Si.origin.distanceToSquared(Cm)>(e.far-e.near)**2))&&(wm.copy(r).invert(),Si.copy(e.ray).applyMatrix4(wm),!(a.boundingBox!==null&&Si.intersectsBox(a.boundingBox)===!1)&&this._computeIntersections(e,n,Si)))}_computeIntersections(e,n,a){let i;const r=this.geometry,o=this.material,s=r.index,l=r.attributes.position,c=r.attributes.uv,u=r.attributes.uv1,f=r.attributes.normal,h=r.groups,p=r.drawRange;if(s!==null)if(Array.isArray(o))for(let y=0,_=h.length;y<_;y++){const m=h[y],d=o[m.materialIndex],g=Math.max(m.start,p.start),v=Math.min(s.count,Math.min(m.start+m.count,p.start+p.count));for(let b=g,w=v;b<w;b+=3){const T=s.getX(b),x=s.getX(b+1),P=s.getX(b+2);i=Qs(this,d,e,a,c,u,f,T,x,P),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=m.materialIndex,n.push(i))}}else{const y=Math.max(0,p.start),_=Math.min(s.count,p.start+p.count);for(let m=y,d=_;m<d;m+=3){const g=s.getX(m),v=s.getX(m+1),b=s.getX(m+2);i=Qs(this,o,e,a,c,u,f,g,v,b),i&&(i.faceIndex=Math.floor(m/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let y=0,_=h.length;y<_;y++){const m=h[y],d=o[m.materialIndex],g=Math.max(m.start,p.start),v=Math.min(l.count,Math.min(m.start+m.count,p.start+p.count));for(let b=g,w=v;b<w;b+=3){const T=b,x=b+1,P=b+2;i=Qs(this,d,e,a,c,u,f,T,x,P),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=m.materialIndex,n.push(i))}}else{const y=Math.max(0,p.start),_=Math.min(l.count,p.start+p.count);for(let m=y,d=_;m<d;m+=3){const g=m,v=m+1,b=m+2;i=Qs(this,o,e,a,c,u,f,g,v,b),i&&(i.faceIndex=Math.floor(m/3),n.push(i))}}}}function vM(t,e,n,a,i,r,o,s){let l;if(e.side===yn?l=a.intersectTriangle(o,r,i,!0,s):l=a.intersectTriangle(i,r,o,e.side===ci,s),l===null)return null;Zs.copy(s),Zs.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Zs);return c<n.near||c>n.far?null:{distance:c,point:Zs.clone(),object:t}}function Qs(t,e,n,a,i,r,o,s,l,c){t.getVertexPosition(s,dr),t.getVertexPosition(l,fr),t.getVertexPosition(c,hr);const u=vM(t,e,n,a,dr,fr,hr,$s);if(u){i&&(Js.fromBufferAttribute(i,s),Ks.fromBufferAttribute(i,l),Ys.fromBufferAttribute(i,c),u.uv=ra.getInterpolation($s,dr,fr,hr,Js,Ks,Ys,new it)),r&&(Js.fromBufferAttribute(r,s),Ks.fromBufferAttribute(r,l),Ys.fromBufferAttribute(r,c),u.uv1=ra.getInterpolation($s,dr,fr,hr,Js,Ks,Ys,new it)),o&&(Rm.fromBufferAttribute(o,s),Pm.fromBufferAttribute(o,l),Lm.fromBufferAttribute(o,c),u.normal=ra.getInterpolation($s,dr,fr,hr,Rm,Pm,Lm,new k),u.normal.dot(a.direction)>0&&u.normal.multiplyScalar(-1));const f={a:s,b:l,c,normal:new k,materialIndex:0};ra.getNormal(dr,fr,hr,f.normal),u.face=f}return u}class gs extends kn{constructor(e=1,n=1,a=1,i=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:a,widthSegments:i,heightSegments:r,depthSegments:o};const s=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);const l=[],c=[],u=[],f=[];let h=0,p=0;y("z","y","x",-1,-1,a,n,e,o,r,0),y("z","y","x",1,-1,a,n,-e,o,r,1),y("x","z","y",1,1,e,a,n,i,o,2),y("x","z","y",1,-1,e,a,-n,i,o,3),y("x","y","z",1,-1,e,n,a,i,r,4),y("x","y","z",-1,-1,e,n,-a,i,r,5),this.setIndex(l),this.setAttribute("position",new Fn(c,3)),this.setAttribute("normal",new Fn(u,3)),this.setAttribute("uv",new Fn(f,2));function y(_,m,d,g,v,b,w,T,x,P,E){const S=b/x,N=w/P,q=b/2,I=w/2,J=T/2,K=x+1,se=P+1;let re=0,R=0;const W=new k;for(let X=0;X<se;X++){const ce=X*N-I;for(let Me=0;Me<K;Me++){const Je=Me*S-q;W[_]=Je*g,W[m]=ce*v,W[d]=J,c.push(W.x,W.y,W.z),W[_]=0,W[m]=0,W[d]=T>0?1:-1,u.push(W.x,W.y,W.z),f.push(Me/x),f.push(1-X/P),re+=1}}for(let X=0;X<P;X++)for(let ce=0;ce<x;ce++){const Me=h+ce+K*X,Je=h+ce+K*(X+1),V=h+(ce+1)+K*(X+1),ae=h+(ce+1)+K*X;l.push(Me,Je,ae),l.push(Je,V,ae),R+=6}s.addGroup(p,R,E),p+=R,h+=re}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gs(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Yr(t){const e={};for(const n in t){e[n]={};for(const a in t[n]){const i=t[n][a];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][a]=null):e[n][a]=i.clone():Array.isArray(i)?e[n][a]=i.slice():e[n][a]=i}}return e}function rn(t){const e={};for(let n=0;n<t.length;n++){const a=Yr(t[n]);for(const i in a)e[i]=a[i]}return e}function yM(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function l0(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:lt.workingColorSpace}const _M={clone:Yr,merge:rn};var xM=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,SM=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class di extends $i{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=xM,this.fragmentShader=SM,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Yr(e.uniforms),this.uniformsGroups=yM(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const a={};for(const i in this.extensions)this.extensions[i]===!0&&(a[i]=!0);return Object.keys(a).length>0&&(n.extensions=a),n}}class c0 extends qt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new At,this.projectionMatrix=new At,this.projectionMatrixInverse=new At,this.coordinateSystem=Ma}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Ha=new k,Im=new it,Dm=new it;class Dn extends c0{constructor(e=50,n=1,a=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=a,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Gd*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(uu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Gd*2*Math.atan(Math.tan(uu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,a){Ha.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Ha.x,Ha.y).multiplyScalar(-e/Ha.z),Ha.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),a.set(Ha.x,Ha.y).multiplyScalar(-e/Ha.z)}getViewSize(e,n){return this.getViewBounds(e,Im,Dm),n.subVectors(Dm,Im)}setViewOffset(e,n,a,i,r,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=a,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(uu*.5*this.fov)/this.zoom,a=2*n,i=this.aspect*a,r=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;r+=o.offsetX*i/l,n-=o.offsetY*a/c,i*=o.width/l,a*=o.height/c}const s=this.filmOffset;s!==0&&(r+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,n,n-a,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const pr=-90,mr=1;class bM extends qt{constructor(e,n,a){super(),this.type="CubeCamera",this.renderTarget=a,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Dn(pr,mr,e,n);i.layers=this.layers,this.add(i);const r=new Dn(pr,mr,e,n);r.layers=this.layers,this.add(r);const o=new Dn(pr,mr,e,n);o.layers=this.layers,this.add(o);const s=new Dn(pr,mr,e,n);s.layers=this.layers,this.add(s);const l=new Dn(pr,mr,e,n);l.layers=this.layers,this.add(l);const c=new Dn(pr,mr,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[a,i,r,o,s,l]=n;for(const c of n)this.remove(c);if(e===Ma)a.up.set(0,1,0),a.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===$l)a.up.set(0,-1,0),a.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:a,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,o,s,l,c,u]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const _=a.texture.generateMipmaps;a.texture.generateMipmaps=!1,e.setRenderTarget(a,0,i),e.render(n,r),e.setRenderTarget(a,1,i),e.render(n,o),e.setRenderTarget(a,2,i),e.render(n,s),e.setRenderTarget(a,3,i),e.render(n,l),e.setRenderTarget(a,4,i),e.render(n,c),a.texture.generateMipmaps=_,e.setRenderTarget(a,5,i),e.render(n,u),e.setRenderTarget(f,h,p),e.xr.enabled=y,a.texture.needsPMREMUpdate=!0}}class u0 extends ln{constructor(e,n,a,i,r,o,s,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Xr,super(e,n,a,i,r,o,s,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class MM extends Xi{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const a={width:e,height:e,depth:1},i=[a,a,a,a,a,a];this.texture=new u0(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Kn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const a={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new gs(5,5,5),r=new di({name:"CubemapFromEquirect",uniforms:Yr(a.uniforms),vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,side:yn,blending:ri});r.uniforms.tEquirect.value=n;const o=new sa(i,r),s=n.minFilter;return n.minFilter===Fi&&(n.minFilter=Kn),new bM(1,10,this).update(e,o),n.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,a,i){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,a,i);e.setRenderTarget(r)}}const Ru=new k,EM=new k,AM=new We;class wi{constructor(e=new k(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,a,i){return this.normal.set(e,n,a),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,a){const i=Ru.subVectors(a,n).cross(EM.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const a=e.delta(Ru),i=this.normal.dot(a);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:n.copy(e.start).addScaledVector(a,r)}intersectsLine(e){const n=this.distanceToPoint(e.start),a=this.distanceToPoint(e.end);return n<0&&a>0||a<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const a=n||AM.getNormalMatrix(e),i=this.coplanarPoint(Ru).applyMatrix4(e),r=this.normal.applyMatrix3(a).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const bi=new ms,el=new k;class eh{constructor(e=new wi,n=new wi,a=new wi,i=new wi,r=new wi,o=new wi){this.planes=[e,n,a,i,r,o]}set(e,n,a,i,r,o){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(a),s[3].copy(i),s[4].copy(r),s[5].copy(o),this}copy(e){const n=this.planes;for(let a=0;a<6;a++)n[a].copy(e.planes[a]);return this}setFromProjectionMatrix(e,n=Ma){const a=this.planes,i=e.elements,r=i[0],o=i[1],s=i[2],l=i[3],c=i[4],u=i[5],f=i[6],h=i[7],p=i[8],y=i[9],_=i[10],m=i[11],d=i[12],g=i[13],v=i[14],b=i[15];if(a[0].setComponents(l-r,h-c,m-p,b-d).normalize(),a[1].setComponents(l+r,h+c,m+p,b+d).normalize(),a[2].setComponents(l+o,h+u,m+y,b+g).normalize(),a[3].setComponents(l-o,h-u,m-y,b-g).normalize(),a[4].setComponents(l-s,h-f,m-_,b-v).normalize(),n===Ma)a[5].setComponents(l+s,h+f,m+_,b+v).normalize();else if(n===$l)a[5].setComponents(s,f,_,v).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),bi.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),bi.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(bi)}intersectsSprite(e){return bi.center.set(0,0,0),bi.radius=.7071067811865476,bi.applyMatrix4(e.matrixWorld),this.intersectsSphere(bi)}intersectsSphere(e){const n=this.planes,a=e.center,i=-e.radius;for(let r=0;r<6;r++)if(n[r].distanceToPoint(a)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let a=0;a<6;a++){const i=n[a];if(el.x=i.normal.x>0?e.max.x:e.min.x,el.y=i.normal.y>0?e.max.y:e.min.y,el.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(el)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let a=0;a<6;a++)if(n[a].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function d0(){let t=null,e=!1,n=null,a=null;function i(r,o){n(r,o),a=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(a=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(a),e=!1},setAnimationLoop:function(r){n=r},setContext:function(r){t=r}}}function TM(t){const e=new WeakMap;function n(s,l){const c=s.array,u=s.usage,f=c.byteLength,h=t.createBuffer();t.bindBuffer(l,h),t.bufferData(l,c,u),s.onUploadCallback();let p;if(c instanceof Float32Array)p=t.FLOAT;else if(c instanceof Uint16Array)s.isFloat16BufferAttribute?p=t.HALF_FLOAT:p=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)p=t.SHORT;else if(c instanceof Uint32Array)p=t.UNSIGNED_INT;else if(c instanceof Int32Array)p=t.INT;else if(c instanceof Int8Array)p=t.BYTE;else if(c instanceof Uint8Array)p=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)p=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:p,bytesPerElement:c.BYTES_PER_ELEMENT,version:s.version,size:f}}function a(s,l,c){const u=l.array,f=l._updateRange,h=l.updateRanges;if(t.bindBuffer(c,s),f.count===-1&&h.length===0&&t.bufferSubData(c,0,u),h.length!==0){for(let p=0,y=h.length;p<y;p++){const _=h[p];t.bufferSubData(c,_.start*u.BYTES_PER_ELEMENT,u,_.start,_.count)}l.clearUpdateRanges()}f.count!==-1&&(t.bufferSubData(c,f.offset*u.BYTES_PER_ELEMENT,u,f.offset,f.count),f.count=-1),l.onUploadCallback()}function i(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function r(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=e.get(s);l&&(t.deleteBuffer(l.buffer),e.delete(s))}function o(s,l){if(s.isGLBufferAttribute){const u=e.get(s);(!u||u.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}s.isInterleavedBufferAttribute&&(s=s.data);const c=e.get(s);if(c===void 0)e.set(s,n(s,l));else if(c.version<s.version){if(c.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");a(c.buffer,s,l),c.version=s.version}}return{get:i,remove:r,update:o}}class Mc extends kn{constructor(e=1,n=1,a=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:a,heightSegments:i};const r=e/2,o=n/2,s=Math.floor(a),l=Math.floor(i),c=s+1,u=l+1,f=e/s,h=n/l,p=[],y=[],_=[],m=[];for(let d=0;d<u;d++){const g=d*h-o;for(let v=0;v<c;v++){const b=v*f-r;y.push(b,-g,0),_.push(0,0,1),m.push(v/s),m.push(1-d/l)}}for(let d=0;d<l;d++)for(let g=0;g<s;g++){const v=g+c*d,b=g+c*(d+1),w=g+1+c*(d+1),T=g+1+c*d;p.push(v,b,T),p.push(b,w,T)}this.setIndex(p),this.setAttribute("position",new Fn(y,3)),this.setAttribute("normal",new Fn(_,3)),this.setAttribute("uv",new Fn(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mc(e.width,e.height,e.widthSegments,e.heightSegments)}}var wM=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,CM=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,RM=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,PM=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,LM=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,IM=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,DM=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,NM=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,UM=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,zM=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,FM=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,OM=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,BM=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,kM=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,HM=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,jM=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,VM=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,GM=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,qM=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,WM=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,XM=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,JM=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,KM=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,YM=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,$M=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,ZM=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,QM=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,eE=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,tE=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,nE=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,aE="gl_FragColor = linearToOutputTexel( gl_FragColor );",iE=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,rE=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,oE=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,sE=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,lE=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,cE=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,uE=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,dE=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fE=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,hE=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,pE=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,mE=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,gE=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,vE=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,yE=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,_E=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,xE=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,SE=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,bE=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,ME=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,EE=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,AE=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,TE=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,wE=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,CE=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,RE=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,PE=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,LE=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,IE=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,DE=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,NE=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,UE=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,zE=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,FE=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,OE=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,BE=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,kE=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,HE=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,jE=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,VE=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,GE=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,qE=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,WE=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,XE=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,JE=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,KE=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,YE=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,$E=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,ZE=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,QE=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,eA=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,tA=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,nA=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,aA=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,iA=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,rA=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,oA=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,sA=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,lA=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,cA=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,uA=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,dA=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,fA=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,hA=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,pA=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,mA=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,gA=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,vA=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,yA=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,_A=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,xA=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,SA=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,bA=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,MA=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,EA=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,AA=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const TA=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,wA=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,CA=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,RA=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,PA=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,LA=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,IA=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,DA=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,NA=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,UA=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,zA=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,FA=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,OA=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,BA=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,kA=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,HA=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jA=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,VA=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GA=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,qA=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,WA=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,XA=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,JA=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,KA=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,YA=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,$A=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZA=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,QA=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eT=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,tT=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nT=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aT=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,iT=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,rT=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,qe={alphahash_fragment:wM,alphahash_pars_fragment:CM,alphamap_fragment:RM,alphamap_pars_fragment:PM,alphatest_fragment:LM,alphatest_pars_fragment:IM,aomap_fragment:DM,aomap_pars_fragment:NM,batching_pars_vertex:UM,batching_vertex:zM,begin_vertex:FM,beginnormal_vertex:OM,bsdfs:BM,iridescence_fragment:kM,bumpmap_pars_fragment:HM,clipping_planes_fragment:jM,clipping_planes_pars_fragment:VM,clipping_planes_pars_vertex:GM,clipping_planes_vertex:qM,color_fragment:WM,color_pars_fragment:XM,color_pars_vertex:JM,color_vertex:KM,common:YM,cube_uv_reflection_fragment:$M,defaultnormal_vertex:ZM,displacementmap_pars_vertex:QM,displacementmap_vertex:eE,emissivemap_fragment:tE,emissivemap_pars_fragment:nE,colorspace_fragment:aE,colorspace_pars_fragment:iE,envmap_fragment:rE,envmap_common_pars_fragment:oE,envmap_pars_fragment:sE,envmap_pars_vertex:lE,envmap_physical_pars_fragment:_E,envmap_vertex:cE,fog_vertex:uE,fog_pars_vertex:dE,fog_fragment:fE,fog_pars_fragment:hE,gradientmap_pars_fragment:pE,lightmap_pars_fragment:mE,lights_lambert_fragment:gE,lights_lambert_pars_fragment:vE,lights_pars_begin:yE,lights_toon_fragment:xE,lights_toon_pars_fragment:SE,lights_phong_fragment:bE,lights_phong_pars_fragment:ME,lights_physical_fragment:EE,lights_physical_pars_fragment:AE,lights_fragment_begin:TE,lights_fragment_maps:wE,lights_fragment_end:CE,logdepthbuf_fragment:RE,logdepthbuf_pars_fragment:PE,logdepthbuf_pars_vertex:LE,logdepthbuf_vertex:IE,map_fragment:DE,map_pars_fragment:NE,map_particle_fragment:UE,map_particle_pars_fragment:zE,metalnessmap_fragment:FE,metalnessmap_pars_fragment:OE,morphinstance_vertex:BE,morphcolor_vertex:kE,morphnormal_vertex:HE,morphtarget_pars_vertex:jE,morphtarget_vertex:VE,normal_fragment_begin:GE,normal_fragment_maps:qE,normal_pars_fragment:WE,normal_pars_vertex:XE,normal_vertex:JE,normalmap_pars_fragment:KE,clearcoat_normal_fragment_begin:YE,clearcoat_normal_fragment_maps:$E,clearcoat_pars_fragment:ZE,iridescence_pars_fragment:QE,opaque_fragment:eA,packing:tA,premultiplied_alpha_fragment:nA,project_vertex:aA,dithering_fragment:iA,dithering_pars_fragment:rA,roughnessmap_fragment:oA,roughnessmap_pars_fragment:sA,shadowmap_pars_fragment:lA,shadowmap_pars_vertex:cA,shadowmap_vertex:uA,shadowmask_pars_fragment:dA,skinbase_vertex:fA,skinning_pars_vertex:hA,skinning_vertex:pA,skinnormal_vertex:mA,specularmap_fragment:gA,specularmap_pars_fragment:vA,tonemapping_fragment:yA,tonemapping_pars_fragment:_A,transmission_fragment:xA,transmission_pars_fragment:SA,uv_pars_fragment:bA,uv_pars_vertex:MA,uv_vertex:EA,worldpos_vertex:AA,background_vert:TA,background_frag:wA,backgroundCube_vert:CA,backgroundCube_frag:RA,cube_vert:PA,cube_frag:LA,depth_vert:IA,depth_frag:DA,distanceRGBA_vert:NA,distanceRGBA_frag:UA,equirect_vert:zA,equirect_frag:FA,linedashed_vert:OA,linedashed_frag:BA,meshbasic_vert:kA,meshbasic_frag:HA,meshlambert_vert:jA,meshlambert_frag:VA,meshmatcap_vert:GA,meshmatcap_frag:qA,meshnormal_vert:WA,meshnormal_frag:XA,meshphong_vert:JA,meshphong_frag:KA,meshphysical_vert:YA,meshphysical_frag:$A,meshtoon_vert:ZA,meshtoon_frag:QA,points_vert:eT,points_frag:tT,shadow_vert:nT,shadow_frag:aT,sprite_vert:iT,sprite_frag:rT},ye={common:{diffuse:{value:new nt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new We},alphaMap:{value:null},alphaMapTransform:{value:new We},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new We}},envmap:{envMap:{value:null},envMapRotation:{value:new We},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new We}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new We}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new We},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new We},normalScale:{value:new it(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new We},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new We}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new We}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new We}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new nt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new nt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new We},alphaTest:{value:0},uvTransform:{value:new We}},sprite:{diffuse:{value:new nt(16777215)},opacity:{value:1},center:{value:new it(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new We},alphaMap:{value:null},alphaMapTransform:{value:new We},alphaTest:{value:0}}},aa={basic:{uniforms:rn([ye.common,ye.specularmap,ye.envmap,ye.aomap,ye.lightmap,ye.fog]),vertexShader:qe.meshbasic_vert,fragmentShader:qe.meshbasic_frag},lambert:{uniforms:rn([ye.common,ye.specularmap,ye.envmap,ye.aomap,ye.lightmap,ye.emissivemap,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.fog,ye.lights,{emissive:{value:new nt(0)}}]),vertexShader:qe.meshlambert_vert,fragmentShader:qe.meshlambert_frag},phong:{uniforms:rn([ye.common,ye.specularmap,ye.envmap,ye.aomap,ye.lightmap,ye.emissivemap,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.fog,ye.lights,{emissive:{value:new nt(0)},specular:{value:new nt(1118481)},shininess:{value:30}}]),vertexShader:qe.meshphong_vert,fragmentShader:qe.meshphong_frag},standard:{uniforms:rn([ye.common,ye.envmap,ye.aomap,ye.lightmap,ye.emissivemap,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.roughnessmap,ye.metalnessmap,ye.fog,ye.lights,{emissive:{value:new nt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:qe.meshphysical_vert,fragmentShader:qe.meshphysical_frag},toon:{uniforms:rn([ye.common,ye.aomap,ye.lightmap,ye.emissivemap,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.gradientmap,ye.fog,ye.lights,{emissive:{value:new nt(0)}}]),vertexShader:qe.meshtoon_vert,fragmentShader:qe.meshtoon_frag},matcap:{uniforms:rn([ye.common,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.fog,{matcap:{value:null}}]),vertexShader:qe.meshmatcap_vert,fragmentShader:qe.meshmatcap_frag},points:{uniforms:rn([ye.points,ye.fog]),vertexShader:qe.points_vert,fragmentShader:qe.points_frag},dashed:{uniforms:rn([ye.common,ye.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:qe.linedashed_vert,fragmentShader:qe.linedashed_frag},depth:{uniforms:rn([ye.common,ye.displacementmap]),vertexShader:qe.depth_vert,fragmentShader:qe.depth_frag},normal:{uniforms:rn([ye.common,ye.bumpmap,ye.normalmap,ye.displacementmap,{opacity:{value:1}}]),vertexShader:qe.meshnormal_vert,fragmentShader:qe.meshnormal_frag},sprite:{uniforms:rn([ye.sprite,ye.fog]),vertexShader:qe.sprite_vert,fragmentShader:qe.sprite_frag},background:{uniforms:{uvTransform:{value:new We},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:qe.background_vert,fragmentShader:qe.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new We}},vertexShader:qe.backgroundCube_vert,fragmentShader:qe.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:qe.cube_vert,fragmentShader:qe.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:qe.equirect_vert,fragmentShader:qe.equirect_frag},distanceRGBA:{uniforms:rn([ye.common,ye.displacementmap,{referencePosition:{value:new k},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:qe.distanceRGBA_vert,fragmentShader:qe.distanceRGBA_frag},shadow:{uniforms:rn([ye.lights,ye.fog,{color:{value:new nt(0)},opacity:{value:1}}]),vertexShader:qe.shadow_vert,fragmentShader:qe.shadow_frag}};aa.physical={uniforms:rn([aa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new We},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new We},clearcoatNormalScale:{value:new it(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new We},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new We},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new We},sheen:{value:0},sheenColor:{value:new nt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new We},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new We},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new We},transmissionSamplerSize:{value:new it},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new We},attenuationDistance:{value:0},attenuationColor:{value:new nt(0)},specularColor:{value:new nt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new We},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new We},anisotropyVector:{value:new it},anisotropyMap:{value:null},anisotropyMapTransform:{value:new We}}]),vertexShader:qe.meshphysical_vert,fragmentShader:qe.meshphysical_frag};const tl={r:0,b:0,g:0},Mi=new ua,oT=new At;function sT(t,e,n,a,i,r,o){const s=new nt(0);let l=r===!0?0:1,c,u,f=null,h=0,p=null;function y(g){let v=g.isScene===!0?g.background:null;return v&&v.isTexture&&(v=(g.backgroundBlurriness>0?n:e).get(v)),v}function _(g){let v=!1;const b=y(g);b===null?d(s,l):b&&b.isColor&&(d(b,1),v=!0);const w=t.xr.getEnvironmentBlendMode();w==="additive"?a.buffers.color.setClear(0,0,0,1,o):w==="alpha-blend"&&a.buffers.color.setClear(0,0,0,0,o),(t.autoClear||v)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil)}function m(g,v){const b=y(v);b&&(b.isCubeTexture||b.mapping===xc)?(u===void 0&&(u=new sa(new gs(1,1,1),new di({name:"BackgroundCubeMaterial",uniforms:Yr(aa.backgroundCube.uniforms),vertexShader:aa.backgroundCube.vertexShader,fragmentShader:aa.backgroundCube.fragmentShader,side:yn,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(w,T,x){this.matrixWorld.copyPosition(x.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),Mi.copy(v.backgroundRotation),Mi.x*=-1,Mi.y*=-1,Mi.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(Mi.y*=-1,Mi.z*=-1),u.material.uniforms.envMap.value=b,u.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(oT.makeRotationFromEuler(Mi)),u.material.toneMapped=lt.getTransfer(b.colorSpace)!==mt,(f!==b||h!==b.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,f=b,h=b.version,p=t.toneMapping),u.layers.enableAll(),g.unshift(u,u.geometry,u.material,0,0,null)):b&&b.isTexture&&(c===void 0&&(c=new sa(new Mc(2,2),new di({name:"BackgroundMaterial",uniforms:Yr(aa.background.uniforms),vertexShader:aa.background.vertexShader,fragmentShader:aa.background.fragmentShader,side:ci,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=b,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=lt.getTransfer(b.colorSpace)!==mt,b.matrixAutoUpdate===!0&&b.updateMatrix(),c.material.uniforms.uvTransform.value.copy(b.matrix),(f!==b||h!==b.version||p!==t.toneMapping)&&(c.material.needsUpdate=!0,f=b,h=b.version,p=t.toneMapping),c.layers.enableAll(),g.unshift(c,c.geometry,c.material,0,0,null))}function d(g,v){g.getRGB(tl,l0(t)),a.buffers.color.setClear(tl.r,tl.g,tl.b,v,o)}return{getClearColor:function(){return s},setClearColor:function(g,v=1){s.set(g),l=v,d(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(g){l=g,d(s,l)},render:_,addToRenderList:m}}function lT(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),a={},i=h(null);let r=i,o=!1;function s(S,N,q,I,J){let K=!1;const se=f(I,q,N);r!==se&&(r=se,c(r.object)),K=p(S,I,q,J),K&&y(S,I,q,J),J!==null&&e.update(J,t.ELEMENT_ARRAY_BUFFER),(K||o)&&(o=!1,b(S,N,q,I),J!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(J).buffer))}function l(){return t.createVertexArray()}function c(S){return t.bindVertexArray(S)}function u(S){return t.deleteVertexArray(S)}function f(S,N,q){const I=q.wireframe===!0;let J=a[S.id];J===void 0&&(J={},a[S.id]=J);let K=J[N.id];K===void 0&&(K={},J[N.id]=K);let se=K[I];return se===void 0&&(se=h(l()),K[I]=se),se}function h(S){const N=[],q=[],I=[];for(let J=0;J<n;J++)N[J]=0,q[J]=0,I[J]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:N,enabledAttributes:q,attributeDivisors:I,object:S,attributes:{},index:null}}function p(S,N,q,I){const J=r.attributes,K=N.attributes;let se=0;const re=q.getAttributes();for(const R in re)if(re[R].location>=0){const X=J[R];let ce=K[R];if(ce===void 0&&(R==="instanceMatrix"&&S.instanceMatrix&&(ce=S.instanceMatrix),R==="instanceColor"&&S.instanceColor&&(ce=S.instanceColor)),X===void 0||X.attribute!==ce||ce&&X.data!==ce.data)return!0;se++}return r.attributesNum!==se||r.index!==I}function y(S,N,q,I){const J={},K=N.attributes;let se=0;const re=q.getAttributes();for(const R in re)if(re[R].location>=0){let X=K[R];X===void 0&&(R==="instanceMatrix"&&S.instanceMatrix&&(X=S.instanceMatrix),R==="instanceColor"&&S.instanceColor&&(X=S.instanceColor));const ce={};ce.attribute=X,X&&X.data&&(ce.data=X.data),J[R]=ce,se++}r.attributes=J,r.attributesNum=se,r.index=I}function _(){const S=r.newAttributes;for(let N=0,q=S.length;N<q;N++)S[N]=0}function m(S){d(S,0)}function d(S,N){const q=r.newAttributes,I=r.enabledAttributes,J=r.attributeDivisors;q[S]=1,I[S]===0&&(t.enableVertexAttribArray(S),I[S]=1),J[S]!==N&&(t.vertexAttribDivisor(S,N),J[S]=N)}function g(){const S=r.newAttributes,N=r.enabledAttributes;for(let q=0,I=N.length;q<I;q++)N[q]!==S[q]&&(t.disableVertexAttribArray(q),N[q]=0)}function v(S,N,q,I,J,K,se){se===!0?t.vertexAttribIPointer(S,N,q,J,K):t.vertexAttribPointer(S,N,q,I,J,K)}function b(S,N,q,I){_();const J=I.attributes,K=q.getAttributes(),se=N.defaultAttributeValues;for(const re in K){const R=K[re];if(R.location>=0){let W=J[re];if(W===void 0&&(re==="instanceMatrix"&&S.instanceMatrix&&(W=S.instanceMatrix),re==="instanceColor"&&S.instanceColor&&(W=S.instanceColor)),W!==void 0){const X=W.normalized,ce=W.itemSize,Me=e.get(W);if(Me===void 0)continue;const Je=Me.buffer,V=Me.type,ae=Me.bytesPerElement,ge=V===t.INT||V===t.UNSIGNED_INT||W.gpuType===Wy;if(W.isInterleavedBufferAttribute){const le=W.data,Xe=le.stride,Ke=W.offset;if(le.isInstancedInterleavedBuffer){for(let F=0;F<R.locationSize;F++)d(R.location+F,le.meshPerAttribute);S.isInstancedMesh!==!0&&I._maxInstanceCount===void 0&&(I._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let F=0;F<R.locationSize;F++)m(R.location+F);t.bindBuffer(t.ARRAY_BUFFER,Je);for(let F=0;F<R.locationSize;F++)v(R.location+F,ce/R.locationSize,V,X,Xe*ae,(Ke+ce/R.locationSize*F)*ae,ge)}else{if(W.isInstancedBufferAttribute){for(let le=0;le<R.locationSize;le++)d(R.location+le,W.meshPerAttribute);S.isInstancedMesh!==!0&&I._maxInstanceCount===void 0&&(I._maxInstanceCount=W.meshPerAttribute*W.count)}else for(let le=0;le<R.locationSize;le++)m(R.location+le);t.bindBuffer(t.ARRAY_BUFFER,Je);for(let le=0;le<R.locationSize;le++)v(R.location+le,ce/R.locationSize,V,X,ce*ae,ce/R.locationSize*le*ae,ge)}}else if(se!==void 0){const X=se[re];if(X!==void 0)switch(X.length){case 2:t.vertexAttrib2fv(R.location,X);break;case 3:t.vertexAttrib3fv(R.location,X);break;case 4:t.vertexAttrib4fv(R.location,X);break;default:t.vertexAttrib1fv(R.location,X)}}}}g()}function w(){P();for(const S in a){const N=a[S];for(const q in N){const I=N[q];for(const J in I)u(I[J].object),delete I[J];delete N[q]}delete a[S]}}function T(S){if(a[S.id]===void 0)return;const N=a[S.id];for(const q in N){const I=N[q];for(const J in I)u(I[J].object),delete I[J];delete N[q]}delete a[S.id]}function x(S){for(const N in a){const q=a[N];if(q[S.id]===void 0)continue;const I=q[S.id];for(const J in I)u(I[J].object),delete I[J];delete q[S.id]}}function P(){E(),o=!0,r!==i&&(r=i,c(r.object))}function E(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:s,reset:P,resetDefaultState:E,dispose:w,releaseStatesOfGeometry:T,releaseStatesOfProgram:x,initAttributes:_,enableAttribute:m,disableUnusedAttributes:g}}function cT(t,e,n){let a;function i(c){a=c}function r(c,u){t.drawArrays(a,c,u),n.update(u,a,1)}function o(c,u,f){f!==0&&(t.drawArraysInstanced(a,c,u,f),n.update(u,a,f))}function s(c,u,f){if(f===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let p=0;p<f;p++)this.render(c[p],u[p]);else{h.multiDrawArraysWEBGL(a,c,0,u,0,f);let p=0;for(let y=0;y<f;y++)p+=u[y];n.update(p,a,1)}}function l(c,u,f,h){if(f===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let y=0;y<c.length;y++)o(c[y],u[y],h[y]);else{p.multiDrawArraysInstancedWEBGL(a,c,0,u,0,h,0,f);let y=0;for(let _=0;_<f;_++)y+=u[_];for(let _=0;_<h.length;_++)n.update(y,a,h[_])}}this.setMode=i,this.render=r,this.renderInstances=o,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function uT(t,e,n,a){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(T){return!(T!==oa&&a.convert(T)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(T){const x=T===Sc&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(T!==ui&&a.convert(T)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&T!==Ya&&!x)}function l(T){if(T==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const f=n.logarithmicDepthBuffer===!0,h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),y=t.getParameter(t.MAX_TEXTURE_SIZE),_=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),m=t.getParameter(t.MAX_VERTEX_ATTRIBS),d=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),v=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),b=p>0,w=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:s,precision:c,logarithmicDepthBuffer:f,maxTextures:h,maxVertexTextures:p,maxTextureSize:y,maxCubemapSize:_,maxAttributes:m,maxVertexUniforms:d,maxVaryings:g,maxFragmentUniforms:v,vertexTextures:b,maxSamples:w}}function dT(t){const e=this;let n=null,a=0,i=!1,r=!1;const o=new wi,s=new We,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const p=f.length!==0||h||a!==0||i;return i=h,a=f.length,p},this.beginShadows=function(){r=!0,u(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(f,h){n=u(f,h,0)},this.setState=function(f,h,p){const y=f.clippingPlanes,_=f.clipIntersection,m=f.clipShadows,d=t.get(f);if(!i||y===null||y.length===0||r&&!m)r?u(null):c();else{const g=r?0:a,v=g*4;let b=d.clippingState||null;l.value=b,b=u(y,h,v,p);for(let w=0;w!==v;++w)b[w]=n[w];d.clippingState=b,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=g}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=a>0),e.numPlanes=a,e.numIntersection=0}function u(f,h,p,y){const _=f!==null?f.length:0;let m=null;if(_!==0){if(m=l.value,y!==!0||m===null){const d=p+_*4,g=h.matrixWorldInverse;s.getNormalMatrix(g),(m===null||m.length<d)&&(m=new Float32Array(d));for(let v=0,b=p;v!==_;++v,b+=4)o.copy(f[v]).applyMatrix4(g,s),o.normal.toArray(m,b),m[b+3]=o.constant}l.value=m,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,m}}function fT(t){let e=new WeakMap;function n(o,s){return s===kd?o.mapping=Xr:s===Hd&&(o.mapping=Jr),o}function a(o){if(o&&o.isTexture){const s=o.mapping;if(s===kd||s===Hd)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new MM(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const s=o.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function r(){e=new WeakMap}return{get:a,dispose:r}}class f0 extends c0{constructor(e=-1,n=1,a=1,i=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=a,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,a,i,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=a,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),a=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=a-e,o=a+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,o=r+c*this.view.width,s-=u*this.view.offsetY,l=s-u*this.view.height}this.projectionMatrix.makeOrthographic(r,o,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Pr=4,Nm=[.125,.215,.35,.446,.526,.582],Pi=20,Pu=new f0,Um=new nt;let Lu=null,Iu=0,Du=0,Nu=!1;const Ci=(1+Math.sqrt(5))/2,gr=1/Ci,zm=[new k(-Ci,gr,0),new k(Ci,gr,0),new k(-gr,0,Ci),new k(gr,0,Ci),new k(0,Ci,-gr),new k(0,Ci,gr),new k(-1,1,-1),new k(1,1,-1),new k(-1,1,1),new k(1,1,1)];class Fm{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,a=.1,i=100){Lu=this._renderer.getRenderTarget(),Iu=this._renderer.getActiveCubeFace(),Du=this._renderer.getActiveMipmapLevel(),Nu=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,a,i,r),n>0&&this._blur(r,0,0,n),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=km(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Bm(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Lu,Iu,Du),this._renderer.xr.enabled=Nu,e.scissorTest=!1,nl(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Xr||e.mapping===Jr?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Lu=this._renderer.getRenderTarget(),Iu=this._renderer.getActiveCubeFace(),Du=this._renderer.getActiveMipmapLevel(),Nu=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const a=n||this._allocateTargets();return this._textureToCubeUV(e,a),this._applyPMREM(a),this._cleanup(a),a}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,a={magFilter:Kn,minFilter:Kn,generateMipmaps:!1,type:Sc,format:oa,colorSpace:mi,depthBuffer:!1},i=Om(e,n,a);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Om(e,n,a);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=hT(r)),this._blurMaterial=pT(r,e,n)}return i}_compileMaterial(e){const n=new sa(this._lodPlanes[0],e);this._renderer.compile(n,Pu)}_sceneToCubeUV(e,n,a,i){const s=new Dn(90,1,n,a),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,h=u.toneMapping;u.getClearColor(Um),u.toneMapping=oi,u.autoClear=!1;const p=new r0({name:"PMREM.Background",side:yn,depthWrite:!1,depthTest:!1}),y=new sa(new gs,p);let _=!1;const m=e.background;m?m.isColor&&(p.color.copy(m),e.background=null,_=!0):(p.color.copy(Um),_=!0);for(let d=0;d<6;d++){const g=d%3;g===0?(s.up.set(0,l[d],0),s.lookAt(c[d],0,0)):g===1?(s.up.set(0,0,l[d]),s.lookAt(0,c[d],0)):(s.up.set(0,l[d],0),s.lookAt(0,0,c[d]));const v=this._cubeSize;nl(i,g*v,d>2?v:0,v,v),u.setRenderTarget(i),_&&u.render(y,s),u.render(e,s)}y.geometry.dispose(),y.material.dispose(),u.toneMapping=h,u.autoClear=f,e.background=m}_textureToCubeUV(e,n){const a=this._renderer,i=e.mapping===Xr||e.mapping===Jr;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=km()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Bm());const r=i?this._cubemapMaterial:this._equirectMaterial,o=new sa(this._lodPlanes[0],r),s=r.uniforms;s.envMap.value=e;const l=this._cubeSize;nl(n,0,0,3*l,2*l),a.setRenderTarget(n),a.render(o,Pu)}_applyPMREM(e){const n=this._renderer,a=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let r=1;r<i;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),s=zm[(i-r-1)%zm.length];this._blur(e,r-1,r,o,s)}n.autoClear=a}_blur(e,n,a,i,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,a,i,"latitudinal",r),this._halfBlur(o,e,a,a,i,"longitudinal",r)}_halfBlur(e,n,a,i,r,o,s){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new sa(this._lodPlanes[i],c),h=c.uniforms,p=this._sizeLods[a]-1,y=isFinite(r)?Math.PI/(2*p):2*Math.PI/(2*Pi-1),_=r/y,m=isFinite(r)?1+Math.floor(u*_):Pi;m>Pi&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Pi}`);const d=[];let g=0;for(let x=0;x<Pi;++x){const P=x/_,E=Math.exp(-P*P/2);d.push(E),x===0?g+=E:x<m&&(g+=2*E)}for(let x=0;x<d.length;x++)d[x]=d[x]/g;h.envMap.value=e.texture,h.samples.value=m,h.weights.value=d,h.latitudinal.value=o==="latitudinal",s&&(h.poleAxis.value=s);const{_lodMax:v}=this;h.dTheta.value=y,h.mipInt.value=v-a;const b=this._sizeLods[i],w=3*b*(i>v-Pr?i-v+Pr:0),T=4*(this._cubeSize-b);nl(n,w,T,3*b,2*b),l.setRenderTarget(n),l.render(f,Pu)}}function hT(t){const e=[],n=[],a=[];let i=t;const r=t-Pr+1+Nm.length;for(let o=0;o<r;o++){const s=Math.pow(2,i);n.push(s);let l=1/s;o>t-Pr?l=Nm[o-t+Pr-1]:o===0&&(l=0),a.push(l);const c=1/(s-2),u=-c,f=1+c,h=[u,u,f,u,f,f,u,u,f,f,u,f],p=6,y=6,_=3,m=2,d=1,g=new Float32Array(_*y*p),v=new Float32Array(m*y*p),b=new Float32Array(d*y*p);for(let T=0;T<p;T++){const x=T%3*2/3-1,P=T>2?0:-1,E=[x,P,0,x+2/3,P,0,x+2/3,P+1,0,x,P,0,x+2/3,P+1,0,x,P+1,0];g.set(E,_*y*T),v.set(h,m*y*T);const S=[T,T,T,T,T,T];b.set(S,d*y*T)}const w=new kn;w.setAttribute("position",new Zn(g,_)),w.setAttribute("uv",new Zn(v,m)),w.setAttribute("faceIndex",new Zn(b,d)),e.push(w),i>Pr&&i--}return{lodPlanes:e,sizeLods:n,sigmas:a}}function Om(t,e,n){const a=new Xi(t,e,n);return a.texture.mapping=xc,a.texture.name="PMREM.cubeUv",a.scissorTest=!0,a}function nl(t,e,n,a,i){t.viewport.set(e,n,a,i),t.scissor.set(e,n,a,i)}function pT(t,e,n){const a=new Float32Array(Pi),i=new k(0,1,0);return new di({name:"SphericalGaussianBlur",defines:{n:Pi,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:a},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:th(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ri,depthTest:!1,depthWrite:!1})}function Bm(){return new di({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:th(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ri,depthTest:!1,depthWrite:!1})}function km(){return new di({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:th(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ri,depthTest:!1,depthWrite:!1})}function th(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function mT(t){let e=new WeakMap,n=null;function a(s){if(s&&s.isTexture){const l=s.mapping,c=l===kd||l===Hd,u=l===Xr||l===Jr;if(c||u){let f=e.get(s);const h=f!==void 0?f.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==h)return n===null&&(n=new Fm(t)),f=c?n.fromEquirectangular(s,f):n.fromCubemap(s,f),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),f.texture;if(f!==void 0)return f.texture;{const p=s.image;return c&&p&&p.height>0||u&&p&&i(p)?(n===null&&(n=new Fm(t)),f=c?n.fromEquirectangular(s):n.fromCubemap(s),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),s.addEventListener("dispose",r),f.texture):null}}}return s}function i(s){let l=0;const c=6;for(let u=0;u<c;u++)s[u]!==void 0&&l++;return l===c}function r(s){const l=s.target;l.removeEventListener("dispose",r);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:a,dispose:o}}function gT(t){const e={};function n(a){if(e[a]!==void 0)return e[a];let i;switch(a){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(a)}return e[a]=i,i}return{has:function(a){return n(a)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(a){const i=n(a);return i===null&&console.warn("THREE.WebGLRenderer: "+a+" extension not supported."),i}}}function vT(t,e,n,a){const i={},r=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const y in h.attributes)e.remove(h.attributes[y]);for(const y in h.morphAttributes){const _=h.morphAttributes[y];for(let m=0,d=_.length;m<d;m++)e.remove(_[m])}h.removeEventListener("dispose",o),delete i[h.id];const p=r.get(h);p&&(e.remove(p),r.delete(h)),a.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function s(f,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,n.memory.geometries++),h}function l(f){const h=f.attributes;for(const y in h)e.update(h[y],t.ARRAY_BUFFER);const p=f.morphAttributes;for(const y in p){const _=p[y];for(let m=0,d=_.length;m<d;m++)e.update(_[m],t.ARRAY_BUFFER)}}function c(f){const h=[],p=f.index,y=f.attributes.position;let _=0;if(p!==null){const g=p.array;_=p.version;for(let v=0,b=g.length;v<b;v+=3){const w=g[v+0],T=g[v+1],x=g[v+2];h.push(w,T,T,x,x,w)}}else if(y!==void 0){const g=y.array;_=y.version;for(let v=0,b=g.length/3-1;v<b;v+=3){const w=v+0,T=v+1,x=v+2;h.push(w,T,T,x,x,w)}}else return;const m=new(e0(h)?s0:o0)(h,1);m.version=_;const d=r.get(f);d&&e.remove(d),r.set(f,m)}function u(f){const h=r.get(f);if(h){const p=f.index;p!==null&&h.version<p.version&&c(f)}else c(f);return r.get(f)}return{get:s,update:l,getWireframeAttribute:u}}function yT(t,e,n){let a;function i(h){a=h}let r,o;function s(h){r=h.type,o=h.bytesPerElement}function l(h,p){t.drawElements(a,p,r,h*o),n.update(p,a,1)}function c(h,p,y){y!==0&&(t.drawElementsInstanced(a,p,r,h*o,y),n.update(p,a,y))}function u(h,p,y){if(y===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let m=0;m<y;m++)this.render(h[m]/o,p[m]);else{_.multiDrawElementsWEBGL(a,p,0,r,h,0,y);let m=0;for(let d=0;d<y;d++)m+=p[d];n.update(m,a,1)}}function f(h,p,y,_){if(y===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let d=0;d<h.length;d++)c(h[d]/o,p[d],_[d]);else{m.multiDrawElementsInstancedWEBGL(a,p,0,r,h,0,_,0,y);let d=0;for(let g=0;g<y;g++)d+=p[g];for(let g=0;g<_.length;g++)n.update(d,a,_[g])}}this.setMode=i,this.setIndex=s,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=f}function _T(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function a(r,o,s){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=s*(r/3);break;case t.LINES:n.lines+=s*(r/2);break;case t.LINE_STRIP:n.lines+=s*(r-1);break;case t.LINE_LOOP:n.lines+=s*r;break;case t.POINTS:n.points+=s*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:a}}function xT(t,e,n){const a=new WeakMap,i=new Vt;function r(o,s,l){const c=o.morphTargetInfluences,u=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,f=u!==void 0?u.length:0;let h=a.get(s);if(h===void 0||h.count!==f){let S=function(){P.dispose(),a.delete(s),s.removeEventListener("dispose",S)};var p=S;h!==void 0&&h.texture.dispose();const y=s.morphAttributes.position!==void 0,_=s.morphAttributes.normal!==void 0,m=s.morphAttributes.color!==void 0,d=s.morphAttributes.position||[],g=s.morphAttributes.normal||[],v=s.morphAttributes.color||[];let b=0;y===!0&&(b=1),_===!0&&(b=2),m===!0&&(b=3);let w=s.attributes.position.count*b,T=1;w>e.maxTextureSize&&(T=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);const x=new Float32Array(w*T*4*f),P=new n0(x,w,T,f);P.type=Ya,P.needsUpdate=!0;const E=b*4;for(let N=0;N<f;N++){const q=d[N],I=g[N],J=v[N],K=w*T*4*N;for(let se=0;se<q.count;se++){const re=se*E;y===!0&&(i.fromBufferAttribute(q,se),x[K+re+0]=i.x,x[K+re+1]=i.y,x[K+re+2]=i.z,x[K+re+3]=0),_===!0&&(i.fromBufferAttribute(I,se),x[K+re+4]=i.x,x[K+re+5]=i.y,x[K+re+6]=i.z,x[K+re+7]=0),m===!0&&(i.fromBufferAttribute(J,se),x[K+re+8]=i.x,x[K+re+9]=i.y,x[K+re+10]=i.z,x[K+re+11]=J.itemSize===4?i.w:1)}}h={count:f,texture:P,size:new it(w,T)},a.set(s,h),s.addEventListener("dispose",S)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let y=0;for(let m=0;m<c.length;m++)y+=c[m];const _=s.morphTargetsRelative?1:1-y;l.getUniforms().setValue(t,"morphTargetBaseInfluence",_),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:r}}function ST(t,e,n,a){let i=new WeakMap;function r(l){const c=a.render.frame,u=l.geometry,f=e.get(l,u);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;i.get(h)!==c&&(h.update(),i.set(h,c))}return f}function o(){i=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:r,dispose:o}}class h0 extends ln{constructor(e,n,a,i,r,o,s,l,c,u){if(u=u!==void 0?u:Or,u!==Or&&u!==as)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");a===void 0&&u===Or&&(a=Kr),a===void 0&&u===as&&(a=ds),super(null,i,r,o,s,l,u,a,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=s!==void 0?s:Un,this.minFilter=l!==void 0?l:Un,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const p0=new ln,m0=new h0(1,1);m0.compareFunction=Qy;const g0=new n0,v0=new sM,y0=new u0,Hm=[],jm=[],Vm=new Float32Array(16),Gm=new Float32Array(9),qm=new Float32Array(4);function no(t,e,n){const a=t[0];if(a<=0||a>0)return t;const i=e*n;let r=Hm[i];if(r===void 0&&(r=new Float32Array(i),Hm[i]=r),e!==0){a.toArray(r,0);for(let o=1,s=0;o!==e;++o)s+=n,t[o].toArray(r,s)}return r}function Bt(t,e){if(t.length!==e.length)return!1;for(let n=0,a=t.length;n<a;n++)if(t[n]!==e[n])return!1;return!0}function kt(t,e){for(let n=0,a=e.length;n<a;n++)t[n]=e[n]}function Ec(t,e){let n=jm[e];n===void 0&&(n=new Int32Array(e),jm[e]=n);for(let a=0;a!==e;++a)n[a]=t.allocateTextureUnit();return n}function bT(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function MT(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Bt(n,e))return;t.uniform2fv(this.addr,e),kt(n,e)}}function ET(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Bt(n,e))return;t.uniform3fv(this.addr,e),kt(n,e)}}function AT(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Bt(n,e))return;t.uniform4fv(this.addr,e),kt(n,e)}}function TT(t,e){const n=this.cache,a=e.elements;if(a===void 0){if(Bt(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),kt(n,e)}else{if(Bt(n,a))return;qm.set(a),t.uniformMatrix2fv(this.addr,!1,qm),kt(n,a)}}function wT(t,e){const n=this.cache,a=e.elements;if(a===void 0){if(Bt(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),kt(n,e)}else{if(Bt(n,a))return;Gm.set(a),t.uniformMatrix3fv(this.addr,!1,Gm),kt(n,a)}}function CT(t,e){const n=this.cache,a=e.elements;if(a===void 0){if(Bt(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),kt(n,e)}else{if(Bt(n,a))return;Vm.set(a),t.uniformMatrix4fv(this.addr,!1,Vm),kt(n,a)}}function RT(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function PT(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Bt(n,e))return;t.uniform2iv(this.addr,e),kt(n,e)}}function LT(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Bt(n,e))return;t.uniform3iv(this.addr,e),kt(n,e)}}function IT(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Bt(n,e))return;t.uniform4iv(this.addr,e),kt(n,e)}}function DT(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function NT(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Bt(n,e))return;t.uniform2uiv(this.addr,e),kt(n,e)}}function UT(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Bt(n,e))return;t.uniform3uiv(this.addr,e),kt(n,e)}}function zT(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Bt(n,e))return;t.uniform4uiv(this.addr,e),kt(n,e)}}function FT(t,e,n){const a=this.cache,i=n.allocateTextureUnit();a[0]!==i&&(t.uniform1i(this.addr,i),a[0]=i);const r=this.type===t.SAMPLER_2D_SHADOW?m0:p0;n.setTexture2D(e||r,i)}function OT(t,e,n){const a=this.cache,i=n.allocateTextureUnit();a[0]!==i&&(t.uniform1i(this.addr,i),a[0]=i),n.setTexture3D(e||v0,i)}function BT(t,e,n){const a=this.cache,i=n.allocateTextureUnit();a[0]!==i&&(t.uniform1i(this.addr,i),a[0]=i),n.setTextureCube(e||y0,i)}function kT(t,e,n){const a=this.cache,i=n.allocateTextureUnit();a[0]!==i&&(t.uniform1i(this.addr,i),a[0]=i),n.setTexture2DArray(e||g0,i)}function HT(t){switch(t){case 5126:return bT;case 35664:return MT;case 35665:return ET;case 35666:return AT;case 35674:return TT;case 35675:return wT;case 35676:return CT;case 5124:case 35670:return RT;case 35667:case 35671:return PT;case 35668:case 35672:return LT;case 35669:case 35673:return IT;case 5125:return DT;case 36294:return NT;case 36295:return UT;case 36296:return zT;case 35678:case 36198:case 36298:case 36306:case 35682:return FT;case 35679:case 36299:case 36307:return OT;case 35680:case 36300:case 36308:case 36293:return BT;case 36289:case 36303:case 36311:case 36292:return kT}}function jT(t,e){t.uniform1fv(this.addr,e)}function VT(t,e){const n=no(e,this.size,2);t.uniform2fv(this.addr,n)}function GT(t,e){const n=no(e,this.size,3);t.uniform3fv(this.addr,n)}function qT(t,e){const n=no(e,this.size,4);t.uniform4fv(this.addr,n)}function WT(t,e){const n=no(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function XT(t,e){const n=no(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function JT(t,e){const n=no(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function KT(t,e){t.uniform1iv(this.addr,e)}function YT(t,e){t.uniform2iv(this.addr,e)}function $T(t,e){t.uniform3iv(this.addr,e)}function ZT(t,e){t.uniform4iv(this.addr,e)}function QT(t,e){t.uniform1uiv(this.addr,e)}function e2(t,e){t.uniform2uiv(this.addr,e)}function t2(t,e){t.uniform3uiv(this.addr,e)}function n2(t,e){t.uniform4uiv(this.addr,e)}function a2(t,e,n){const a=this.cache,i=e.length,r=Ec(n,i);Bt(a,r)||(t.uniform1iv(this.addr,r),kt(a,r));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||p0,r[o])}function i2(t,e,n){const a=this.cache,i=e.length,r=Ec(n,i);Bt(a,r)||(t.uniform1iv(this.addr,r),kt(a,r));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||v0,r[o])}function r2(t,e,n){const a=this.cache,i=e.length,r=Ec(n,i);Bt(a,r)||(t.uniform1iv(this.addr,r),kt(a,r));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||y0,r[o])}function o2(t,e,n){const a=this.cache,i=e.length,r=Ec(n,i);Bt(a,r)||(t.uniform1iv(this.addr,r),kt(a,r));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||g0,r[o])}function s2(t){switch(t){case 5126:return jT;case 35664:return VT;case 35665:return GT;case 35666:return qT;case 35674:return WT;case 35675:return XT;case 35676:return JT;case 5124:case 35670:return KT;case 35667:case 35671:return YT;case 35668:case 35672:return $T;case 35669:case 35673:return ZT;case 5125:return QT;case 36294:return e2;case 36295:return t2;case 36296:return n2;case 35678:case 36198:case 36298:case 36306:case 35682:return a2;case 35679:case 36299:case 36307:return i2;case 35680:case 36300:case 36308:case 36293:return r2;case 36289:case 36303:case 36311:case 36292:return o2}}class l2{constructor(e,n,a){this.id=e,this.addr=a,this.cache=[],this.type=n.type,this.setValue=HT(n.type)}}class c2{constructor(e,n,a){this.id=e,this.addr=a,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=s2(n.type)}}class u2{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,a){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const s=i[r];s.setValue(e,n[s.id],a)}}}const Uu=/(\w+)(\])?(\[|\.)?/g;function Wm(t,e){t.seq.push(e),t.map[e.id]=e}function d2(t,e,n){const a=t.name,i=a.length;for(Uu.lastIndex=0;;){const r=Uu.exec(a),o=Uu.lastIndex;let s=r[1];const l=r[2]==="]",c=r[3];if(l&&(s=s|0),c===void 0||c==="["&&o+2===i){Wm(n,c===void 0?new l2(s,t,e):new c2(s,t,e));break}else{let f=n.map[s];f===void 0&&(f=new u2(s),Wm(n,f)),n=f}}}class xl{constructor(e,n){this.seq=[],this.map={};const a=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<a;++i){const r=e.getActiveUniform(n,i),o=e.getUniformLocation(n,r.name);d2(r,o,this)}}setValue(e,n,a,i){const r=this.map[n];r!==void 0&&r.setValue(e,a,i)}setOptional(e,n,a){const i=n[a];i!==void 0&&this.setValue(e,a,i)}static upload(e,n,a,i){for(let r=0,o=n.length;r!==o;++r){const s=n[r],l=a[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const a=[];for(let i=0,r=e.length;i!==r;++i){const o=e[i];o.id in n&&a.push(o)}return a}}function Xm(t,e,n){const a=t.createShader(e);return t.shaderSource(a,n),t.compileShader(a),a}const f2=37297;let h2=0;function p2(t,e){const n=t.split(`
`),a=[],i=Math.max(e-6,0),r=Math.min(e+6,n.length);for(let o=i;o<r;o++){const s=o+1;a.push(`${s===e?">":" "} ${s}: ${n[o]}`)}return a.join(`
`)}function m2(t){const e=lt.getPrimaries(lt.workingColorSpace),n=lt.getPrimaries(t);let a;switch(e===n?a="":e===Yl&&n===Kl?a="LinearDisplayP3ToLinearSRGB":e===Kl&&n===Yl&&(a="LinearSRGBToLinearDisplayP3"),t){case mi:case bc:return[a,"LinearTransferOETF"];case na:case Zf:return[a,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[a,"LinearTransferOETF"]}}function Jm(t,e,n){const a=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(a&&i==="")return"";const r=/ERROR: 0:(\d+)/.exec(i);if(r){const o=parseInt(r[1]);return n.toUpperCase()+`

`+i+`

`+p2(t.getShaderSource(e),o)}else return i}function g2(t,e){const n=m2(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function v2(t,e){let n;switch(e){case Ab:n="Linear";break;case Tb:n="Reinhard";break;case wb:n="OptimizedCineon";break;case Cb:n="ACESFilmic";break;case Pb:n="AgX";break;case Lb:n="Neutral";break;case Rb:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function y2(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(wo).join(`
`)}function _2(t){const e=[];for(const n in t){const a=t[n];a!==!1&&e.push("#define "+n+" "+a)}return e.join(`
`)}function x2(t,e){const n={},a=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<a;i++){const r=t.getActiveAttrib(e,i),o=r.name;let s=1;r.type===t.FLOAT_MAT2&&(s=2),r.type===t.FLOAT_MAT3&&(s=3),r.type===t.FLOAT_MAT4&&(s=4),n[o]={type:r.type,location:t.getAttribLocation(e,o),locationSize:s}}return n}function wo(t){return t!==""}function Km(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Ym(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const S2=/^[ \t]*#include +<([\w\d./]+)>/gm;function qd(t){return t.replace(S2,M2)}const b2=new Map;function M2(t,e){let n=qe[e];if(n===void 0){const a=b2.get(e);if(a!==void 0)n=qe[a],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,a);else throw new Error("Can not resolve #include <"+e+">")}return qd(n)}const E2=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function $m(t){return t.replace(E2,A2)}function A2(t,e,n,a){let i="";for(let r=parseInt(e);r<parseInt(n);r++)i+=a.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return i}function Zm(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function T2(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Vy?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===$1?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===va&&(e="SHADOWMAP_TYPE_VSM"),e}function w2(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Xr:case Jr:e="ENVMAP_TYPE_CUBE";break;case xc:e="ENVMAP_TYPE_CUBE_UV";break}return e}function C2(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Jr:e="ENVMAP_MODE_REFRACTION";break}return e}function R2(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case $f:e="ENVMAP_BLENDING_MULTIPLY";break;case Mb:e="ENVMAP_BLENDING_MIX";break;case Eb:e="ENVMAP_BLENDING_ADD";break}return e}function P2(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,a=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:a,maxMip:n}}function L2(t,e,n,a){const i=t.getContext(),r=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=T2(n),c=w2(n),u=C2(n),f=R2(n),h=P2(n),p=y2(n),y=_2(r),_=i.createProgram();let m,d,g=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(wo).join(`
`),m.length>0&&(m+=`
`),d=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(wo).join(`
`),d.length>0&&(d+=`
`)):(m=[Zm(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(wo).join(`
`),d=[Zm(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==oi?"#define TONE_MAPPING":"",n.toneMapping!==oi?qe.tonemapping_pars_fragment:"",n.toneMapping!==oi?v2("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",qe.colorspace_pars_fragment,g2("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(wo).join(`
`)),o=qd(o),o=Km(o,n),o=Ym(o,n),s=qd(s),s=Km(s,n),s=Ym(s,n),o=$m(o),s=$m(s),n.isRawShaderMaterial!==!0&&(g=`#version 300 es
`,m=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,d=["#define varying in",n.glslVersion===pm?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===pm?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+d);const v=g+m+o,b=g+d+s,w=Xm(i,i.VERTEX_SHADER,v),T=Xm(i,i.FRAGMENT_SHADER,b);i.attachShader(_,w),i.attachShader(_,T),n.index0AttributeName!==void 0?i.bindAttribLocation(_,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(_,0,"position"),i.linkProgram(_);function x(N){if(t.debug.checkShaderErrors){const q=i.getProgramInfoLog(_).trim(),I=i.getShaderInfoLog(w).trim(),J=i.getShaderInfoLog(T).trim();let K=!0,se=!0;if(i.getProgramParameter(_,i.LINK_STATUS)===!1)if(K=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,_,w,T);else{const re=Jm(i,w,"vertex"),R=Jm(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(_,i.VALIDATE_STATUS)+`

Material Name: `+N.name+`
Material Type: `+N.type+`

Program Info Log: `+q+`
`+re+`
`+R)}else q!==""?console.warn("THREE.WebGLProgram: Program Info Log:",q):(I===""||J==="")&&(se=!1);se&&(N.diagnostics={runnable:K,programLog:q,vertexShader:{log:I,prefix:m},fragmentShader:{log:J,prefix:d}})}i.deleteShader(w),i.deleteShader(T),P=new xl(i,_),E=x2(i,_)}let P;this.getUniforms=function(){return P===void 0&&x(this),P};let E;this.getAttributes=function(){return E===void 0&&x(this),E};let S=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return S===!1&&(S=i.getProgramParameter(_,f2)),S},this.destroy=function(){a.releaseStatesOfProgram(this),i.deleteProgram(_),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=h2++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=w,this.fragmentShader=T,this}let I2=0;class D2{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,a=e.fragmentShader,i=this._getShaderStage(n),r=this._getShaderStage(a),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(r)===!1&&(o.add(r),r.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const a of n)a.usedTimes--,a.usedTimes===0&&this.shaderCache.delete(a.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let a=n.get(e);return a===void 0&&(a=new Set,n.set(e,a)),a}_getShaderStage(e){const n=this.shaderCache;let a=n.get(e);return a===void 0&&(a=new N2(e),n.set(e,a)),a}}class N2{constructor(e){this.id=I2++,this.code=e,this.usedTimes=0}}function U2(t,e,n,a,i,r,o){const s=new a0,l=new D2,c=new Set,u=[],f=i.logarithmicDepthBuffer,h=i.vertexTextures;let p=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(E){return c.add(E),E===0?"uv":`uv${E}`}function m(E,S,N,q,I){const J=q.fog,K=I.geometry,se=E.isMeshStandardMaterial?q.environment:null,re=(E.isMeshStandardMaterial?n:e).get(E.envMap||se),R=re&&re.mapping===xc?re.image.height:null,W=y[E.type];E.precision!==null&&(p=i.getMaxPrecision(E.precision),p!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",p,"instead."));const X=K.morphAttributes.position||K.morphAttributes.normal||K.morphAttributes.color,ce=X!==void 0?X.length:0;let Me=0;K.morphAttributes.position!==void 0&&(Me=1),K.morphAttributes.normal!==void 0&&(Me=2),K.morphAttributes.color!==void 0&&(Me=3);let Je,V,ae,ge;if(W){const H=aa[W];Je=H.vertexShader,V=H.fragmentShader}else Je=E.vertexShader,V=E.fragmentShader,l.update(E),ae=l.getVertexShaderID(E),ge=l.getFragmentShaderID(E);const le=t.getRenderTarget(),Xe=I.isInstancedMesh===!0,Ke=I.isBatchedMesh===!0,F=!!E.map,ct=!!E.matcap,Ae=!!re,rt=!!E.aoMap,Ne=!!E.lightMap,Qe=!!E.bumpMap,Fe=!!E.normalMap,et=!!E.displacementMap,vt=!!E.emissiveMap,C=!!E.metalnessMap,M=!!E.roughnessMap,G=E.anisotropy>0,$=E.clearcoat>0,te=E.dispersion>0,ie=E.iridescence>0,Re=E.sheen>0,he=E.transmission>0,pe=G&&!!E.anisotropyMap,He=$&&!!E.clearcoatMap,ue=$&&!!E.clearcoatNormalMap,Le=$&&!!E.clearcoatRoughnessMap,je=ie&&!!E.iridescenceMap,De=ie&&!!E.iridescenceThicknessMap,xe=Re&&!!E.sheenColorMap,Ve=Re&&!!E.sheenRoughnessMap,Ye=!!E.specularMap,yt=!!E.specularColorMap,ke=!!E.specularIntensityMap,D=he&&!!E.transmissionMap,Q=he&&!!E.thicknessMap,Y=!!E.gradientMap,ve=!!E.alphaMap,_e=E.alphaTest>0,tt=!!E.alphaHash,ut=!!E.extensions;let L=oi;E.toneMapped&&(le===null||le.isXRRenderTarget===!0)&&(L=t.toneMapping);const z={shaderID:W,shaderType:E.type,shaderName:E.name,vertexShader:Je,fragmentShader:V,defines:E.defines,customVertexShaderID:ae,customFragmentShaderID:ge,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:p,batching:Ke,instancing:Xe,instancingColor:Xe&&I.instanceColor!==null,instancingMorph:Xe&&I.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:le===null?t.outputColorSpace:le.isXRRenderTarget===!0?le.texture.colorSpace:mi,alphaToCoverage:!!E.alphaToCoverage,map:F,matcap:ct,envMap:Ae,envMapMode:Ae&&re.mapping,envMapCubeUVHeight:R,aoMap:rt,lightMap:Ne,bumpMap:Qe,normalMap:Fe,displacementMap:h&&et,emissiveMap:vt,normalMapObjectSpace:Fe&&E.normalMapType===qb,normalMapTangentSpace:Fe&&E.normalMapType===Zy,metalnessMap:C,roughnessMap:M,anisotropy:G,anisotropyMap:pe,clearcoat:$,clearcoatMap:He,clearcoatNormalMap:ue,clearcoatRoughnessMap:Le,dispersion:te,iridescence:ie,iridescenceMap:je,iridescenceThicknessMap:De,sheen:Re,sheenColorMap:xe,sheenRoughnessMap:Ve,specularMap:Ye,specularColorMap:yt,specularIntensityMap:ke,transmission:he,transmissionMap:D,thicknessMap:Q,gradientMap:Y,opaque:E.transparent===!1&&E.blending===Fr&&E.alphaToCoverage===!1,alphaMap:ve,alphaTest:_e,alphaHash:tt,combine:E.combine,mapUv:F&&_(E.map.channel),aoMapUv:rt&&_(E.aoMap.channel),lightMapUv:Ne&&_(E.lightMap.channel),bumpMapUv:Qe&&_(E.bumpMap.channel),normalMapUv:Fe&&_(E.normalMap.channel),displacementMapUv:et&&_(E.displacementMap.channel),emissiveMapUv:vt&&_(E.emissiveMap.channel),metalnessMapUv:C&&_(E.metalnessMap.channel),roughnessMapUv:M&&_(E.roughnessMap.channel),anisotropyMapUv:pe&&_(E.anisotropyMap.channel),clearcoatMapUv:He&&_(E.clearcoatMap.channel),clearcoatNormalMapUv:ue&&_(E.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Le&&_(E.clearcoatRoughnessMap.channel),iridescenceMapUv:je&&_(E.iridescenceMap.channel),iridescenceThicknessMapUv:De&&_(E.iridescenceThicknessMap.channel),sheenColorMapUv:xe&&_(E.sheenColorMap.channel),sheenRoughnessMapUv:Ve&&_(E.sheenRoughnessMap.channel),specularMapUv:Ye&&_(E.specularMap.channel),specularColorMapUv:yt&&_(E.specularColorMap.channel),specularIntensityMapUv:ke&&_(E.specularIntensityMap.channel),transmissionMapUv:D&&_(E.transmissionMap.channel),thicknessMapUv:Q&&_(E.thicknessMap.channel),alphaMapUv:ve&&_(E.alphaMap.channel),vertexTangents:!!K.attributes.tangent&&(Fe||G),vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!K.attributes.color&&K.attributes.color.itemSize===4,pointsUvs:I.isPoints===!0&&!!K.attributes.uv&&(F||ve),fog:!!J,useFog:E.fog===!0,fogExp2:!!J&&J.isFogExp2,flatShading:E.flatShading===!0,sizeAttenuation:E.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:I.isSkinnedMesh===!0,morphTargets:K.morphAttributes.position!==void 0,morphNormals:K.morphAttributes.normal!==void 0,morphColors:K.morphAttributes.color!==void 0,morphTargetsCount:ce,morphTextureStride:Me,numDirLights:S.directional.length,numPointLights:S.point.length,numSpotLights:S.spot.length,numSpotLightMaps:S.spotLightMap.length,numRectAreaLights:S.rectArea.length,numHemiLights:S.hemi.length,numDirLightShadows:S.directionalShadowMap.length,numPointLightShadows:S.pointShadowMap.length,numSpotLightShadows:S.spotShadowMap.length,numSpotLightShadowsWithMaps:S.numSpotLightShadowsWithMaps,numLightProbes:S.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:E.dithering,shadowMapEnabled:t.shadowMap.enabled&&N.length>0,shadowMapType:t.shadowMap.type,toneMapping:L,useLegacyLights:t._useLegacyLights,decodeVideoTexture:F&&E.map.isVideoTexture===!0&&lt.getTransfer(E.map.colorSpace)===mt,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===xa,flipSided:E.side===yn,useDepthPacking:E.depthPacking>=0,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionClipCullDistance:ut&&E.extensions.clipCullDistance===!0&&a.has("WEBGL_clip_cull_distance"),extensionMultiDraw:ut&&E.extensions.multiDraw===!0&&a.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:a.has("KHR_parallel_shader_compile"),customProgramCacheKey:E.customProgramCacheKey()};return z.vertexUv1s=c.has(1),z.vertexUv2s=c.has(2),z.vertexUv3s=c.has(3),c.clear(),z}function d(E){const S=[];if(E.shaderID?S.push(E.shaderID):(S.push(E.customVertexShaderID),S.push(E.customFragmentShaderID)),E.defines!==void 0)for(const N in E.defines)S.push(N),S.push(E.defines[N]);return E.isRawShaderMaterial===!1&&(g(S,E),v(S,E),S.push(t.outputColorSpace)),S.push(E.customProgramCacheKey),S.join()}function g(E,S){E.push(S.precision),E.push(S.outputColorSpace),E.push(S.envMapMode),E.push(S.envMapCubeUVHeight),E.push(S.mapUv),E.push(S.alphaMapUv),E.push(S.lightMapUv),E.push(S.aoMapUv),E.push(S.bumpMapUv),E.push(S.normalMapUv),E.push(S.displacementMapUv),E.push(S.emissiveMapUv),E.push(S.metalnessMapUv),E.push(S.roughnessMapUv),E.push(S.anisotropyMapUv),E.push(S.clearcoatMapUv),E.push(S.clearcoatNormalMapUv),E.push(S.clearcoatRoughnessMapUv),E.push(S.iridescenceMapUv),E.push(S.iridescenceThicknessMapUv),E.push(S.sheenColorMapUv),E.push(S.sheenRoughnessMapUv),E.push(S.specularMapUv),E.push(S.specularColorMapUv),E.push(S.specularIntensityMapUv),E.push(S.transmissionMapUv),E.push(S.thicknessMapUv),E.push(S.combine),E.push(S.fogExp2),E.push(S.sizeAttenuation),E.push(S.morphTargetsCount),E.push(S.morphAttributeCount),E.push(S.numDirLights),E.push(S.numPointLights),E.push(S.numSpotLights),E.push(S.numSpotLightMaps),E.push(S.numHemiLights),E.push(S.numRectAreaLights),E.push(S.numDirLightShadows),E.push(S.numPointLightShadows),E.push(S.numSpotLightShadows),E.push(S.numSpotLightShadowsWithMaps),E.push(S.numLightProbes),E.push(S.shadowMapType),E.push(S.toneMapping),E.push(S.numClippingPlanes),E.push(S.numClipIntersection),E.push(S.depthPacking)}function v(E,S){s.disableAll(),S.supportsVertexTextures&&s.enable(0),S.instancing&&s.enable(1),S.instancingColor&&s.enable(2),S.instancingMorph&&s.enable(3),S.matcap&&s.enable(4),S.envMap&&s.enable(5),S.normalMapObjectSpace&&s.enable(6),S.normalMapTangentSpace&&s.enable(7),S.clearcoat&&s.enable(8),S.iridescence&&s.enable(9),S.alphaTest&&s.enable(10),S.vertexColors&&s.enable(11),S.vertexAlphas&&s.enable(12),S.vertexUv1s&&s.enable(13),S.vertexUv2s&&s.enable(14),S.vertexUv3s&&s.enable(15),S.vertexTangents&&s.enable(16),S.anisotropy&&s.enable(17),S.alphaHash&&s.enable(18),S.batching&&s.enable(19),S.dispersion&&s.enable(20),E.push(s.mask),s.disableAll(),S.fog&&s.enable(0),S.useFog&&s.enable(1),S.flatShading&&s.enable(2),S.logarithmicDepthBuffer&&s.enable(3),S.skinning&&s.enable(4),S.morphTargets&&s.enable(5),S.morphNormals&&s.enable(6),S.morphColors&&s.enable(7),S.premultipliedAlpha&&s.enable(8),S.shadowMapEnabled&&s.enable(9),S.useLegacyLights&&s.enable(10),S.doubleSided&&s.enable(11),S.flipSided&&s.enable(12),S.useDepthPacking&&s.enable(13),S.dithering&&s.enable(14),S.transmission&&s.enable(15),S.sheen&&s.enable(16),S.opaque&&s.enable(17),S.pointsUvs&&s.enable(18),S.decodeVideoTexture&&s.enable(19),S.alphaToCoverage&&s.enable(20),E.push(s.mask)}function b(E){const S=y[E.type];let N;if(S){const q=aa[S];N=_M.clone(q.uniforms)}else N=E.uniforms;return N}function w(E,S){let N;for(let q=0,I=u.length;q<I;q++){const J=u[q];if(J.cacheKey===S){N=J,++N.usedTimes;break}}return N===void 0&&(N=new L2(t,S,E,r),u.push(N)),N}function T(E){if(--E.usedTimes===0){const S=u.indexOf(E);u[S]=u[u.length-1],u.pop(),E.destroy()}}function x(E){l.remove(E)}function P(){l.dispose()}return{getParameters:m,getProgramCacheKey:d,getUniforms:b,acquireProgram:w,releaseProgram:T,releaseShaderCache:x,programs:u,dispose:P}}function z2(){let t=new WeakMap;function e(r){let o=t.get(r);return o===void 0&&(o={},t.set(r,o)),o}function n(r){t.delete(r)}function a(r,o,s){t.get(r)[o]=s}function i(){t=new WeakMap}return{get:e,remove:n,update:a,dispose:i}}function F2(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Qm(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function eg(){const t=[];let e=0;const n=[],a=[],i=[];function r(){e=0,n.length=0,a.length=0,i.length=0}function o(f,h,p,y,_,m){let d=t[e];return d===void 0?(d={id:f.id,object:f,geometry:h,material:p,groupOrder:y,renderOrder:f.renderOrder,z:_,group:m},t[e]=d):(d.id=f.id,d.object=f,d.geometry=h,d.material=p,d.groupOrder=y,d.renderOrder=f.renderOrder,d.z=_,d.group=m),e++,d}function s(f,h,p,y,_,m){const d=o(f,h,p,y,_,m);p.transmission>0?a.push(d):p.transparent===!0?i.push(d):n.push(d)}function l(f,h,p,y,_,m){const d=o(f,h,p,y,_,m);p.transmission>0?a.unshift(d):p.transparent===!0?i.unshift(d):n.unshift(d)}function c(f,h){n.length>1&&n.sort(f||F2),a.length>1&&a.sort(h||Qm),i.length>1&&i.sort(h||Qm)}function u(){for(let f=e,h=t.length;f<h;f++){const p=t[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:a,transparent:i,init:r,push:s,unshift:l,finish:u,sort:c}}function O2(){let t=new WeakMap;function e(a,i){const r=t.get(a);let o;return r===void 0?(o=new eg,t.set(a,[o])):i>=r.length?(o=new eg,r.push(o)):o=r[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function B2(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new k,color:new nt};break;case"SpotLight":n={position:new k,direction:new k,color:new nt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new k,color:new nt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new k,skyColor:new nt,groundColor:new nt};break;case"RectAreaLight":n={color:new nt,position:new k,halfWidth:new k,halfHeight:new k};break}return t[e.id]=n,n}}}function k2(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let H2=0;function j2(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function V2(t){const e=new B2,n=k2(),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)a.probe.push(new k);const i=new k,r=new At,o=new At;function s(c,u){let f=0,h=0,p=0;for(let N=0;N<9;N++)a.probe[N].set(0,0,0);let y=0,_=0,m=0,d=0,g=0,v=0,b=0,w=0,T=0,x=0,P=0;c.sort(j2);const E=u===!0?Math.PI:1;for(let N=0,q=c.length;N<q;N++){const I=c[N],J=I.color,K=I.intensity,se=I.distance,re=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)f+=J.r*K*E,h+=J.g*K*E,p+=J.b*K*E;else if(I.isLightProbe){for(let R=0;R<9;R++)a.probe[R].addScaledVector(I.sh.coefficients[R],K);P++}else if(I.isDirectionalLight){const R=e.get(I);if(R.color.copy(I.color).multiplyScalar(I.intensity*E),I.castShadow){const W=I.shadow,X=n.get(I);X.shadowBias=W.bias,X.shadowNormalBias=W.normalBias,X.shadowRadius=W.radius,X.shadowMapSize=W.mapSize,a.directionalShadow[y]=X,a.directionalShadowMap[y]=re,a.directionalShadowMatrix[y]=I.shadow.matrix,v++}a.directional[y]=R,y++}else if(I.isSpotLight){const R=e.get(I);R.position.setFromMatrixPosition(I.matrixWorld),R.color.copy(J).multiplyScalar(K*E),R.distance=se,R.coneCos=Math.cos(I.angle),R.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),R.decay=I.decay,a.spot[m]=R;const W=I.shadow;if(I.map&&(a.spotLightMap[T]=I.map,T++,W.updateMatrices(I),I.castShadow&&x++),a.spotLightMatrix[m]=W.matrix,I.castShadow){const X=n.get(I);X.shadowBias=W.bias,X.shadowNormalBias=W.normalBias,X.shadowRadius=W.radius,X.shadowMapSize=W.mapSize,a.spotShadow[m]=X,a.spotShadowMap[m]=re,w++}m++}else if(I.isRectAreaLight){const R=e.get(I);R.color.copy(J).multiplyScalar(K),R.halfWidth.set(I.width*.5,0,0),R.halfHeight.set(0,I.height*.5,0),a.rectArea[d]=R,d++}else if(I.isPointLight){const R=e.get(I);if(R.color.copy(I.color).multiplyScalar(I.intensity*E),R.distance=I.distance,R.decay=I.decay,I.castShadow){const W=I.shadow,X=n.get(I);X.shadowBias=W.bias,X.shadowNormalBias=W.normalBias,X.shadowRadius=W.radius,X.shadowMapSize=W.mapSize,X.shadowCameraNear=W.camera.near,X.shadowCameraFar=W.camera.far,a.pointShadow[_]=X,a.pointShadowMap[_]=re,a.pointShadowMatrix[_]=I.shadow.matrix,b++}a.point[_]=R,_++}else if(I.isHemisphereLight){const R=e.get(I);R.skyColor.copy(I.color).multiplyScalar(K*E),R.groundColor.copy(I.groundColor).multiplyScalar(K*E),a.hemi[g]=R,g++}}d>0&&(t.has("OES_texture_float_linear")===!0?(a.rectAreaLTC1=ye.LTC_FLOAT_1,a.rectAreaLTC2=ye.LTC_FLOAT_2):(a.rectAreaLTC1=ye.LTC_HALF_1,a.rectAreaLTC2=ye.LTC_HALF_2)),a.ambient[0]=f,a.ambient[1]=h,a.ambient[2]=p;const S=a.hash;(S.directionalLength!==y||S.pointLength!==_||S.spotLength!==m||S.rectAreaLength!==d||S.hemiLength!==g||S.numDirectionalShadows!==v||S.numPointShadows!==b||S.numSpotShadows!==w||S.numSpotMaps!==T||S.numLightProbes!==P)&&(a.directional.length=y,a.spot.length=m,a.rectArea.length=d,a.point.length=_,a.hemi.length=g,a.directionalShadow.length=v,a.directionalShadowMap.length=v,a.pointShadow.length=b,a.pointShadowMap.length=b,a.spotShadow.length=w,a.spotShadowMap.length=w,a.directionalShadowMatrix.length=v,a.pointShadowMatrix.length=b,a.spotLightMatrix.length=w+T-x,a.spotLightMap.length=T,a.numSpotLightShadowsWithMaps=x,a.numLightProbes=P,S.directionalLength=y,S.pointLength=_,S.spotLength=m,S.rectAreaLength=d,S.hemiLength=g,S.numDirectionalShadows=v,S.numPointShadows=b,S.numSpotShadows=w,S.numSpotMaps=T,S.numLightProbes=P,a.version=H2++)}function l(c,u){let f=0,h=0,p=0,y=0,_=0;const m=u.matrixWorldInverse;for(let d=0,g=c.length;d<g;d++){const v=c[d];if(v.isDirectionalLight){const b=a.directional[f];b.direction.setFromMatrixPosition(v.matrixWorld),i.setFromMatrixPosition(v.target.matrixWorld),b.direction.sub(i),b.direction.transformDirection(m),f++}else if(v.isSpotLight){const b=a.spot[p];b.position.setFromMatrixPosition(v.matrixWorld),b.position.applyMatrix4(m),b.direction.setFromMatrixPosition(v.matrixWorld),i.setFromMatrixPosition(v.target.matrixWorld),b.direction.sub(i),b.direction.transformDirection(m),p++}else if(v.isRectAreaLight){const b=a.rectArea[y];b.position.setFromMatrixPosition(v.matrixWorld),b.position.applyMatrix4(m),o.identity(),r.copy(v.matrixWorld),r.premultiply(m),o.extractRotation(r),b.halfWidth.set(v.width*.5,0,0),b.halfHeight.set(0,v.height*.5,0),b.halfWidth.applyMatrix4(o),b.halfHeight.applyMatrix4(o),y++}else if(v.isPointLight){const b=a.point[h];b.position.setFromMatrixPosition(v.matrixWorld),b.position.applyMatrix4(m),h++}else if(v.isHemisphereLight){const b=a.hemi[_];b.direction.setFromMatrixPosition(v.matrixWorld),b.direction.transformDirection(m),_++}}}return{setup:s,setupView:l,state:a}}function tg(t){const e=new V2(t),n=[],a=[];function i(u){c.camera=u,n.length=0,a.length=0}function r(u){n.push(u)}function o(u){a.push(u)}function s(u){e.setup(n,u)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:a,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:s,setupLightsView:l,pushLight:r,pushShadow:o}}function G2(t){let e=new WeakMap;function n(i,r=0){const o=e.get(i);let s;return o===void 0?(s=new tg(t),e.set(i,[s])):r>=o.length?(s=new tg(t),o.push(s)):s=o[r],s}function a(){e=new WeakMap}return{get:n,dispose:a}}class q2 extends $i{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Vb,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class W2 extends $i{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const X2=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,J2=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function K2(t,e,n){let a=new eh;const i=new it,r=new it,o=new Vt,s=new q2({depthPacking:Gb}),l=new W2,c={},u=n.maxTextureSize,f={[ci]:yn,[yn]:ci,[xa]:xa},h=new di({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new it},radius:{value:4}},vertexShader:X2,fragmentShader:J2}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const y=new kn;y.setAttribute("position",new Zn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new sa(y,h),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Vy;let d=this.type;this.render=function(T,x,P){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||T.length===0)return;const E=t.getRenderTarget(),S=t.getActiveCubeFace(),N=t.getActiveMipmapLevel(),q=t.state;q.setBlending(ri),q.buffers.color.setClear(1,1,1,1),q.buffers.depth.setTest(!0),q.setScissorTest(!1);const I=d!==va&&this.type===va,J=d===va&&this.type!==va;for(let K=0,se=T.length;K<se;K++){const re=T[K],R=re.shadow;if(R===void 0){console.warn("THREE.WebGLShadowMap:",re,"has no shadow.");continue}if(R.autoUpdate===!1&&R.needsUpdate===!1)continue;i.copy(R.mapSize);const W=R.getFrameExtents();if(i.multiply(W),r.copy(R.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(r.x=Math.floor(u/W.x),i.x=r.x*W.x,R.mapSize.x=r.x),i.y>u&&(r.y=Math.floor(u/W.y),i.y=r.y*W.y,R.mapSize.y=r.y)),R.map===null||I===!0||J===!0){const ce=this.type!==va?{minFilter:Un,magFilter:Un}:{};R.map!==null&&R.map.dispose(),R.map=new Xi(i.x,i.y,ce),R.map.texture.name=re.name+".shadowMap",R.camera.updateProjectionMatrix()}t.setRenderTarget(R.map),t.clear();const X=R.getViewportCount();for(let ce=0;ce<X;ce++){const Me=R.getViewport(ce);o.set(r.x*Me.x,r.y*Me.y,r.x*Me.z,r.y*Me.w),q.viewport(o),R.updateMatrices(re,ce),a=R.getFrustum(),b(x,P,R.camera,re,this.type)}R.isPointLightShadow!==!0&&this.type===va&&g(R,P),R.needsUpdate=!1}d=this.type,m.needsUpdate=!1,t.setRenderTarget(E,S,N)};function g(T,x){const P=e.update(_);h.defines.VSM_SAMPLES!==T.blurSamples&&(h.defines.VSM_SAMPLES=T.blurSamples,p.defines.VSM_SAMPLES=T.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new Xi(i.x,i.y)),h.uniforms.shadow_pass.value=T.map.texture,h.uniforms.resolution.value=T.mapSize,h.uniforms.radius.value=T.radius,t.setRenderTarget(T.mapPass),t.clear(),t.renderBufferDirect(x,null,P,h,_,null),p.uniforms.shadow_pass.value=T.mapPass.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,t.setRenderTarget(T.map),t.clear(),t.renderBufferDirect(x,null,P,p,_,null)}function v(T,x,P,E){let S=null;const N=P.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(N!==void 0)S=N;else if(S=P.isPointLight===!0?l:s,t.localClippingEnabled&&x.clipShadows===!0&&Array.isArray(x.clippingPlanes)&&x.clippingPlanes.length!==0||x.displacementMap&&x.displacementScale!==0||x.alphaMap&&x.alphaTest>0||x.map&&x.alphaTest>0){const q=S.uuid,I=x.uuid;let J=c[q];J===void 0&&(J={},c[q]=J);let K=J[I];K===void 0&&(K=S.clone(),J[I]=K,x.addEventListener("dispose",w)),S=K}if(S.visible=x.visible,S.wireframe=x.wireframe,E===va?S.side=x.shadowSide!==null?x.shadowSide:x.side:S.side=x.shadowSide!==null?x.shadowSide:f[x.side],S.alphaMap=x.alphaMap,S.alphaTest=x.alphaTest,S.map=x.map,S.clipShadows=x.clipShadows,S.clippingPlanes=x.clippingPlanes,S.clipIntersection=x.clipIntersection,S.displacementMap=x.displacementMap,S.displacementScale=x.displacementScale,S.displacementBias=x.displacementBias,S.wireframeLinewidth=x.wireframeLinewidth,S.linewidth=x.linewidth,P.isPointLight===!0&&S.isMeshDistanceMaterial===!0){const q=t.properties.get(S);q.light=P}return S}function b(T,x,P,E,S){if(T.visible===!1)return;if(T.layers.test(x.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&S===va)&&(!T.frustumCulled||a.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,T.matrixWorld);const I=e.update(T),J=T.material;if(Array.isArray(J)){const K=I.groups;for(let se=0,re=K.length;se<re;se++){const R=K[se],W=J[R.materialIndex];if(W&&W.visible){const X=v(T,W,E,S);T.onBeforeShadow(t,T,x,P,I,X,R),t.renderBufferDirect(P,null,I,X,T,R),T.onAfterShadow(t,T,x,P,I,X,R)}}}else if(J.visible){const K=v(T,J,E,S);T.onBeforeShadow(t,T,x,P,I,K,null),t.renderBufferDirect(P,null,I,K,T,null),T.onAfterShadow(t,T,x,P,I,K,null)}}const q=T.children;for(let I=0,J=q.length;I<J;I++)b(q[I],x,P,E,S)}function w(T){T.target.removeEventListener("dispose",w);for(const P in c){const E=c[P],S=T.target.uuid;S in E&&(E[S].dispose(),delete E[S])}}}function Y2(t){function e(){let D=!1;const Q=new Vt;let Y=null;const ve=new Vt(0,0,0,0);return{setMask:function(_e){Y!==_e&&!D&&(t.colorMask(_e,_e,_e,_e),Y=_e)},setLocked:function(_e){D=_e},setClear:function(_e,tt,ut,L,z){z===!0&&(_e*=L,tt*=L,ut*=L),Q.set(_e,tt,ut,L),ve.equals(Q)===!1&&(t.clearColor(_e,tt,ut,L),ve.copy(Q))},reset:function(){D=!1,Y=null,ve.set(-1,0,0,0)}}}function n(){let D=!1,Q=null,Y=null,ve=null;return{setTest:function(_e){_e?ge(t.DEPTH_TEST):le(t.DEPTH_TEST)},setMask:function(_e){Q!==_e&&!D&&(t.depthMask(_e),Q=_e)},setFunc:function(_e){if(Y!==_e){switch(_e){case gb:t.depthFunc(t.NEVER);break;case vb:t.depthFunc(t.ALWAYS);break;case yb:t.depthFunc(t.LESS);break;case Xl:t.depthFunc(t.LEQUAL);break;case _b:t.depthFunc(t.EQUAL);break;case xb:t.depthFunc(t.GEQUAL);break;case Sb:t.depthFunc(t.GREATER);break;case bb:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Y=_e}},setLocked:function(_e){D=_e},setClear:function(_e){ve!==_e&&(t.clearDepth(_e),ve=_e)},reset:function(){D=!1,Q=null,Y=null,ve=null}}}function a(){let D=!1,Q=null,Y=null,ve=null,_e=null,tt=null,ut=null,L=null,z=null;return{setTest:function(H){D||(H?ge(t.STENCIL_TEST):le(t.STENCIL_TEST))},setMask:function(H){Q!==H&&!D&&(t.stencilMask(H),Q=H)},setFunc:function(H,ne,fe){(Y!==H||ve!==ne||_e!==fe)&&(t.stencilFunc(H,ne,fe),Y=H,ve=ne,_e=fe)},setOp:function(H,ne,fe){(tt!==H||ut!==ne||L!==fe)&&(t.stencilOp(H,ne,fe),tt=H,ut=ne,L=fe)},setLocked:function(H){D=H},setClear:function(H){z!==H&&(t.clearStencil(H),z=H)},reset:function(){D=!1,Q=null,Y=null,ve=null,_e=null,tt=null,ut=null,L=null,z=null}}}const i=new e,r=new n,o=new a,s=new WeakMap,l=new WeakMap;let c={},u={},f=new WeakMap,h=[],p=null,y=!1,_=null,m=null,d=null,g=null,v=null,b=null,w=null,T=new nt(0,0,0),x=0,P=!1,E=null,S=null,N=null,q=null,I=null;const J=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let K=!1,se=0;const re=t.getParameter(t.VERSION);re.indexOf("WebGL")!==-1?(se=parseFloat(/^WebGL (\d)/.exec(re)[1]),K=se>=1):re.indexOf("OpenGL ES")!==-1&&(se=parseFloat(/^OpenGL ES (\d)/.exec(re)[1]),K=se>=2);let R=null,W={};const X=t.getParameter(t.SCISSOR_BOX),ce=t.getParameter(t.VIEWPORT),Me=new Vt().fromArray(X),Je=new Vt().fromArray(ce);function V(D,Q,Y,ve){const _e=new Uint8Array(4),tt=t.createTexture();t.bindTexture(D,tt),t.texParameteri(D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(D,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ut=0;ut<Y;ut++)D===t.TEXTURE_3D||D===t.TEXTURE_2D_ARRAY?t.texImage3D(Q,0,t.RGBA,1,1,ve,0,t.RGBA,t.UNSIGNED_BYTE,_e):t.texImage2D(Q+ut,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,_e);return tt}const ae={};ae[t.TEXTURE_2D]=V(t.TEXTURE_2D,t.TEXTURE_2D,1),ae[t.TEXTURE_CUBE_MAP]=V(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ae[t.TEXTURE_2D_ARRAY]=V(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ae[t.TEXTURE_3D]=V(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),r.setClear(1),o.setClear(0),ge(t.DEPTH_TEST),r.setFunc(Xl),Qe(!1),Fe(Fp),ge(t.CULL_FACE),rt(ri);function ge(D){c[D]!==!0&&(t.enable(D),c[D]=!0)}function le(D){c[D]!==!1&&(t.disable(D),c[D]=!1)}function Xe(D,Q){return u[D]!==Q?(t.bindFramebuffer(D,Q),u[D]=Q,D===t.DRAW_FRAMEBUFFER&&(u[t.FRAMEBUFFER]=Q),D===t.FRAMEBUFFER&&(u[t.DRAW_FRAMEBUFFER]=Q),!0):!1}function Ke(D,Q){let Y=h,ve=!1;if(D){Y=f.get(Q),Y===void 0&&(Y=[],f.set(Q,Y));const _e=D.textures;if(Y.length!==_e.length||Y[0]!==t.COLOR_ATTACHMENT0){for(let tt=0,ut=_e.length;tt<ut;tt++)Y[tt]=t.COLOR_ATTACHMENT0+tt;Y.length=_e.length,ve=!0}}else Y[0]!==t.BACK&&(Y[0]=t.BACK,ve=!0);ve&&t.drawBuffers(Y)}function F(D){return p!==D?(t.useProgram(D),p=D,!0):!1}const ct={[Ri]:t.FUNC_ADD,[Q1]:t.FUNC_SUBTRACT,[eb]:t.FUNC_REVERSE_SUBTRACT};ct[tb]=t.MIN,ct[nb]=t.MAX;const Ae={[ab]:t.ZERO,[ib]:t.ONE,[rb]:t.SRC_COLOR,[Od]:t.SRC_ALPHA,[db]:t.SRC_ALPHA_SATURATE,[cb]:t.DST_COLOR,[sb]:t.DST_ALPHA,[ob]:t.ONE_MINUS_SRC_COLOR,[Bd]:t.ONE_MINUS_SRC_ALPHA,[ub]:t.ONE_MINUS_DST_COLOR,[lb]:t.ONE_MINUS_DST_ALPHA,[fb]:t.CONSTANT_COLOR,[hb]:t.ONE_MINUS_CONSTANT_COLOR,[pb]:t.CONSTANT_ALPHA,[mb]:t.ONE_MINUS_CONSTANT_ALPHA};function rt(D,Q,Y,ve,_e,tt,ut,L,z,H){if(D===ri){y===!0&&(le(t.BLEND),y=!1);return}if(y===!1&&(ge(t.BLEND),y=!0),D!==Z1){if(D!==_||H!==P){if((m!==Ri||v!==Ri)&&(t.blendEquation(t.FUNC_ADD),m=Ri,v=Ri),H)switch(D){case Fr:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Fd:t.blendFunc(t.ONE,t.ONE);break;case Op:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Bp:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",D);break}else switch(D){case Fr:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Fd:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case Op:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Bp:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",D);break}d=null,g=null,b=null,w=null,T.set(0,0,0),x=0,_=D,P=H}return}_e=_e||Q,tt=tt||Y,ut=ut||ve,(Q!==m||_e!==v)&&(t.blendEquationSeparate(ct[Q],ct[_e]),m=Q,v=_e),(Y!==d||ve!==g||tt!==b||ut!==w)&&(t.blendFuncSeparate(Ae[Y],Ae[ve],Ae[tt],Ae[ut]),d=Y,g=ve,b=tt,w=ut),(L.equals(T)===!1||z!==x)&&(t.blendColor(L.r,L.g,L.b,z),T.copy(L),x=z),_=D,P=!1}function Ne(D,Q){D.side===xa?le(t.CULL_FACE):ge(t.CULL_FACE);let Y=D.side===yn;Q&&(Y=!Y),Qe(Y),D.blending===Fr&&D.transparent===!1?rt(ri):rt(D.blending,D.blendEquation,D.blendSrc,D.blendDst,D.blendEquationAlpha,D.blendSrcAlpha,D.blendDstAlpha,D.blendColor,D.blendAlpha,D.premultipliedAlpha),r.setFunc(D.depthFunc),r.setTest(D.depthTest),r.setMask(D.depthWrite),i.setMask(D.colorWrite);const ve=D.stencilWrite;o.setTest(ve),ve&&(o.setMask(D.stencilWriteMask),o.setFunc(D.stencilFunc,D.stencilRef,D.stencilFuncMask),o.setOp(D.stencilFail,D.stencilZFail,D.stencilZPass)),vt(D.polygonOffset,D.polygonOffsetFactor,D.polygonOffsetUnits),D.alphaToCoverage===!0?ge(t.SAMPLE_ALPHA_TO_COVERAGE):le(t.SAMPLE_ALPHA_TO_COVERAGE)}function Qe(D){E!==D&&(D?t.frontFace(t.CW):t.frontFace(t.CCW),E=D)}function Fe(D){D!==K1?(ge(t.CULL_FACE),D!==S&&(D===Fp?t.cullFace(t.BACK):D===Y1?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):le(t.CULL_FACE),S=D}function et(D){D!==N&&(K&&t.lineWidth(D),N=D)}function vt(D,Q,Y){D?(ge(t.POLYGON_OFFSET_FILL),(q!==Q||I!==Y)&&(t.polygonOffset(Q,Y),q=Q,I=Y)):le(t.POLYGON_OFFSET_FILL)}function C(D){D?ge(t.SCISSOR_TEST):le(t.SCISSOR_TEST)}function M(D){D===void 0&&(D=t.TEXTURE0+J-1),R!==D&&(t.activeTexture(D),R=D)}function G(D,Q,Y){Y===void 0&&(R===null?Y=t.TEXTURE0+J-1:Y=R);let ve=W[Y];ve===void 0&&(ve={type:void 0,texture:void 0},W[Y]=ve),(ve.type!==D||ve.texture!==Q)&&(R!==Y&&(t.activeTexture(Y),R=Y),t.bindTexture(D,Q||ae[D]),ve.type=D,ve.texture=Q)}function $(){const D=W[R];D!==void 0&&D.type!==void 0&&(t.bindTexture(D.type,null),D.type=void 0,D.texture=void 0)}function te(){try{t.compressedTexImage2D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function ie(){try{t.compressedTexImage3D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function Re(){try{t.texSubImage2D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function he(){try{t.texSubImage3D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function pe(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function He(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function ue(){try{t.texStorage2D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function Le(){try{t.texStorage3D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function je(){try{t.texImage2D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function De(){try{t.texImage3D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function xe(D){Me.equals(D)===!1&&(t.scissor(D.x,D.y,D.z,D.w),Me.copy(D))}function Ve(D){Je.equals(D)===!1&&(t.viewport(D.x,D.y,D.z,D.w),Je.copy(D))}function Ye(D,Q){let Y=l.get(Q);Y===void 0&&(Y=new WeakMap,l.set(Q,Y));let ve=Y.get(D);ve===void 0&&(ve=t.getUniformBlockIndex(Q,D.name),Y.set(D,ve))}function yt(D,Q){const ve=l.get(Q).get(D);s.get(Q)!==ve&&(t.uniformBlockBinding(Q,ve,D.__bindingPointIndex),s.set(Q,ve))}function ke(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},R=null,W={},u={},f=new WeakMap,h=[],p=null,y=!1,_=null,m=null,d=null,g=null,v=null,b=null,w=null,T=new nt(0,0,0),x=0,P=!1,E=null,S=null,N=null,q=null,I=null,Me.set(0,0,t.canvas.width,t.canvas.height),Je.set(0,0,t.canvas.width,t.canvas.height),i.reset(),r.reset(),o.reset()}return{buffers:{color:i,depth:r,stencil:o},enable:ge,disable:le,bindFramebuffer:Xe,drawBuffers:Ke,useProgram:F,setBlending:rt,setMaterial:Ne,setFlipSided:Qe,setCullFace:Fe,setLineWidth:et,setPolygonOffset:vt,setScissorTest:C,activeTexture:M,bindTexture:G,unbindTexture:$,compressedTexImage2D:te,compressedTexImage3D:ie,texImage2D:je,texImage3D:De,updateUBOMapping:Ye,uniformBlockBinding:yt,texStorage2D:ue,texStorage3D:Le,texSubImage2D:Re,texSubImage3D:he,compressedTexSubImage2D:pe,compressedTexSubImage3D:He,scissor:xe,viewport:Ve,reset:ke}}function $2(t,e,n,a,i,r,o){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new it,u=new WeakMap;let f;const h=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(C,M){return p?new OffscreenCanvas(C,M):is("canvas")}function _(C,M,G){let $=1;const te=vt(C);if((te.width>G||te.height>G)&&($=G/Math.max(te.width,te.height)),$<1)if(typeof HTMLImageElement<"u"&&C instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&C instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&C instanceof ImageBitmap||typeof VideoFrame<"u"&&C instanceof VideoFrame){const ie=Math.floor($*te.width),Re=Math.floor($*te.height);f===void 0&&(f=y(ie,Re));const he=M?y(ie,Re):f;return he.width=ie,he.height=Re,he.getContext("2d").drawImage(C,0,0,ie,Re),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+te.width+"x"+te.height+") to ("+ie+"x"+Re+")."),he}else return"data"in C&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+te.width+"x"+te.height+")."),C;return C}function m(C){return C.generateMipmaps&&C.minFilter!==Un&&C.minFilter!==Kn}function d(C){t.generateMipmap(C)}function g(C,M,G,$,te=!1){if(C!==null){if(t[C]!==void 0)return t[C];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+C+"'")}let ie=M;if(M===t.RED&&(G===t.FLOAT&&(ie=t.R32F),G===t.HALF_FLOAT&&(ie=t.R16F),G===t.UNSIGNED_BYTE&&(ie=t.R8)),M===t.RED_INTEGER&&(G===t.UNSIGNED_BYTE&&(ie=t.R8UI),G===t.UNSIGNED_SHORT&&(ie=t.R16UI),G===t.UNSIGNED_INT&&(ie=t.R32UI),G===t.BYTE&&(ie=t.R8I),G===t.SHORT&&(ie=t.R16I),G===t.INT&&(ie=t.R32I)),M===t.RG&&(G===t.FLOAT&&(ie=t.RG32F),G===t.HALF_FLOAT&&(ie=t.RG16F),G===t.UNSIGNED_BYTE&&(ie=t.RG8)),M===t.RG_INTEGER&&(G===t.UNSIGNED_BYTE&&(ie=t.RG8UI),G===t.UNSIGNED_SHORT&&(ie=t.RG16UI),G===t.UNSIGNED_INT&&(ie=t.RG32UI),G===t.BYTE&&(ie=t.RG8I),G===t.SHORT&&(ie=t.RG16I),G===t.INT&&(ie=t.RG32I)),M===t.RGB&&G===t.UNSIGNED_INT_5_9_9_9_REV&&(ie=t.RGB9_E5),M===t.RGBA){const Re=te?Jl:lt.getTransfer($);G===t.FLOAT&&(ie=t.RGBA32F),G===t.HALF_FLOAT&&(ie=t.RGBA16F),G===t.UNSIGNED_BYTE&&(ie=Re===mt?t.SRGB8_ALPHA8:t.RGBA8),G===t.UNSIGNED_SHORT_4_4_4_4&&(ie=t.RGBA4),G===t.UNSIGNED_SHORT_5_5_5_1&&(ie=t.RGB5_A1)}return(ie===t.R16F||ie===t.R32F||ie===t.RG16F||ie===t.RG32F||ie===t.RGBA16F||ie===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ie}function v(C,M){return m(C)===!0||C.isFramebufferTexture&&C.minFilter!==Un&&C.minFilter!==Kn?Math.log2(Math.max(M.width,M.height))+1:C.mipmaps!==void 0&&C.mipmaps.length>0?C.mipmaps.length:C.isCompressedTexture&&Array.isArray(C.image)?M.mipmaps.length:1}function b(C){const M=C.target;M.removeEventListener("dispose",b),T(M),M.isVideoTexture&&u.delete(M)}function w(C){const M=C.target;M.removeEventListener("dispose",w),P(M)}function T(C){const M=a.get(C);if(M.__webglInit===void 0)return;const G=C.source,$=h.get(G);if($){const te=$[M.__cacheKey];te.usedTimes--,te.usedTimes===0&&x(C),Object.keys($).length===0&&h.delete(G)}a.remove(C)}function x(C){const M=a.get(C);t.deleteTexture(M.__webglTexture);const G=C.source,$=h.get(G);delete $[M.__cacheKey],o.memory.textures--}function P(C){const M=a.get(C);if(C.depthTexture&&C.depthTexture.dispose(),C.isWebGLCubeRenderTarget)for(let $=0;$<6;$++){if(Array.isArray(M.__webglFramebuffer[$]))for(let te=0;te<M.__webglFramebuffer[$].length;te++)t.deleteFramebuffer(M.__webglFramebuffer[$][te]);else t.deleteFramebuffer(M.__webglFramebuffer[$]);M.__webglDepthbuffer&&t.deleteRenderbuffer(M.__webglDepthbuffer[$])}else{if(Array.isArray(M.__webglFramebuffer))for(let $=0;$<M.__webglFramebuffer.length;$++)t.deleteFramebuffer(M.__webglFramebuffer[$]);else t.deleteFramebuffer(M.__webglFramebuffer);if(M.__webglDepthbuffer&&t.deleteRenderbuffer(M.__webglDepthbuffer),M.__webglMultisampledFramebuffer&&t.deleteFramebuffer(M.__webglMultisampledFramebuffer),M.__webglColorRenderbuffer)for(let $=0;$<M.__webglColorRenderbuffer.length;$++)M.__webglColorRenderbuffer[$]&&t.deleteRenderbuffer(M.__webglColorRenderbuffer[$]);M.__webglDepthRenderbuffer&&t.deleteRenderbuffer(M.__webglDepthRenderbuffer)}const G=C.textures;for(let $=0,te=G.length;$<te;$++){const ie=a.get(G[$]);ie.__webglTexture&&(t.deleteTexture(ie.__webglTexture),o.memory.textures--),a.remove(G[$])}a.remove(C)}let E=0;function S(){E=0}function N(){const C=E;return C>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+C+" texture units while this GPU supports only "+i.maxTextures),E+=1,C}function q(C){const M=[];return M.push(C.wrapS),M.push(C.wrapT),M.push(C.wrapR||0),M.push(C.magFilter),M.push(C.minFilter),M.push(C.anisotropy),M.push(C.internalFormat),M.push(C.format),M.push(C.type),M.push(C.generateMipmaps),M.push(C.premultiplyAlpha),M.push(C.flipY),M.push(C.unpackAlignment),M.push(C.colorSpace),M.join()}function I(C,M){const G=a.get(C);if(C.isVideoTexture&&Fe(C),C.isRenderTargetTexture===!1&&C.version>0&&G.__version!==C.version){const $=C.image;if($===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if($.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Me(G,C,M);return}}n.bindTexture(t.TEXTURE_2D,G.__webglTexture,t.TEXTURE0+M)}function J(C,M){const G=a.get(C);if(C.version>0&&G.__version!==C.version){Me(G,C,M);return}n.bindTexture(t.TEXTURE_2D_ARRAY,G.__webglTexture,t.TEXTURE0+M)}function K(C,M){const G=a.get(C);if(C.version>0&&G.__version!==C.version){Me(G,C,M);return}n.bindTexture(t.TEXTURE_3D,G.__webglTexture,t.TEXTURE0+M)}function se(C,M){const G=a.get(C);if(C.version>0&&G.__version!==C.version){Je(G,C,M);return}n.bindTexture(t.TEXTURE_CUBE_MAP,G.__webglTexture,t.TEXTURE0+M)}const re={[jd]:t.REPEAT,[zi]:t.CLAMP_TO_EDGE,[Vd]:t.MIRRORED_REPEAT},R={[Un]:t.NEAREST,[Ib]:t.NEAREST_MIPMAP_NEAREST,[Us]:t.NEAREST_MIPMAP_LINEAR,[Kn]:t.LINEAR,[iu]:t.LINEAR_MIPMAP_NEAREST,[Fi]:t.LINEAR_MIPMAP_LINEAR},W={[Wb]:t.NEVER,[Zb]:t.ALWAYS,[Xb]:t.LESS,[Qy]:t.LEQUAL,[Jb]:t.EQUAL,[$b]:t.GEQUAL,[Kb]:t.GREATER,[Yb]:t.NOTEQUAL};function X(C,M){if(M.type===Ya&&e.has("OES_texture_float_linear")===!1&&(M.magFilter===Kn||M.magFilter===iu||M.magFilter===Us||M.magFilter===Fi||M.minFilter===Kn||M.minFilter===iu||M.minFilter===Us||M.minFilter===Fi)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(C,t.TEXTURE_WRAP_S,re[M.wrapS]),t.texParameteri(C,t.TEXTURE_WRAP_T,re[M.wrapT]),(C===t.TEXTURE_3D||C===t.TEXTURE_2D_ARRAY)&&t.texParameteri(C,t.TEXTURE_WRAP_R,re[M.wrapR]),t.texParameteri(C,t.TEXTURE_MAG_FILTER,R[M.magFilter]),t.texParameteri(C,t.TEXTURE_MIN_FILTER,R[M.minFilter]),M.compareFunction&&(t.texParameteri(C,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(C,t.TEXTURE_COMPARE_FUNC,W[M.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(M.magFilter===Un||M.minFilter!==Us&&M.minFilter!==Fi||M.type===Ya&&e.has("OES_texture_float_linear")===!1)return;if(M.anisotropy>1||a.get(M).__currentAnisotropy){const G=e.get("EXT_texture_filter_anisotropic");t.texParameterf(C,G.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(M.anisotropy,i.getMaxAnisotropy())),a.get(M).__currentAnisotropy=M.anisotropy}}}function ce(C,M){let G=!1;C.__webglInit===void 0&&(C.__webglInit=!0,M.addEventListener("dispose",b));const $=M.source;let te=h.get($);te===void 0&&(te={},h.set($,te));const ie=q(M);if(ie!==C.__cacheKey){te[ie]===void 0&&(te[ie]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,G=!0),te[ie].usedTimes++;const Re=te[C.__cacheKey];Re!==void 0&&(te[C.__cacheKey].usedTimes--,Re.usedTimes===0&&x(M)),C.__cacheKey=ie,C.__webglTexture=te[ie].texture}return G}function Me(C,M,G){let $=t.TEXTURE_2D;(M.isDataArrayTexture||M.isCompressedArrayTexture)&&($=t.TEXTURE_2D_ARRAY),M.isData3DTexture&&($=t.TEXTURE_3D);const te=ce(C,M),ie=M.source;n.bindTexture($,C.__webglTexture,t.TEXTURE0+G);const Re=a.get(ie);if(ie.version!==Re.__version||te===!0){n.activeTexture(t.TEXTURE0+G);const he=lt.getPrimaries(lt.workingColorSpace),pe=M.colorSpace===Xa?null:lt.getPrimaries(M.colorSpace),He=M.colorSpace===Xa||he===pe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,M.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,M.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,M.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,He);let ue=_(M.image,!1,i.maxTextureSize);ue=et(M,ue);const Le=r.convert(M.format,M.colorSpace),je=r.convert(M.type);let De=g(M.internalFormat,Le,je,M.colorSpace,M.isVideoTexture);X($,M);let xe;const Ve=M.mipmaps,Ye=M.isVideoTexture!==!0,yt=Re.__version===void 0||te===!0,ke=ie.dataReady,D=v(M,ue);if(M.isDepthTexture)De=t.DEPTH_COMPONENT16,M.type===Ya?De=t.DEPTH_COMPONENT32F:M.type===Kr?De=t.DEPTH_COMPONENT24:M.type===ds&&(De=t.DEPTH24_STENCIL8),yt&&(Ye?n.texStorage2D(t.TEXTURE_2D,1,De,ue.width,ue.height):n.texImage2D(t.TEXTURE_2D,0,De,ue.width,ue.height,0,Le,je,null));else if(M.isDataTexture)if(Ve.length>0){Ye&&yt&&n.texStorage2D(t.TEXTURE_2D,D,De,Ve[0].width,Ve[0].height);for(let Q=0,Y=Ve.length;Q<Y;Q++)xe=Ve[Q],Ye?ke&&n.texSubImage2D(t.TEXTURE_2D,Q,0,0,xe.width,xe.height,Le,je,xe.data):n.texImage2D(t.TEXTURE_2D,Q,De,xe.width,xe.height,0,Le,je,xe.data);M.generateMipmaps=!1}else Ye?(yt&&n.texStorage2D(t.TEXTURE_2D,D,De,ue.width,ue.height),ke&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,ue.width,ue.height,Le,je,ue.data)):n.texImage2D(t.TEXTURE_2D,0,De,ue.width,ue.height,0,Le,je,ue.data);else if(M.isCompressedTexture)if(M.isCompressedArrayTexture){Ye&&yt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,D,De,Ve[0].width,Ve[0].height,ue.depth);for(let Q=0,Y=Ve.length;Q<Y;Q++)xe=Ve[Q],M.format!==oa?Le!==null?Ye?ke&&n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Q,0,0,0,xe.width,xe.height,ue.depth,Le,xe.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Q,De,xe.width,xe.height,ue.depth,0,xe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ye?ke&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Q,0,0,0,xe.width,xe.height,ue.depth,Le,je,xe.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Q,De,xe.width,xe.height,ue.depth,0,Le,je,xe.data)}else{Ye&&yt&&n.texStorage2D(t.TEXTURE_2D,D,De,Ve[0].width,Ve[0].height);for(let Q=0,Y=Ve.length;Q<Y;Q++)xe=Ve[Q],M.format!==oa?Le!==null?Ye?ke&&n.compressedTexSubImage2D(t.TEXTURE_2D,Q,0,0,xe.width,xe.height,Le,xe.data):n.compressedTexImage2D(t.TEXTURE_2D,Q,De,xe.width,xe.height,0,xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ye?ke&&n.texSubImage2D(t.TEXTURE_2D,Q,0,0,xe.width,xe.height,Le,je,xe.data):n.texImage2D(t.TEXTURE_2D,Q,De,xe.width,xe.height,0,Le,je,xe.data)}else if(M.isDataArrayTexture)Ye?(yt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,D,De,ue.width,ue.height,ue.depth),ke&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,ue.width,ue.height,ue.depth,Le,je,ue.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,De,ue.width,ue.height,ue.depth,0,Le,je,ue.data);else if(M.isData3DTexture)Ye?(yt&&n.texStorage3D(t.TEXTURE_3D,D,De,ue.width,ue.height,ue.depth),ke&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,ue.width,ue.height,ue.depth,Le,je,ue.data)):n.texImage3D(t.TEXTURE_3D,0,De,ue.width,ue.height,ue.depth,0,Le,je,ue.data);else if(M.isFramebufferTexture){if(yt)if(Ye)n.texStorage2D(t.TEXTURE_2D,D,De,ue.width,ue.height);else{let Q=ue.width,Y=ue.height;for(let ve=0;ve<D;ve++)n.texImage2D(t.TEXTURE_2D,ve,De,Q,Y,0,Le,je,null),Q>>=1,Y>>=1}}else if(Ve.length>0){if(Ye&&yt){const Q=vt(Ve[0]);n.texStorage2D(t.TEXTURE_2D,D,De,Q.width,Q.height)}for(let Q=0,Y=Ve.length;Q<Y;Q++)xe=Ve[Q],Ye?ke&&n.texSubImage2D(t.TEXTURE_2D,Q,0,0,Le,je,xe):n.texImage2D(t.TEXTURE_2D,Q,De,Le,je,xe);M.generateMipmaps=!1}else if(Ye){if(yt){const Q=vt(ue);n.texStorage2D(t.TEXTURE_2D,D,De,Q.width,Q.height)}ke&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Le,je,ue)}else n.texImage2D(t.TEXTURE_2D,0,De,Le,je,ue);m(M)&&d($),Re.__version=ie.version,M.onUpdate&&M.onUpdate(M)}C.__version=M.version}function Je(C,M,G){if(M.image.length!==6)return;const $=ce(C,M),te=M.source;n.bindTexture(t.TEXTURE_CUBE_MAP,C.__webglTexture,t.TEXTURE0+G);const ie=a.get(te);if(te.version!==ie.__version||$===!0){n.activeTexture(t.TEXTURE0+G);const Re=lt.getPrimaries(lt.workingColorSpace),he=M.colorSpace===Xa?null:lt.getPrimaries(M.colorSpace),pe=M.colorSpace===Xa||Re===he?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,M.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,M.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,M.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,pe);const He=M.isCompressedTexture||M.image[0].isCompressedTexture,ue=M.image[0]&&M.image[0].isDataTexture,Le=[];for(let Y=0;Y<6;Y++)!He&&!ue?Le[Y]=_(M.image[Y],!0,i.maxCubemapSize):Le[Y]=ue?M.image[Y].image:M.image[Y],Le[Y]=et(M,Le[Y]);const je=Le[0],De=r.convert(M.format,M.colorSpace),xe=r.convert(M.type),Ve=g(M.internalFormat,De,xe,M.colorSpace),Ye=M.isVideoTexture!==!0,yt=ie.__version===void 0||$===!0,ke=te.dataReady;let D=v(M,je);X(t.TEXTURE_CUBE_MAP,M);let Q;if(He){Ye&&yt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,D,Ve,je.width,je.height);for(let Y=0;Y<6;Y++){Q=Le[Y].mipmaps;for(let ve=0;ve<Q.length;ve++){const _e=Q[ve];M.format!==oa?De!==null?Ye?ke&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,ve,0,0,_e.width,_e.height,De,_e.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,ve,Ve,_e.width,_e.height,0,_e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ye?ke&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,ve,0,0,_e.width,_e.height,De,xe,_e.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,ve,Ve,_e.width,_e.height,0,De,xe,_e.data)}}}else{if(Q=M.mipmaps,Ye&&yt){Q.length>0&&D++;const Y=vt(Le[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,D,Ve,Y.width,Y.height)}for(let Y=0;Y<6;Y++)if(ue){Ye?ke&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,0,0,0,Le[Y].width,Le[Y].height,De,xe,Le[Y].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,0,Ve,Le[Y].width,Le[Y].height,0,De,xe,Le[Y].data);for(let ve=0;ve<Q.length;ve++){const tt=Q[ve].image[Y].image;Ye?ke&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,ve+1,0,0,tt.width,tt.height,De,xe,tt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,ve+1,Ve,tt.width,tt.height,0,De,xe,tt.data)}}else{Ye?ke&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,0,0,0,De,xe,Le[Y]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,0,Ve,De,xe,Le[Y]);for(let ve=0;ve<Q.length;ve++){const _e=Q[ve];Ye?ke&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,ve+1,0,0,De,xe,_e.image[Y]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,ve+1,Ve,De,xe,_e.image[Y])}}}m(M)&&d(t.TEXTURE_CUBE_MAP),ie.__version=te.version,M.onUpdate&&M.onUpdate(M)}C.__version=M.version}function V(C,M,G,$,te,ie){const Re=r.convert(G.format,G.colorSpace),he=r.convert(G.type),pe=g(G.internalFormat,Re,he,G.colorSpace);if(!a.get(M).__hasExternalTextures){const ue=Math.max(1,M.width>>ie),Le=Math.max(1,M.height>>ie);te===t.TEXTURE_3D||te===t.TEXTURE_2D_ARRAY?n.texImage3D(te,ie,pe,ue,Le,M.depth,0,Re,he,null):n.texImage2D(te,ie,pe,ue,Le,0,Re,he,null)}n.bindFramebuffer(t.FRAMEBUFFER,C),Qe(M)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,$,te,a.get(G).__webglTexture,0,Ne(M)):(te===t.TEXTURE_2D||te>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&te<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,$,te,a.get(G).__webglTexture,ie),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ae(C,M,G){if(t.bindRenderbuffer(t.RENDERBUFFER,C),M.depthBuffer&&!M.stencilBuffer){let $=t.DEPTH_COMPONENT24;if(G||Qe(M)){const te=M.depthTexture;te&&te.isDepthTexture&&(te.type===Ya?$=t.DEPTH_COMPONENT32F:te.type===Kr&&($=t.DEPTH_COMPONENT24));const ie=Ne(M);Qe(M)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ie,$,M.width,M.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,ie,$,M.width,M.height)}else t.renderbufferStorage(t.RENDERBUFFER,$,M.width,M.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,C)}else if(M.depthBuffer&&M.stencilBuffer){const $=Ne(M);G&&Qe(M)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,$,t.DEPTH24_STENCIL8,M.width,M.height):Qe(M)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,$,t.DEPTH24_STENCIL8,M.width,M.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,M.width,M.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,C)}else{const $=M.textures;for(let te=0;te<$.length;te++){const ie=$[te],Re=r.convert(ie.format,ie.colorSpace),he=r.convert(ie.type),pe=g(ie.internalFormat,Re,he,ie.colorSpace),He=Ne(M);G&&Qe(M)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,He,pe,M.width,M.height):Qe(M)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,He,pe,M.width,M.height):t.renderbufferStorage(t.RENDERBUFFER,pe,M.width,M.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ge(C,M){if(M&&M.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,C),!(M.depthTexture&&M.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!a.get(M.depthTexture).__webglTexture||M.depthTexture.image.width!==M.width||M.depthTexture.image.height!==M.height)&&(M.depthTexture.image.width=M.width,M.depthTexture.image.height=M.height,M.depthTexture.needsUpdate=!0),I(M.depthTexture,0);const $=a.get(M.depthTexture).__webglTexture,te=Ne(M);if(M.depthTexture.format===Or)Qe(M)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,$,0,te):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,$,0);else if(M.depthTexture.format===as)Qe(M)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,$,0,te):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,$,0);else throw new Error("Unknown depthTexture format")}function le(C){const M=a.get(C),G=C.isWebGLCubeRenderTarget===!0;if(C.depthTexture&&!M.__autoAllocateDepthBuffer){if(G)throw new Error("target.depthTexture not supported in Cube render targets");ge(M.__webglFramebuffer,C)}else if(G){M.__webglDepthbuffer=[];for(let $=0;$<6;$++)n.bindFramebuffer(t.FRAMEBUFFER,M.__webglFramebuffer[$]),M.__webglDepthbuffer[$]=t.createRenderbuffer(),ae(M.__webglDepthbuffer[$],C,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,M.__webglFramebuffer),M.__webglDepthbuffer=t.createRenderbuffer(),ae(M.__webglDepthbuffer,C,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Xe(C,M,G){const $=a.get(C);M!==void 0&&V($.__webglFramebuffer,C,C.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),G!==void 0&&le(C)}function Ke(C){const M=C.texture,G=a.get(C),$=a.get(M);C.addEventListener("dispose",w);const te=C.textures,ie=C.isWebGLCubeRenderTarget===!0,Re=te.length>1;if(Re||($.__webglTexture===void 0&&($.__webglTexture=t.createTexture()),$.__version=M.version,o.memory.textures++),ie){G.__webglFramebuffer=[];for(let he=0;he<6;he++)if(M.mipmaps&&M.mipmaps.length>0){G.__webglFramebuffer[he]=[];for(let pe=0;pe<M.mipmaps.length;pe++)G.__webglFramebuffer[he][pe]=t.createFramebuffer()}else G.__webglFramebuffer[he]=t.createFramebuffer()}else{if(M.mipmaps&&M.mipmaps.length>0){G.__webglFramebuffer=[];for(let he=0;he<M.mipmaps.length;he++)G.__webglFramebuffer[he]=t.createFramebuffer()}else G.__webglFramebuffer=t.createFramebuffer();if(Re)for(let he=0,pe=te.length;he<pe;he++){const He=a.get(te[he]);He.__webglTexture===void 0&&(He.__webglTexture=t.createTexture(),o.memory.textures++)}if(C.samples>0&&Qe(C)===!1){G.__webglMultisampledFramebuffer=t.createFramebuffer(),G.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,G.__webglMultisampledFramebuffer);for(let he=0;he<te.length;he++){const pe=te[he];G.__webglColorRenderbuffer[he]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,G.__webglColorRenderbuffer[he]);const He=r.convert(pe.format,pe.colorSpace),ue=r.convert(pe.type),Le=g(pe.internalFormat,He,ue,pe.colorSpace,C.isXRRenderTarget===!0),je=Ne(C);t.renderbufferStorageMultisample(t.RENDERBUFFER,je,Le,C.width,C.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+he,t.RENDERBUFFER,G.__webglColorRenderbuffer[he])}t.bindRenderbuffer(t.RENDERBUFFER,null),C.depthBuffer&&(G.__webglDepthRenderbuffer=t.createRenderbuffer(),ae(G.__webglDepthRenderbuffer,C,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ie){n.bindTexture(t.TEXTURE_CUBE_MAP,$.__webglTexture),X(t.TEXTURE_CUBE_MAP,M);for(let he=0;he<6;he++)if(M.mipmaps&&M.mipmaps.length>0)for(let pe=0;pe<M.mipmaps.length;pe++)V(G.__webglFramebuffer[he][pe],C,M,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+he,pe);else V(G.__webglFramebuffer[he],C,M,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+he,0);m(M)&&d(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Re){for(let he=0,pe=te.length;he<pe;he++){const He=te[he],ue=a.get(He);n.bindTexture(t.TEXTURE_2D,ue.__webglTexture),X(t.TEXTURE_2D,He),V(G.__webglFramebuffer,C,He,t.COLOR_ATTACHMENT0+he,t.TEXTURE_2D,0),m(He)&&d(t.TEXTURE_2D)}n.unbindTexture()}else{let he=t.TEXTURE_2D;if((C.isWebGL3DRenderTarget||C.isWebGLArrayRenderTarget)&&(he=C.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(he,$.__webglTexture),X(he,M),M.mipmaps&&M.mipmaps.length>0)for(let pe=0;pe<M.mipmaps.length;pe++)V(G.__webglFramebuffer[pe],C,M,t.COLOR_ATTACHMENT0,he,pe);else V(G.__webglFramebuffer,C,M,t.COLOR_ATTACHMENT0,he,0);m(M)&&d(he),n.unbindTexture()}C.depthBuffer&&le(C)}function F(C){const M=C.textures;for(let G=0,$=M.length;G<$;G++){const te=M[G];if(m(te)){const ie=C.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Re=a.get(te).__webglTexture;n.bindTexture(ie,Re),d(ie),n.unbindTexture()}}}const ct=[],Ae=[];function rt(C){if(C.samples>0){if(Qe(C)===!1){const M=C.textures,G=C.width,$=C.height;let te=t.COLOR_BUFFER_BIT;const ie=C.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Re=a.get(C),he=M.length>1;if(he)for(let pe=0;pe<M.length;pe++)n.bindFramebuffer(t.FRAMEBUFFER,Re.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+pe,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Re.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+pe,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Re.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Re.__webglFramebuffer);for(let pe=0;pe<M.length;pe++){if(C.resolveDepthBuffer&&(C.depthBuffer&&(te|=t.DEPTH_BUFFER_BIT),C.stencilBuffer&&C.resolveStencilBuffer&&(te|=t.STENCIL_BUFFER_BIT)),he){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Re.__webglColorRenderbuffer[pe]);const He=a.get(M[pe]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,He,0)}t.blitFramebuffer(0,0,G,$,0,0,G,$,te,t.NEAREST),l===!0&&(ct.length=0,Ae.length=0,ct.push(t.COLOR_ATTACHMENT0+pe),C.depthBuffer&&C.resolveDepthBuffer===!1&&(ct.push(ie),Ae.push(ie),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Ae)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,ct))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),he)for(let pe=0;pe<M.length;pe++){n.bindFramebuffer(t.FRAMEBUFFER,Re.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+pe,t.RENDERBUFFER,Re.__webglColorRenderbuffer[pe]);const He=a.get(M[pe]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Re.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+pe,t.TEXTURE_2D,He,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Re.__webglMultisampledFramebuffer)}else if(C.depthBuffer&&C.resolveDepthBuffer===!1&&l){const M=C.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[M])}}}function Ne(C){return Math.min(i.maxSamples,C.samples)}function Qe(C){const M=a.get(C);return C.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&M.__useRenderToTexture!==!1}function Fe(C){const M=o.render.frame;u.get(C)!==M&&(u.set(C,M),C.update())}function et(C,M){const G=C.colorSpace,$=C.format,te=C.type;return C.isCompressedTexture===!0||C.isVideoTexture===!0||G!==mi&&G!==Xa&&(lt.getTransfer(G)===mt?($!==oa||te!==ui)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",G)),M}function vt(C){return typeof HTMLImageElement<"u"&&C instanceof HTMLImageElement?(c.width=C.naturalWidth||C.width,c.height=C.naturalHeight||C.height):typeof VideoFrame<"u"&&C instanceof VideoFrame?(c.width=C.displayWidth,c.height=C.displayHeight):(c.width=C.width,c.height=C.height),c}this.allocateTextureUnit=N,this.resetTextureUnits=S,this.setTexture2D=I,this.setTexture2DArray=J,this.setTexture3D=K,this.setTextureCube=se,this.rebindTextures=Xe,this.setupRenderTarget=Ke,this.updateRenderTargetMipmap=F,this.updateMultisampleRenderTarget=rt,this.setupDepthRenderbuffer=le,this.setupFrameBufferTexture=V,this.useMultisampledRTT=Qe}function Z2(t,e){function n(a,i=Xa){let r;const o=lt.getTransfer(i);if(a===ui)return t.UNSIGNED_BYTE;if(a===Xy)return t.UNSIGNED_SHORT_4_4_4_4;if(a===Jy)return t.UNSIGNED_SHORT_5_5_5_1;if(a===Ub)return t.UNSIGNED_INT_5_9_9_9_REV;if(a===Db)return t.BYTE;if(a===Nb)return t.SHORT;if(a===qy)return t.UNSIGNED_SHORT;if(a===Wy)return t.INT;if(a===Kr)return t.UNSIGNED_INT;if(a===Ya)return t.FLOAT;if(a===Sc)return t.HALF_FLOAT;if(a===zb)return t.ALPHA;if(a===Fb)return t.RGB;if(a===oa)return t.RGBA;if(a===Ob)return t.LUMINANCE;if(a===Bb)return t.LUMINANCE_ALPHA;if(a===Or)return t.DEPTH_COMPONENT;if(a===as)return t.DEPTH_STENCIL;if(a===kb)return t.RED;if(a===Ky)return t.RED_INTEGER;if(a===Hb)return t.RG;if(a===Yy)return t.RG_INTEGER;if(a===$y)return t.RGBA_INTEGER;if(a===ru||a===ou||a===su||a===lu)if(o===mt)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(a===ru)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(a===ou)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(a===su)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(a===lu)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(a===ru)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===ou)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===su)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===lu)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===kp||a===Hp||a===jp||a===Vp)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(a===kp)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===Hp)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===jp)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===Vp)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===Gp||a===qp||a===Wp)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(a===Gp||a===qp)return o===mt?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(a===Wp)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(a===Xp||a===Jp||a===Kp||a===Yp||a===$p||a===Zp||a===Qp||a===em||a===tm||a===nm||a===am||a===im||a===rm||a===om)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(a===Xp)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(a===Jp)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(a===Kp)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(a===Yp)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(a===$p)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(a===Zp)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(a===Qp)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(a===em)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(a===tm)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(a===nm)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(a===am)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(a===im)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(a===rm)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(a===om)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(a===cu||a===sm||a===lm)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(a===cu)return o===mt?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(a===sm)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(a===lm)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(a===jb||a===cm||a===um||a===dm)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(a===cu)return r.COMPRESSED_RED_RGTC1_EXT;if(a===cm)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(a===um)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(a===dm)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return a===ds?t.UNSIGNED_INT_24_8:t[a]!==void 0?t[a]:null}return{convert:n}}class Q2 extends Dn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class al extends qt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const ew={type:"move"};class zu{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new al,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new al,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new k,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new k),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new al,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new k,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new k),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const a of e.hand.values())this._getHandJoint(n,a)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,a){let i=null,r=null,o=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const _ of e.hand.values()){const m=n.getJointPose(_,a),d=this._getHandJoint(c,_);m!==null&&(d.matrix.fromArray(m.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,d.jointRadius=m.radius),d.visible=m!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],h=u.position.distanceTo(f.position),p=.02,y=.005;c.inputState.pinching&&h>p+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=p-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(r=n.getPose(e.gripSpace,a),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,a),i===null&&r!==null&&(i=r),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(ew)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=r!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const a=new al;a.matrixAutoUpdate=!1,a.visible=!1,e.joints[n.jointName]=a,e.add(a)}return e.joints[n.jointName]}}const tw=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,nw=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class aw{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,a){if(this.texture===null){const i=new ln,r=e.properties.get(i);r.__webglTexture=n.texture,(n.depthNear!=a.depthNear||n.depthFar!=a.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}render(e,n){if(this.texture!==null){if(this.mesh===null){const a=n.cameras[0].viewport,i=new di({vertexShader:tw,fragmentShader:nw,uniforms:{depthColor:{value:this.texture},depthWidth:{value:a.z},depthHeight:{value:a.w}}});this.mesh=new sa(new Mc(20,20),i)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class iw extends to{constructor(e,n){super();const a=this;let i=null,r=1,o=null,s="local-floor",l=1,c=null,u=null,f=null,h=null,p=null,y=null;const _=new aw,m=n.getContextAttributes();let d=null,g=null;const v=[],b=[],w=new it;let T=null;const x=new Dn;x.layers.enable(1),x.viewport=new Vt;const P=new Dn;P.layers.enable(2),P.viewport=new Vt;const E=[x,P],S=new Q2;S.layers.enable(1),S.layers.enable(2);let N=null,q=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(V){let ae=v[V];return ae===void 0&&(ae=new zu,v[V]=ae),ae.getTargetRaySpace()},this.getControllerGrip=function(V){let ae=v[V];return ae===void 0&&(ae=new zu,v[V]=ae),ae.getGripSpace()},this.getHand=function(V){let ae=v[V];return ae===void 0&&(ae=new zu,v[V]=ae),ae.getHandSpace()};function I(V){const ae=b.indexOf(V.inputSource);if(ae===-1)return;const ge=v[ae];ge!==void 0&&(ge.update(V.inputSource,V.frame,c||o),ge.dispatchEvent({type:V.type,data:V.inputSource}))}function J(){i.removeEventListener("select",I),i.removeEventListener("selectstart",I),i.removeEventListener("selectend",I),i.removeEventListener("squeeze",I),i.removeEventListener("squeezestart",I),i.removeEventListener("squeezeend",I),i.removeEventListener("end",J),i.removeEventListener("inputsourceschange",K);for(let V=0;V<v.length;V++){const ae=b[V];ae!==null&&(b[V]=null,v[V].disconnect(ae))}N=null,q=null,_.reset(),e.setRenderTarget(d),p=null,h=null,f=null,i=null,g=null,Je.stop(),a.isPresenting=!1,e.setPixelRatio(T),e.setSize(w.width,w.height,!1),a.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(V){r=V,a.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(V){s=V,a.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(V){c=V},this.getBaseLayer=function(){return h!==null?h:p},this.getBinding=function(){return f},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(V){if(i=V,i!==null){if(d=e.getRenderTarget(),i.addEventListener("select",I),i.addEventListener("selectstart",I),i.addEventListener("selectend",I),i.addEventListener("squeeze",I),i.addEventListener("squeezestart",I),i.addEventListener("squeezeend",I),i.addEventListener("end",J),i.addEventListener("inputsourceschange",K),m.xrCompatible!==!0&&await n.makeXRCompatible(),T=e.getPixelRatio(),e.getSize(w),i.renderState.layers===void 0){const ae={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:r};p=new XRWebGLLayer(i,n,ae),i.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),g=new Xi(p.framebufferWidth,p.framebufferHeight,{format:oa,type:ui,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil})}else{let ae=null,ge=null,le=null;m.depth&&(le=m.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ae=m.stencil?as:Or,ge=m.stencil?ds:Kr);const Xe={colorFormat:n.RGBA8,depthFormat:le,scaleFactor:r};f=new XRWebGLBinding(i,n),h=f.createProjectionLayer(Xe),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),g=new Xi(h.textureWidth,h.textureHeight,{format:oa,type:ui,depthTexture:new h0(h.textureWidth,h.textureHeight,ge,void 0,void 0,void 0,void 0,void 0,void 0,ae),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1})}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(s),Je.setContext(i),Je.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function K(V){for(let ae=0;ae<V.removed.length;ae++){const ge=V.removed[ae],le=b.indexOf(ge);le>=0&&(b[le]=null,v[le].disconnect(ge))}for(let ae=0;ae<V.added.length;ae++){const ge=V.added[ae];let le=b.indexOf(ge);if(le===-1){for(let Ke=0;Ke<v.length;Ke++)if(Ke>=b.length){b.push(ge),le=Ke;break}else if(b[Ke]===null){b[Ke]=ge,le=Ke;break}if(le===-1)break}const Xe=v[le];Xe&&Xe.connect(ge)}}const se=new k,re=new k;function R(V,ae,ge){se.setFromMatrixPosition(ae.matrixWorld),re.setFromMatrixPosition(ge.matrixWorld);const le=se.distanceTo(re),Xe=ae.projectionMatrix.elements,Ke=ge.projectionMatrix.elements,F=Xe[14]/(Xe[10]-1),ct=Xe[14]/(Xe[10]+1),Ae=(Xe[9]+1)/Xe[5],rt=(Xe[9]-1)/Xe[5],Ne=(Xe[8]-1)/Xe[0],Qe=(Ke[8]+1)/Ke[0],Fe=F*Ne,et=F*Qe,vt=le/(-Ne+Qe),C=vt*-Ne;ae.matrixWorld.decompose(V.position,V.quaternion,V.scale),V.translateX(C),V.translateZ(vt),V.matrixWorld.compose(V.position,V.quaternion,V.scale),V.matrixWorldInverse.copy(V.matrixWorld).invert();const M=F+vt,G=ct+vt,$=Fe-C,te=et+(le-C),ie=Ae*ct/G*M,Re=rt*ct/G*M;V.projectionMatrix.makePerspective($,te,ie,Re,M,G),V.projectionMatrixInverse.copy(V.projectionMatrix).invert()}function W(V,ae){ae===null?V.matrixWorld.copy(V.matrix):V.matrixWorld.multiplyMatrices(ae.matrixWorld,V.matrix),V.matrixWorldInverse.copy(V.matrixWorld).invert()}this.updateCamera=function(V){if(i===null)return;_.texture!==null&&(V.near=_.depthNear,V.far=_.depthFar),S.near=P.near=x.near=V.near,S.far=P.far=x.far=V.far,(N!==S.near||q!==S.far)&&(i.updateRenderState({depthNear:S.near,depthFar:S.far}),N=S.near,q=S.far,x.near=N,x.far=q,P.near=N,P.far=q,x.updateProjectionMatrix(),P.updateProjectionMatrix(),V.updateProjectionMatrix());const ae=V.parent,ge=S.cameras;W(S,ae);for(let le=0;le<ge.length;le++)W(ge[le],ae);ge.length===2?R(S,x,P):S.projectionMatrix.copy(x.projectionMatrix),X(V,S,ae)};function X(V,ae,ge){ge===null?V.matrix.copy(ae.matrixWorld):(V.matrix.copy(ge.matrixWorld),V.matrix.invert(),V.matrix.multiply(ae.matrixWorld)),V.matrix.decompose(V.position,V.quaternion,V.scale),V.updateMatrixWorld(!0),V.projectionMatrix.copy(ae.projectionMatrix),V.projectionMatrixInverse.copy(ae.projectionMatrixInverse),V.isPerspectiveCamera&&(V.fov=Gd*2*Math.atan(1/V.projectionMatrix.elements[5]),V.zoom=1)}this.getCamera=function(){return S},this.getFoveation=function(){if(!(h===null&&p===null))return l},this.setFoveation=function(V){l=V,h!==null&&(h.fixedFoveation=V),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=V)},this.hasDepthSensing=function(){return _.texture!==null};let ce=null;function Me(V,ae){if(u=ae.getViewerPose(c||o),y=ae,u!==null){const ge=u.views;p!==null&&(e.setRenderTargetFramebuffer(g,p.framebuffer),e.setRenderTarget(g));let le=!1;ge.length!==S.cameras.length&&(S.cameras.length=0,le=!0);for(let Ke=0;Ke<ge.length;Ke++){const F=ge[Ke];let ct=null;if(p!==null)ct=p.getViewport(F);else{const rt=f.getViewSubImage(h,F);ct=rt.viewport,Ke===0&&(e.setRenderTargetTextures(g,rt.colorTexture,h.ignoreDepthValues?void 0:rt.depthStencilTexture),e.setRenderTarget(g))}let Ae=E[Ke];Ae===void 0&&(Ae=new Dn,Ae.layers.enable(Ke),Ae.viewport=new Vt,E[Ke]=Ae),Ae.matrix.fromArray(F.transform.matrix),Ae.matrix.decompose(Ae.position,Ae.quaternion,Ae.scale),Ae.projectionMatrix.fromArray(F.projectionMatrix),Ae.projectionMatrixInverse.copy(Ae.projectionMatrix).invert(),Ae.viewport.set(ct.x,ct.y,ct.width,ct.height),Ke===0&&(S.matrix.copy(Ae.matrix),S.matrix.decompose(S.position,S.quaternion,S.scale)),le===!0&&S.cameras.push(Ae)}const Xe=i.enabledFeatures;if(Xe&&Xe.includes("depth-sensing")){const Ke=f.getDepthInformation(ge[0]);Ke&&Ke.isValid&&Ke.texture&&_.init(e,Ke,i.renderState)}}for(let ge=0;ge<v.length;ge++){const le=b[ge],Xe=v[ge];le!==null&&Xe!==void 0&&Xe.update(le,ae,c||o)}_.render(e,S),ce&&ce(V,ae),ae.detectedPlanes&&a.dispatchEvent({type:"planesdetected",data:ae}),y=null}const Je=new d0;Je.setAnimationLoop(Me),this.setAnimationLoop=function(V){ce=V},this.dispose=function(){}}}const Ei=new ua,rw=new At;function ow(t,e){function n(m,d){m.matrixAutoUpdate===!0&&m.updateMatrix(),d.value.copy(m.matrix)}function a(m,d){d.color.getRGB(m.fogColor.value,l0(t)),d.isFog?(m.fogNear.value=d.near,m.fogFar.value=d.far):d.isFogExp2&&(m.fogDensity.value=d.density)}function i(m,d,g,v,b){d.isMeshBasicMaterial||d.isMeshLambertMaterial?r(m,d):d.isMeshToonMaterial?(r(m,d),f(m,d)):d.isMeshPhongMaterial?(r(m,d),u(m,d)):d.isMeshStandardMaterial?(r(m,d),h(m,d),d.isMeshPhysicalMaterial&&p(m,d,b)):d.isMeshMatcapMaterial?(r(m,d),y(m,d)):d.isMeshDepthMaterial?r(m,d):d.isMeshDistanceMaterial?(r(m,d),_(m,d)):d.isMeshNormalMaterial?r(m,d):d.isLineBasicMaterial?(o(m,d),d.isLineDashedMaterial&&s(m,d)):d.isPointsMaterial?l(m,d,g,v):d.isSpriteMaterial?c(m,d):d.isShadowMaterial?(m.color.value.copy(d.color),m.opacity.value=d.opacity):d.isShaderMaterial&&(d.uniformsNeedUpdate=!1)}function r(m,d){m.opacity.value=d.opacity,d.color&&m.diffuse.value.copy(d.color),d.emissive&&m.emissive.value.copy(d.emissive).multiplyScalar(d.emissiveIntensity),d.map&&(m.map.value=d.map,n(d.map,m.mapTransform)),d.alphaMap&&(m.alphaMap.value=d.alphaMap,n(d.alphaMap,m.alphaMapTransform)),d.bumpMap&&(m.bumpMap.value=d.bumpMap,n(d.bumpMap,m.bumpMapTransform),m.bumpScale.value=d.bumpScale,d.side===yn&&(m.bumpScale.value*=-1)),d.normalMap&&(m.normalMap.value=d.normalMap,n(d.normalMap,m.normalMapTransform),m.normalScale.value.copy(d.normalScale),d.side===yn&&m.normalScale.value.negate()),d.displacementMap&&(m.displacementMap.value=d.displacementMap,n(d.displacementMap,m.displacementMapTransform),m.displacementScale.value=d.displacementScale,m.displacementBias.value=d.displacementBias),d.emissiveMap&&(m.emissiveMap.value=d.emissiveMap,n(d.emissiveMap,m.emissiveMapTransform)),d.specularMap&&(m.specularMap.value=d.specularMap,n(d.specularMap,m.specularMapTransform)),d.alphaTest>0&&(m.alphaTest.value=d.alphaTest);const g=e.get(d),v=g.envMap,b=g.envMapRotation;if(v&&(m.envMap.value=v,Ei.copy(b),Ei.x*=-1,Ei.y*=-1,Ei.z*=-1,v.isCubeTexture&&v.isRenderTargetTexture===!1&&(Ei.y*=-1,Ei.z*=-1),m.envMapRotation.value.setFromMatrix4(rw.makeRotationFromEuler(Ei)),m.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=d.reflectivity,m.ior.value=d.ior,m.refractionRatio.value=d.refractionRatio),d.lightMap){m.lightMap.value=d.lightMap;const w=t._useLegacyLights===!0?Math.PI:1;m.lightMapIntensity.value=d.lightMapIntensity*w,n(d.lightMap,m.lightMapTransform)}d.aoMap&&(m.aoMap.value=d.aoMap,m.aoMapIntensity.value=d.aoMapIntensity,n(d.aoMap,m.aoMapTransform))}function o(m,d){m.diffuse.value.copy(d.color),m.opacity.value=d.opacity,d.map&&(m.map.value=d.map,n(d.map,m.mapTransform))}function s(m,d){m.dashSize.value=d.dashSize,m.totalSize.value=d.dashSize+d.gapSize,m.scale.value=d.scale}function l(m,d,g,v){m.diffuse.value.copy(d.color),m.opacity.value=d.opacity,m.size.value=d.size*g,m.scale.value=v*.5,d.map&&(m.map.value=d.map,n(d.map,m.uvTransform)),d.alphaMap&&(m.alphaMap.value=d.alphaMap,n(d.alphaMap,m.alphaMapTransform)),d.alphaTest>0&&(m.alphaTest.value=d.alphaTest)}function c(m,d){m.diffuse.value.copy(d.color),m.opacity.value=d.opacity,m.rotation.value=d.rotation,d.map&&(m.map.value=d.map,n(d.map,m.mapTransform)),d.alphaMap&&(m.alphaMap.value=d.alphaMap,n(d.alphaMap,m.alphaMapTransform)),d.alphaTest>0&&(m.alphaTest.value=d.alphaTest)}function u(m,d){m.specular.value.copy(d.specular),m.shininess.value=Math.max(d.shininess,1e-4)}function f(m,d){d.gradientMap&&(m.gradientMap.value=d.gradientMap)}function h(m,d){m.metalness.value=d.metalness,d.metalnessMap&&(m.metalnessMap.value=d.metalnessMap,n(d.metalnessMap,m.metalnessMapTransform)),m.roughness.value=d.roughness,d.roughnessMap&&(m.roughnessMap.value=d.roughnessMap,n(d.roughnessMap,m.roughnessMapTransform)),d.envMap&&(m.envMapIntensity.value=d.envMapIntensity)}function p(m,d,g){m.ior.value=d.ior,d.sheen>0&&(m.sheenColor.value.copy(d.sheenColor).multiplyScalar(d.sheen),m.sheenRoughness.value=d.sheenRoughness,d.sheenColorMap&&(m.sheenColorMap.value=d.sheenColorMap,n(d.sheenColorMap,m.sheenColorMapTransform)),d.sheenRoughnessMap&&(m.sheenRoughnessMap.value=d.sheenRoughnessMap,n(d.sheenRoughnessMap,m.sheenRoughnessMapTransform))),d.clearcoat>0&&(m.clearcoat.value=d.clearcoat,m.clearcoatRoughness.value=d.clearcoatRoughness,d.clearcoatMap&&(m.clearcoatMap.value=d.clearcoatMap,n(d.clearcoatMap,m.clearcoatMapTransform)),d.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=d.clearcoatRoughnessMap,n(d.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),d.clearcoatNormalMap&&(m.clearcoatNormalMap.value=d.clearcoatNormalMap,n(d.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(d.clearcoatNormalScale),d.side===yn&&m.clearcoatNormalScale.value.negate())),d.dispersion>0&&(m.dispersion.value=d.dispersion),d.iridescence>0&&(m.iridescence.value=d.iridescence,m.iridescenceIOR.value=d.iridescenceIOR,m.iridescenceThicknessMinimum.value=d.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=d.iridescenceThicknessRange[1],d.iridescenceMap&&(m.iridescenceMap.value=d.iridescenceMap,n(d.iridescenceMap,m.iridescenceMapTransform)),d.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=d.iridescenceThicknessMap,n(d.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),d.transmission>0&&(m.transmission.value=d.transmission,m.transmissionSamplerMap.value=g.texture,m.transmissionSamplerSize.value.set(g.width,g.height),d.transmissionMap&&(m.transmissionMap.value=d.transmissionMap,n(d.transmissionMap,m.transmissionMapTransform)),m.thickness.value=d.thickness,d.thicknessMap&&(m.thicknessMap.value=d.thicknessMap,n(d.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=d.attenuationDistance,m.attenuationColor.value.copy(d.attenuationColor)),d.anisotropy>0&&(m.anisotropyVector.value.set(d.anisotropy*Math.cos(d.anisotropyRotation),d.anisotropy*Math.sin(d.anisotropyRotation)),d.anisotropyMap&&(m.anisotropyMap.value=d.anisotropyMap,n(d.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=d.specularIntensity,m.specularColor.value.copy(d.specularColor),d.specularColorMap&&(m.specularColorMap.value=d.specularColorMap,n(d.specularColorMap,m.specularColorMapTransform)),d.specularIntensityMap&&(m.specularIntensityMap.value=d.specularIntensityMap,n(d.specularIntensityMap,m.specularIntensityMapTransform))}function y(m,d){d.matcap&&(m.matcap.value=d.matcap)}function _(m,d){const g=e.get(d).light;m.referencePosition.value.setFromMatrixPosition(g.matrixWorld),m.nearDistance.value=g.shadow.camera.near,m.farDistance.value=g.shadow.camera.far}return{refreshFogUniforms:a,refreshMaterialUniforms:i}}function sw(t,e,n,a){let i={},r={},o=[];const s=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(g,v){const b=v.program;a.uniformBlockBinding(g,b)}function c(g,v){let b=i[g.id];b===void 0&&(y(g),b=u(g),i[g.id]=b,g.addEventListener("dispose",m));const w=v.program;a.updateUBOMapping(g,w);const T=e.render.frame;r[g.id]!==T&&(h(g),r[g.id]=T)}function u(g){const v=f();g.__bindingPointIndex=v;const b=t.createBuffer(),w=g.__size,T=g.usage;return t.bindBuffer(t.UNIFORM_BUFFER,b),t.bufferData(t.UNIFORM_BUFFER,w,T),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,v,b),b}function f(){for(let g=0;g<s;g++)if(o.indexOf(g)===-1)return o.push(g),g;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(g){const v=i[g.id],b=g.uniforms,w=g.__cache;t.bindBuffer(t.UNIFORM_BUFFER,v);for(let T=0,x=b.length;T<x;T++){const P=Array.isArray(b[T])?b[T]:[b[T]];for(let E=0,S=P.length;E<S;E++){const N=P[E];if(p(N,T,E,w)===!0){const q=N.__offset,I=Array.isArray(N.value)?N.value:[N.value];let J=0;for(let K=0;K<I.length;K++){const se=I[K],re=_(se);typeof se=="number"||typeof se=="boolean"?(N.__data[0]=se,t.bufferSubData(t.UNIFORM_BUFFER,q+J,N.__data)):se.isMatrix3?(N.__data[0]=se.elements[0],N.__data[1]=se.elements[1],N.__data[2]=se.elements[2],N.__data[3]=0,N.__data[4]=se.elements[3],N.__data[5]=se.elements[4],N.__data[6]=se.elements[5],N.__data[7]=0,N.__data[8]=se.elements[6],N.__data[9]=se.elements[7],N.__data[10]=se.elements[8],N.__data[11]=0):(se.toArray(N.__data,J),J+=re.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,q,N.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(g,v,b,w){const T=g.value,x=v+"_"+b;if(w[x]===void 0)return typeof T=="number"||typeof T=="boolean"?w[x]=T:w[x]=T.clone(),!0;{const P=w[x];if(typeof T=="number"||typeof T=="boolean"){if(P!==T)return w[x]=T,!0}else if(P.equals(T)===!1)return P.copy(T),!0}return!1}function y(g){const v=g.uniforms;let b=0;const w=16;for(let x=0,P=v.length;x<P;x++){const E=Array.isArray(v[x])?v[x]:[v[x]];for(let S=0,N=E.length;S<N;S++){const q=E[S],I=Array.isArray(q.value)?q.value:[q.value];for(let J=0,K=I.length;J<K;J++){const se=I[J],re=_(se),R=b%w;R!==0&&w-R<re.boundary&&(b+=w-R),q.__data=new Float32Array(re.storage/Float32Array.BYTES_PER_ELEMENT),q.__offset=b,b+=re.storage}}}const T=b%w;return T>0&&(b+=w-T),g.__size=b,g.__cache={},this}function _(g){const v={boundary:0,storage:0};return typeof g=="number"||typeof g=="boolean"?(v.boundary=4,v.storage=4):g.isVector2?(v.boundary=8,v.storage=8):g.isVector3||g.isColor?(v.boundary=16,v.storage=12):g.isVector4?(v.boundary=16,v.storage=16):g.isMatrix3?(v.boundary=48,v.storage=48):g.isMatrix4?(v.boundary=64,v.storage=64):g.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",g),v}function m(g){const v=g.target;v.removeEventListener("dispose",m);const b=o.indexOf(v.__bindingPointIndex);o.splice(b,1),t.deleteBuffer(i[v.id]),delete i[v.id],delete r[v.id]}function d(){for(const g in i)t.deleteBuffer(i[g]);o=[],i={},r={}}return{bind:l,update:c,dispose:d}}class lw{constructor(e={}){const{canvas:n=eM(),context:a=null,depth:i=!0,stencil:r=!1,alpha:o=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let h;if(a!==null){if(typeof WebGLRenderingContext<"u"&&a instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=a.getContextAttributes().alpha}else h=o;const p=new Uint32Array(4),y=new Int32Array(4);let _=null,m=null;const d=[],g=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=na,this._useLegacyLights=!1,this.toneMapping=oi,this.toneMappingExposure=1;const v=this;let b=!1,w=0,T=0,x=null,P=-1,E=null;const S=new Vt,N=new Vt;let q=null;const I=new nt(0);let J=0,K=n.width,se=n.height,re=1,R=null,W=null;const X=new Vt(0,0,K,se),ce=new Vt(0,0,K,se);let Me=!1;const Je=new eh;let V=!1,ae=!1;const ge=new At,le=new k,Xe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ke(){return x===null?re:1}let F=a;function ct(A,U){return n.getContext(A,U)}try{const A={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Yf}`),n.addEventListener("webglcontextlost",D,!1),n.addEventListener("webglcontextrestored",Q,!1),n.addEventListener("webglcontextcreationerror",Y,!1),F===null){const U="webgl2";if(F=ct(U,A),F===null)throw ct(U)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(A){throw console.error("THREE.WebGLRenderer: "+A.message),A}let Ae,rt,Ne,Qe,Fe,et,vt,C,M,G,$,te,ie,Re,he,pe,He,ue,Le,je,De,xe,Ve,Ye;function yt(){Ae=new gT(F),Ae.init(),xe=new Z2(F,Ae),rt=new uT(F,Ae,e,xe),Ne=new Y2(F),Qe=new _T(F),Fe=new z2,et=new $2(F,Ae,Ne,Fe,rt,xe,Qe),vt=new fT(v),C=new mT(v),M=new TM(F),Ve=new lT(F,M),G=new vT(F,M,Qe,Ve),$=new ST(F,G,M,Qe),Le=new xT(F,rt,et),pe=new dT(Fe),te=new U2(v,vt,C,Ae,rt,Ve,pe),ie=new ow(v,Fe),Re=new O2,he=new G2(Ae),ue=new sT(v,vt,C,Ne,$,h,l),He=new K2(v,$,rt),Ye=new sw(F,Qe,rt,Ne),je=new cT(F,Ae,Qe),De=new yT(F,Ae,Qe),Qe.programs=te.programs,v.capabilities=rt,v.extensions=Ae,v.properties=Fe,v.renderLists=Re,v.shadowMap=He,v.state=Ne,v.info=Qe}yt();const ke=new iw(v,F);this.xr=ke,this.getContext=function(){return F},this.getContextAttributes=function(){return F.getContextAttributes()},this.forceContextLoss=function(){const A=Ae.get("WEBGL_lose_context");A&&A.loseContext()},this.forceContextRestore=function(){const A=Ae.get("WEBGL_lose_context");A&&A.restoreContext()},this.getPixelRatio=function(){return re},this.setPixelRatio=function(A){A!==void 0&&(re=A,this.setSize(K,se,!1))},this.getSize=function(A){return A.set(K,se)},this.setSize=function(A,U,j=!0){if(ke.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}K=A,se=U,n.width=Math.floor(A*re),n.height=Math.floor(U*re),j===!0&&(n.style.width=A+"px",n.style.height=U+"px"),this.setViewport(0,0,A,U)},this.getDrawingBufferSize=function(A){return A.set(K*re,se*re).floor()},this.setDrawingBufferSize=function(A,U,j){K=A,se=U,re=j,n.width=Math.floor(A*j),n.height=Math.floor(U*j),this.setViewport(0,0,A,U)},this.getCurrentViewport=function(A){return A.copy(S)},this.getViewport=function(A){return A.copy(X)},this.setViewport=function(A,U,j,B){A.isVector4?X.set(A.x,A.y,A.z,A.w):X.set(A,U,j,B),Ne.viewport(S.copy(X).multiplyScalar(re).round())},this.getScissor=function(A){return A.copy(ce)},this.setScissor=function(A,U,j,B){A.isVector4?ce.set(A.x,A.y,A.z,A.w):ce.set(A,U,j,B),Ne.scissor(N.copy(ce).multiplyScalar(re).round())},this.getScissorTest=function(){return Me},this.setScissorTest=function(A){Ne.setScissorTest(Me=A)},this.setOpaqueSort=function(A){R=A},this.setTransparentSort=function(A){W=A},this.getClearColor=function(A){return A.copy(ue.getClearColor())},this.setClearColor=function(){ue.setClearColor.apply(ue,arguments)},this.getClearAlpha=function(){return ue.getClearAlpha()},this.setClearAlpha=function(){ue.setClearAlpha.apply(ue,arguments)},this.clear=function(A=!0,U=!0,j=!0){let B=0;if(A){let O=!1;if(x!==null){const me=x.texture.format;O=me===$y||me===Yy||me===Ky}if(O){const me=x.texture.type,Ee=me===ui||me===Kr||me===qy||me===ds||me===Xy||me===Jy,Te=ue.getClearColor(),de=ue.getClearAlpha(),we=Te.r,Ie=Te.g,Ce=Te.b;Ee?(p[0]=we,p[1]=Ie,p[2]=Ce,p[3]=de,F.clearBufferuiv(F.COLOR,0,p)):(y[0]=we,y[1]=Ie,y[2]=Ce,y[3]=de,F.clearBufferiv(F.COLOR,0,y))}else B|=F.COLOR_BUFFER_BIT}U&&(B|=F.DEPTH_BUFFER_BIT),j&&(B|=F.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),F.clear(B)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",D,!1),n.removeEventListener("webglcontextrestored",Q,!1),n.removeEventListener("webglcontextcreationerror",Y,!1),Re.dispose(),he.dispose(),Fe.dispose(),vt.dispose(),C.dispose(),$.dispose(),Ve.dispose(),Ye.dispose(),te.dispose(),ke.dispose(),ke.removeEventListener("sessionstart",H),ke.removeEventListener("sessionend",ne),fe.stop()};function D(A){A.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function Q(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const A=Qe.autoReset,U=He.enabled,j=He.autoUpdate,B=He.needsUpdate,O=He.type;yt(),Qe.autoReset=A,He.enabled=U,He.autoUpdate=j,He.needsUpdate=B,He.type=O}function Y(A){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",A.statusMessage)}function ve(A){const U=A.target;U.removeEventListener("dispose",ve),_e(U)}function _e(A){tt(A),Fe.remove(A)}function tt(A){const U=Fe.get(A).programs;U!==void 0&&(U.forEach(function(j){te.releaseProgram(j)}),A.isShaderMaterial&&te.releaseShaderCache(A))}this.renderBufferDirect=function(A,U,j,B,O,me){U===null&&(U=Xe);const Ee=O.isMesh&&O.matrixWorld.determinant()<0,Te=dt(A,U,j,B,O);Ne.setMaterial(B,Ee);let de=j.index,we=1;if(B.wireframe===!0){if(de=G.getWireframeAttribute(j),de===void 0)return;we=2}const Ie=j.drawRange,Ce=j.attributes.position;let ft=Ie.start*we,zt=(Ie.start+Ie.count)*we;me!==null&&(ft=Math.max(ft,me.start*we),zt=Math.min(zt,(me.start+me.count)*we)),de!==null?(ft=Math.max(ft,0),zt=Math.min(zt,de.count)):Ce!=null&&(ft=Math.max(ft,0),zt=Math.min(zt,Ce.count));const an=zt-ft;if(an<0||an===1/0)return;Ve.setup(O,B,Te,j,de);let da,ot=je;if(de!==null&&(da=M.get(de),ot=De,ot.setIndex(da)),O.isMesh)B.wireframe===!0?(Ne.setLineWidth(B.wireframeLinewidth*Ke()),ot.setMode(F.LINES)):ot.setMode(F.TRIANGLES);else if(O.isLine){let Ge=B.linewidth;Ge===void 0&&(Ge=1),Ne.setLineWidth(Ge*Ke()),O.isLineSegments?ot.setMode(F.LINES):O.isLineLoop?ot.setMode(F.LINE_LOOP):ot.setMode(F.LINE_STRIP)}else O.isPoints?ot.setMode(F.POINTS):O.isSprite&&ot.setMode(F.TRIANGLES);if(O.isBatchedMesh)O._multiDrawInstances!==null?ot.renderMultiDrawInstances(O._multiDrawStarts,O._multiDrawCounts,O._multiDrawCount,O._multiDrawInstances):ot.renderMultiDraw(O._multiDrawStarts,O._multiDrawCounts,O._multiDrawCount);else if(O.isInstancedMesh)ot.renderInstances(ft,an,O.count);else if(j.isInstancedBufferGeometry){const Ge=j._maxInstanceCount!==void 0?j._maxInstanceCount:1/0,ao=Math.min(j.instanceCount,Ge);ot.renderInstances(ft,an,ao)}else ot.render(ft,an)};function ut(A,U,j){A.transparent===!0&&A.side===xa&&A.forceSinglePass===!1?(A.side=yn,A.needsUpdate=!0,wt(A,U,j),A.side=ci,A.needsUpdate=!0,wt(A,U,j),A.side=xa):wt(A,U,j)}this.compile=function(A,U,j=null){j===null&&(j=A),m=he.get(j),m.init(U),g.push(m),j.traverseVisible(function(O){O.isLight&&O.layers.test(U.layers)&&(m.pushLight(O),O.castShadow&&m.pushShadow(O))}),A!==j&&A.traverseVisible(function(O){O.isLight&&O.layers.test(U.layers)&&(m.pushLight(O),O.castShadow&&m.pushShadow(O))}),m.setupLights(v._useLegacyLights);const B=new Set;return A.traverse(function(O){const me=O.material;if(me)if(Array.isArray(me))for(let Ee=0;Ee<me.length;Ee++){const Te=me[Ee];ut(Te,j,O),B.add(Te)}else ut(me,j,O),B.add(me)}),g.pop(),m=null,B},this.compileAsync=function(A,U,j=null){const B=this.compile(A,U,j);return new Promise(O=>{function me(){if(B.forEach(function(Ee){Fe.get(Ee).currentProgram.isReady()&&B.delete(Ee)}),B.size===0){O(A);return}setTimeout(me,10)}Ae.get("KHR_parallel_shader_compile")!==null?me():setTimeout(me,10)})};let L=null;function z(A){L&&L(A)}function H(){fe.stop()}function ne(){fe.start()}const fe=new d0;fe.setAnimationLoop(z),typeof self<"u"&&fe.setContext(self),this.setAnimationLoop=function(A){L=A,ke.setAnimationLoop(A),A===null?fe.stop():fe.start()},ke.addEventListener("sessionstart",H),ke.addEventListener("sessionend",ne),this.render=function(A,U){if(U!==void 0&&U.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(b===!0)return;A.matrixWorldAutoUpdate===!0&&A.updateMatrixWorld(),U.parent===null&&U.matrixWorldAutoUpdate===!0&&U.updateMatrixWorld(),ke.enabled===!0&&ke.isPresenting===!0&&(ke.cameraAutoUpdate===!0&&ke.updateCamera(U),U=ke.getCamera()),A.isScene===!0&&A.onBeforeRender(v,A,U,x),m=he.get(A,g.length),m.init(U),g.push(m),ge.multiplyMatrices(U.projectionMatrix,U.matrixWorldInverse),Je.setFromProjectionMatrix(ge),ae=this.localClippingEnabled,V=pe.init(this.clippingPlanes,ae),_=Re.get(A,d.length),_.init(),d.push(_),Be(A,U,0,v.sortObjects),_.finish(),v.sortObjects===!0&&_.sort(R,W);const j=ke.enabled===!1||ke.isPresenting===!1||ke.hasDepthSensing()===!1;j&&ue.addToRenderList(_,A),this.info.render.frame++,V===!0&&pe.beginShadows();const B=m.state.shadowsArray;He.render(B,A,U),V===!0&&pe.endShadows(),this.info.autoReset===!0&&this.info.reset();const O=_.opaque,me=_.transmissive;if(m.setupLights(v._useLegacyLights),U.isArrayCamera){const Ee=U.cameras;if(me.length>0)for(let Te=0,de=Ee.length;Te<de;Te++){const we=Ee[Te];Se(O,me,A,we)}j&&ue.render(A);for(let Te=0,de=Ee.length;Te<de;Te++){const we=Ee[Te];Pe(_,A,we,we.viewport)}}else me.length>0&&Se(O,me,A,U),j&&ue.render(A),Pe(_,A,U);x!==null&&(et.updateMultisampleRenderTarget(x),et.updateRenderTargetMipmap(x)),A.isScene===!0&&A.onAfterRender(v,A,U),Ve.resetDefaultState(),P=-1,E=null,g.pop(),g.length>0?(m=g[g.length-1],V===!0&&pe.setGlobalState(v.clippingPlanes,m.state.camera)):m=null,d.pop(),d.length>0?_=d[d.length-1]:_=null};function Be(A,U,j,B){if(A.visible===!1)return;if(A.layers.test(U.layers)){if(A.isGroup)j=A.renderOrder;else if(A.isLOD)A.autoUpdate===!0&&A.update(U);else if(A.isLight)m.pushLight(A),A.castShadow&&m.pushShadow(A);else if(A.isSprite){if(!A.frustumCulled||Je.intersectsSprite(A)){B&&le.setFromMatrixPosition(A.matrixWorld).applyMatrix4(ge);const Ee=$.update(A),Te=A.material;Te.visible&&_.push(A,Ee,Te,j,le.z,null)}}else if((A.isMesh||A.isLine||A.isPoints)&&(!A.frustumCulled||Je.intersectsObject(A))){const Ee=$.update(A),Te=A.material;if(B&&(A.boundingSphere!==void 0?(A.boundingSphere===null&&A.computeBoundingSphere(),le.copy(A.boundingSphere.center)):(Ee.boundingSphere===null&&Ee.computeBoundingSphere(),le.copy(Ee.boundingSphere.center)),le.applyMatrix4(A.matrixWorld).applyMatrix4(ge)),Array.isArray(Te)){const de=Ee.groups;for(let we=0,Ie=de.length;we<Ie;we++){const Ce=de[we],ft=Te[Ce.materialIndex];ft&&ft.visible&&_.push(A,Ee,ft,j,le.z,Ce)}}else Te.visible&&_.push(A,Ee,Te,j,le.z,null)}}const me=A.children;for(let Ee=0,Te=me.length;Ee<Te;Ee++)Be(me[Ee],U,j,B)}function Pe(A,U,j,B){const O=A.opaque,me=A.transmissive,Ee=A.transparent;m.setupLightsView(j),V===!0&&pe.setGlobalState(v.clippingPlanes,j),B&&Ne.viewport(S.copy(B)),O.length>0&&Oe(O,U,j),me.length>0&&Oe(me,U,j),Ee.length>0&&Oe(Ee,U,j),Ne.buffers.depth.setTest(!0),Ne.buffers.depth.setMask(!0),Ne.buffers.color.setMask(!0),Ne.setPolygonOffset(!1)}function Se(A,U,j,B){if((j.isScene===!0?j.overrideMaterial:null)!==null)return;m.state.transmissionRenderTarget[B.id]===void 0&&(m.state.transmissionRenderTarget[B.id]=new Xi(1,1,{generateMipmaps:!0,type:Ae.has("EXT_color_buffer_half_float")||Ae.has("EXT_color_buffer_float")?Sc:ui,minFilter:Fi,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1}));const me=m.state.transmissionRenderTarget[B.id],Ee=B.viewport||S;me.setSize(Ee.z,Ee.w);const Te=v.getRenderTarget();v.setRenderTarget(me),v.getClearColor(I),J=v.getClearAlpha(),J<1&&v.setClearColor(16777215,.5),v.clear();const de=v.toneMapping;v.toneMapping=oi;const we=B.viewport;if(B.viewport!==void 0&&(B.viewport=void 0),m.setupLightsView(B),V===!0&&pe.setGlobalState(v.clippingPlanes,B),Oe(A,j,B),et.updateMultisampleRenderTarget(me),et.updateRenderTargetMipmap(me),Ae.has("WEBGL_multisampled_render_to_texture")===!1){let Ie=!1;for(let Ce=0,ft=U.length;Ce<ft;Ce++){const zt=U[Ce],an=zt.object,da=zt.geometry,ot=zt.material,Ge=zt.group;if(ot.side===xa&&an.layers.test(B.layers)){const ao=ot.side;ot.side=yn,ot.needsUpdate=!0,ze(an,j,B,da,ot,Ge),ot.side=ao,ot.needsUpdate=!0,Ie=!0}}Ie===!0&&(et.updateMultisampleRenderTarget(me),et.updateRenderTargetMipmap(me))}v.setRenderTarget(Te),v.setClearColor(I,J),we!==void 0&&(B.viewport=we),v.toneMapping=de}function Oe(A,U,j){const B=U.isScene===!0?U.overrideMaterial:null;for(let O=0,me=A.length;O<me;O++){const Ee=A[O],Te=Ee.object,de=Ee.geometry,we=B===null?Ee.material:B,Ie=Ee.group;Te.layers.test(j.layers)&&ze(Te,U,j,de,we,Ie)}}function ze(A,U,j,B,O,me){A.onBeforeRender(v,U,j,B,O,me),A.modelViewMatrix.multiplyMatrices(j.matrixWorldInverse,A.matrixWorld),A.normalMatrix.getNormalMatrix(A.modelViewMatrix),O.onBeforeRender(v,U,j,B,A,me),O.transparent===!0&&O.side===xa&&O.forceSinglePass===!1?(O.side=yn,O.needsUpdate=!0,v.renderBufferDirect(j,U,B,O,A,me),O.side=ci,O.needsUpdate=!0,v.renderBufferDirect(j,U,B,O,A,me),O.side=xa):v.renderBufferDirect(j,U,B,O,A,me),A.onAfterRender(v,U,j,B,O,me)}function wt(A,U,j){U.isScene!==!0&&(U=Xe);const B=Fe.get(A),O=m.state.lights,me=m.state.shadowsArray,Ee=O.state.version,Te=te.getParameters(A,O.state,me,U,j),de=te.getProgramCacheKey(Te);let we=B.programs;B.environment=A.isMeshStandardMaterial?U.environment:null,B.fog=U.fog,B.envMap=(A.isMeshStandardMaterial?C:vt).get(A.envMap||B.environment),B.envMapRotation=B.environment!==null&&A.envMap===null?U.environmentRotation:A.envMapRotation,we===void 0&&(A.addEventListener("dispose",ve),we=new Map,B.programs=we);let Ie=we.get(de);if(Ie!==void 0){if(B.currentProgram===Ie&&B.lightsStateVersion===Ee)return Ue(A,Te),Ie}else Te.uniforms=te.getUniforms(A),A.onBuild(j,Te,v),A.onBeforeCompile(Te,v),Ie=te.acquireProgram(Te,de),we.set(de,Ie),B.uniforms=Te.uniforms;const Ce=B.uniforms;return(!A.isShaderMaterial&&!A.isRawShaderMaterial||A.clipping===!0)&&(Ce.clippingPlanes=pe.uniform),Ue(A,Te),B.needsLights=gi(A),B.lightsStateVersion=Ee,B.needsLights&&(Ce.ambientLightColor.value=O.state.ambient,Ce.lightProbe.value=O.state.probe,Ce.directionalLights.value=O.state.directional,Ce.directionalLightShadows.value=O.state.directionalShadow,Ce.spotLights.value=O.state.spot,Ce.spotLightShadows.value=O.state.spotShadow,Ce.rectAreaLights.value=O.state.rectArea,Ce.ltc_1.value=O.state.rectAreaLTC1,Ce.ltc_2.value=O.state.rectAreaLTC2,Ce.pointLights.value=O.state.point,Ce.pointLightShadows.value=O.state.pointShadow,Ce.hemisphereLights.value=O.state.hemi,Ce.directionalShadowMap.value=O.state.directionalShadowMap,Ce.directionalShadowMatrix.value=O.state.directionalShadowMatrix,Ce.spotShadowMap.value=O.state.spotShadowMap,Ce.spotLightMatrix.value=O.state.spotLightMatrix,Ce.spotLightMap.value=O.state.spotLightMap,Ce.pointShadowMap.value=O.state.pointShadowMap,Ce.pointShadowMatrix.value=O.state.pointShadowMatrix),B.currentProgram=Ie,B.uniformsList=null,Ie}function Lt(A){if(A.uniformsList===null){const U=A.currentProgram.getUniforms();A.uniformsList=xl.seqWithValue(U.seq,A.uniforms)}return A.uniformsList}function Ue(A,U){const j=Fe.get(A);j.outputColorSpace=U.outputColorSpace,j.batching=U.batching,j.instancing=U.instancing,j.instancingColor=U.instancingColor,j.instancingMorph=U.instancingMorph,j.skinning=U.skinning,j.morphTargets=U.morphTargets,j.morphNormals=U.morphNormals,j.morphColors=U.morphColors,j.morphTargetsCount=U.morphTargetsCount,j.numClippingPlanes=U.numClippingPlanes,j.numIntersection=U.numClipIntersection,j.vertexAlphas=U.vertexAlphas,j.vertexTangents=U.vertexTangents,j.toneMapping=U.toneMapping}function dt(A,U,j,B,O){U.isScene!==!0&&(U=Xe),et.resetTextureUnits();const me=U.fog,Ee=B.isMeshStandardMaterial?U.environment:null,Te=x===null?v.outputColorSpace:x.isXRRenderTarget===!0?x.texture.colorSpace:mi,de=(B.isMeshStandardMaterial?C:vt).get(B.envMap||Ee),we=B.vertexColors===!0&&!!j.attributes.color&&j.attributes.color.itemSize===4,Ie=!!j.attributes.tangent&&(!!B.normalMap||B.anisotropy>0),Ce=!!j.morphAttributes.position,ft=!!j.morphAttributes.normal,zt=!!j.morphAttributes.color;let an=oi;B.toneMapped&&(x===null||x.isXRRenderTarget===!0)&&(an=v.toneMapping);const da=j.morphAttributes.position||j.morphAttributes.normal||j.morphAttributes.color,ot=da!==void 0?da.length:0,Ge=Fe.get(B),ao=m.state.lights;if(V===!0&&(ae===!0||A!==E)){const wn=A===E&&B.id===P;pe.setState(B,A,wn)}let _t=!1;B.version===Ge.__version?(Ge.needsLights&&Ge.lightsStateVersion!==ao.state.version||Ge.outputColorSpace!==Te||O.isBatchedMesh&&Ge.batching===!1||!O.isBatchedMesh&&Ge.batching===!0||O.isInstancedMesh&&Ge.instancing===!1||!O.isInstancedMesh&&Ge.instancing===!0||O.isSkinnedMesh&&Ge.skinning===!1||!O.isSkinnedMesh&&Ge.skinning===!0||O.isInstancedMesh&&Ge.instancingColor===!0&&O.instanceColor===null||O.isInstancedMesh&&Ge.instancingColor===!1&&O.instanceColor!==null||O.isInstancedMesh&&Ge.instancingMorph===!0&&O.morphTexture===null||O.isInstancedMesh&&Ge.instancingMorph===!1&&O.morphTexture!==null||Ge.envMap!==de||B.fog===!0&&Ge.fog!==me||Ge.numClippingPlanes!==void 0&&(Ge.numClippingPlanes!==pe.numPlanes||Ge.numIntersection!==pe.numIntersection)||Ge.vertexAlphas!==we||Ge.vertexTangents!==Ie||Ge.morphTargets!==Ce||Ge.morphNormals!==ft||Ge.morphColors!==zt||Ge.toneMapping!==an||Ge.morphTargetsCount!==ot)&&(_t=!0):(_t=!0,Ge.__version=B.version);let vi=Ge.currentProgram;_t===!0&&(vi=wt(B,U,O));let ih=!1,io=!1,Ac=!1;const Kt=vi.getUniforms(),Na=Ge.uniforms;if(Ne.useProgram(vi.program)&&(ih=!0,io=!0,Ac=!0),B.id!==P&&(P=B.id,io=!0),ih||E!==A){Kt.setValue(F,"projectionMatrix",A.projectionMatrix),Kt.setValue(F,"viewMatrix",A.matrixWorldInverse);const wn=Kt.map.cameraPosition;wn!==void 0&&wn.setValue(F,le.setFromMatrixPosition(A.matrixWorld)),rt.logarithmicDepthBuffer&&Kt.setValue(F,"logDepthBufFC",2/(Math.log(A.far+1)/Math.LN2)),(B.isMeshPhongMaterial||B.isMeshToonMaterial||B.isMeshLambertMaterial||B.isMeshBasicMaterial||B.isMeshStandardMaterial||B.isShaderMaterial)&&Kt.setValue(F,"isOrthographic",A.isOrthographicCamera===!0),E!==A&&(E=A,io=!0,Ac=!0)}if(O.isSkinnedMesh){Kt.setOptional(F,O,"bindMatrix"),Kt.setOptional(F,O,"bindMatrixInverse");const wn=O.skeleton;wn&&(wn.boneTexture===null&&wn.computeBoneTexture(),Kt.setValue(F,"boneTexture",wn.boneTexture,et))}O.isBatchedMesh&&(Kt.setOptional(F,O,"batchingTexture"),Kt.setValue(F,"batchingTexture",O._matricesTexture,et));const Tc=j.morphAttributes;if((Tc.position!==void 0||Tc.normal!==void 0||Tc.color!==void 0)&&Le.update(O,j,vi),(io||Ge.receiveShadow!==O.receiveShadow)&&(Ge.receiveShadow=O.receiveShadow,Kt.setValue(F,"receiveShadow",O.receiveShadow)),B.isMeshGouraudMaterial&&B.envMap!==null&&(Na.envMap.value=de,Na.flipEnvMap.value=de.isCubeTexture&&de.isRenderTargetTexture===!1?-1:1),B.isMeshStandardMaterial&&B.envMap===null&&U.environment!==null&&(Na.envMapIntensity.value=U.environmentIntensity),io&&(Kt.setValue(F,"toneMappingExposure",v.toneMappingExposure),Ge.needsLights&&It(Na,Ac),me&&B.fog===!0&&ie.refreshFogUniforms(Na,me),ie.refreshMaterialUniforms(Na,B,re,se,m.state.transmissionRenderTarget[A.id]),xl.upload(F,Lt(Ge),Na,et)),B.isShaderMaterial&&B.uniformsNeedUpdate===!0&&(xl.upload(F,Lt(Ge),Na,et),B.uniformsNeedUpdate=!1),B.isSpriteMaterial&&Kt.setValue(F,"center",O.center),Kt.setValue(F,"modelViewMatrix",O.modelViewMatrix),Kt.setValue(F,"normalMatrix",O.normalMatrix),Kt.setValue(F,"modelMatrix",O.matrixWorld),B.isShaderMaterial||B.isRawShaderMaterial){const wn=B.uniformsGroups;for(let wc=0,M0=wn.length;wc<M0;wc++){const rh=wn[wc];Ye.update(rh,vi),Ye.bind(rh,vi)}}return vi}function It(A,U){A.ambientLightColor.needsUpdate=U,A.lightProbe.needsUpdate=U,A.directionalLights.needsUpdate=U,A.directionalLightShadows.needsUpdate=U,A.pointLights.needsUpdate=U,A.pointLightShadows.needsUpdate=U,A.spotLights.needsUpdate=U,A.spotLightShadows.needsUpdate=U,A.rectAreaLights.needsUpdate=U,A.hemisphereLights.needsUpdate=U}function gi(A){return A.isMeshLambertMaterial||A.isMeshToonMaterial||A.isMeshPhongMaterial||A.isMeshStandardMaterial||A.isShadowMaterial||A.isShaderMaterial&&A.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(A,U,j){Fe.get(A.texture).__webglTexture=U,Fe.get(A.depthTexture).__webglTexture=j;const B=Fe.get(A);B.__hasExternalTextures=!0,B.__autoAllocateDepthBuffer=j===void 0,B.__autoAllocateDepthBuffer||Ae.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),B.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(A,U){const j=Fe.get(A);j.__webglFramebuffer=U,j.__useDefaultFramebuffer=U===void 0},this.setRenderTarget=function(A,U=0,j=0){x=A,w=U,T=j;let B=!0,O=null,me=!1,Ee=!1;if(A){const de=Fe.get(A);de.__useDefaultFramebuffer!==void 0?(Ne.bindFramebuffer(F.FRAMEBUFFER,null),B=!1):de.__webglFramebuffer===void 0?et.setupRenderTarget(A):de.__hasExternalTextures&&et.rebindTextures(A,Fe.get(A.texture).__webglTexture,Fe.get(A.depthTexture).__webglTexture);const we=A.texture;(we.isData3DTexture||we.isDataArrayTexture||we.isCompressedArrayTexture)&&(Ee=!0);const Ie=Fe.get(A).__webglFramebuffer;A.isWebGLCubeRenderTarget?(Array.isArray(Ie[U])?O=Ie[U][j]:O=Ie[U],me=!0):A.samples>0&&et.useMultisampledRTT(A)===!1?O=Fe.get(A).__webglMultisampledFramebuffer:Array.isArray(Ie)?O=Ie[j]:O=Ie,S.copy(A.viewport),N.copy(A.scissor),q=A.scissorTest}else S.copy(X).multiplyScalar(re).floor(),N.copy(ce).multiplyScalar(re).floor(),q=Me;if(Ne.bindFramebuffer(F.FRAMEBUFFER,O)&&B&&Ne.drawBuffers(A,O),Ne.viewport(S),Ne.scissor(N),Ne.setScissorTest(q),me){const de=Fe.get(A.texture);F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_CUBE_MAP_POSITIVE_X+U,de.__webglTexture,j)}else if(Ee){const de=Fe.get(A.texture),we=U||0;F.framebufferTextureLayer(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,de.__webglTexture,j||0,we)}P=-1},this.readRenderTargetPixels=function(A,U,j,B,O,me,Ee){if(!(A&&A.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Te=Fe.get(A).__webglFramebuffer;if(A.isWebGLCubeRenderTarget&&Ee!==void 0&&(Te=Te[Ee]),Te){Ne.bindFramebuffer(F.FRAMEBUFFER,Te);try{const de=A.texture,we=de.format,Ie=de.type;if(!rt.textureFormatReadable(we)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!rt.textureTypeReadable(Ie)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}U>=0&&U<=A.width-B&&j>=0&&j<=A.height-O&&F.readPixels(U,j,B,O,xe.convert(we),xe.convert(Ie),me)}finally{const de=x!==null?Fe.get(x).__webglFramebuffer:null;Ne.bindFramebuffer(F.FRAMEBUFFER,de)}}},this.copyFramebufferToTexture=function(A,U,j=0){const B=Math.pow(2,-j),O=Math.floor(U.image.width*B),me=Math.floor(U.image.height*B);et.setTexture2D(U,0),F.copyTexSubImage2D(F.TEXTURE_2D,j,0,0,A.x,A.y,O,me),Ne.unbindTexture()},this.copyTextureToTexture=function(A,U,j,B=0){const O=U.image.width,me=U.image.height,Ee=xe.convert(j.format),Te=xe.convert(j.type);et.setTexture2D(j,0),F.pixelStorei(F.UNPACK_FLIP_Y_WEBGL,j.flipY),F.pixelStorei(F.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),F.pixelStorei(F.UNPACK_ALIGNMENT,j.unpackAlignment),U.isDataTexture?F.texSubImage2D(F.TEXTURE_2D,B,A.x,A.y,O,me,Ee,Te,U.image.data):U.isCompressedTexture?F.compressedTexSubImage2D(F.TEXTURE_2D,B,A.x,A.y,U.mipmaps[0].width,U.mipmaps[0].height,Ee,U.mipmaps[0].data):F.texSubImage2D(F.TEXTURE_2D,B,A.x,A.y,Ee,Te,U.image),B===0&&j.generateMipmaps&&F.generateMipmap(F.TEXTURE_2D),Ne.unbindTexture()},this.copyTextureToTexture3D=function(A,U,j,B,O=0){const me=A.max.x-A.min.x,Ee=A.max.y-A.min.y,Te=A.max.z-A.min.z,de=xe.convert(B.format),we=xe.convert(B.type);let Ie;if(B.isData3DTexture)et.setTexture3D(B,0),Ie=F.TEXTURE_3D;else if(B.isDataArrayTexture||B.isCompressedArrayTexture)et.setTexture2DArray(B,0),Ie=F.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}F.pixelStorei(F.UNPACK_FLIP_Y_WEBGL,B.flipY),F.pixelStorei(F.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),F.pixelStorei(F.UNPACK_ALIGNMENT,B.unpackAlignment);const Ce=F.getParameter(F.UNPACK_ROW_LENGTH),ft=F.getParameter(F.UNPACK_IMAGE_HEIGHT),zt=F.getParameter(F.UNPACK_SKIP_PIXELS),an=F.getParameter(F.UNPACK_SKIP_ROWS),da=F.getParameter(F.UNPACK_SKIP_IMAGES),ot=j.isCompressedTexture?j.mipmaps[O]:j.image;F.pixelStorei(F.UNPACK_ROW_LENGTH,ot.width),F.pixelStorei(F.UNPACK_IMAGE_HEIGHT,ot.height),F.pixelStorei(F.UNPACK_SKIP_PIXELS,A.min.x),F.pixelStorei(F.UNPACK_SKIP_ROWS,A.min.y),F.pixelStorei(F.UNPACK_SKIP_IMAGES,A.min.z),j.isDataTexture||j.isData3DTexture?F.texSubImage3D(Ie,O,U.x,U.y,U.z,me,Ee,Te,de,we,ot.data):B.isCompressedArrayTexture?F.compressedTexSubImage3D(Ie,O,U.x,U.y,U.z,me,Ee,Te,de,ot.data):F.texSubImage3D(Ie,O,U.x,U.y,U.z,me,Ee,Te,de,we,ot),F.pixelStorei(F.UNPACK_ROW_LENGTH,Ce),F.pixelStorei(F.UNPACK_IMAGE_HEIGHT,ft),F.pixelStorei(F.UNPACK_SKIP_PIXELS,zt),F.pixelStorei(F.UNPACK_SKIP_ROWS,an),F.pixelStorei(F.UNPACK_SKIP_IMAGES,da),O===0&&B.generateMipmaps&&F.generateMipmap(Ie),Ne.unbindTexture()},this.initTexture=function(A){A.isCubeTexture?et.setTextureCube(A,0):A.isData3DTexture?et.setTexture3D(A,0):A.isDataArrayTexture||A.isCompressedArrayTexture?et.setTexture2DArray(A,0):et.setTexture2D(A,0),Ne.unbindTexture()},this.resetState=function(){w=0,T=0,x=null,Ne.reset(),Ve.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ma}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===Zf?"display-p3":"srgb",n.unpackColorSpace=lt.workingColorSpace===bc?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class cw extends qt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ua,this.environmentIntensity=1,this.environmentRotation=new ua,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class _0 extends $i{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new nt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Zl=new k,Ql=new k,ng=new At,bo=new Qf,il=new ms,Fu=new k,ag=new k;class uw extends qt{constructor(e=new kn,n=new _0){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,a=[0];for(let i=1,r=n.count;i<r;i++)Zl.fromBufferAttribute(n,i-1),Ql.fromBufferAttribute(n,i),a[i]=a[i-1],a[i]+=Zl.distanceTo(Ql);e.setAttribute("lineDistance",new Fn(a,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const a=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,o=a.drawRange;if(a.boundingSphere===null&&a.computeBoundingSphere(),il.copy(a.boundingSphere),il.applyMatrix4(i),il.radius+=r,e.ray.intersectsSphere(il)===!1)return;ng.copy(i).invert(),bo.copy(e.ray).applyMatrix4(ng);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=this.isLineSegments?2:1,u=a.index,h=a.attributes.position;if(u!==null){const p=Math.max(0,o.start),y=Math.min(u.count,o.start+o.count);for(let _=p,m=y-1;_<m;_+=c){const d=u.getX(_),g=u.getX(_+1),v=rl(this,e,bo,l,d,g);v&&n.push(v)}if(this.isLineLoop){const _=u.getX(y-1),m=u.getX(p),d=rl(this,e,bo,l,_,m);d&&n.push(d)}}else{const p=Math.max(0,o.start),y=Math.min(h.count,o.start+o.count);for(let _=p,m=y-1;_<m;_+=c){const d=rl(this,e,bo,l,_,_+1);d&&n.push(d)}if(this.isLineLoop){const _=rl(this,e,bo,l,y-1,p);_&&n.push(_)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,a=Object.keys(n);if(a.length>0){const i=n[a[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const s=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=r}}}}}function rl(t,e,n,a,i,r){const o=t.geometry.attributes.position;if(Zl.fromBufferAttribute(o,i),Ql.fromBufferAttribute(o,r),n.distanceSqToSegment(Zl,Ql,Fu,ag)>a)return;Fu.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo(Fu);if(!(l<e.near||l>e.far))return{distance:l,point:ag.clone().applyMatrix4(t.matrixWorld),index:i,face:null,faceIndex:null,object:t}}class x0 extends $i{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new nt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const ig=new At,Wd=new Qf,ol=new ms,sl=new k;class dw extends qt{constructor(e=new kn,n=new x0){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const a=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold,o=a.drawRange;if(a.boundingSphere===null&&a.computeBoundingSphere(),ol.copy(a.boundingSphere),ol.applyMatrix4(i),ol.radius+=r,e.ray.intersectsSphere(ol)===!1)return;ig.copy(i).invert(),Wd.copy(e.ray).applyMatrix4(ig);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=a.index,f=a.attributes.position;if(c!==null){const h=Math.max(0,o.start),p=Math.min(c.count,o.start+o.count);for(let y=h,_=p;y<_;y++){const m=c.getX(y);sl.fromBufferAttribute(f,m),rg(sl,m,l,i,e,n,this)}}else{const h=Math.max(0,o.start),p=Math.min(f.count,o.start+o.count);for(let y=h,_=p;y<_;y++)sl.fromBufferAttribute(f,y),rg(sl,y,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,a=Object.keys(n);if(a.length>0){const i=n[a[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const s=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=r}}}}}function rg(t,e,n,a,i,r,o){const s=Wd.distanceSqToPoint(t);if(s<n){const l=new k;Wd.closestPointToPoint(t,l),l.applyMatrix4(a);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;r.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:o})}}class nh extends kn{constructor(e=1,n=.4,a=12,i=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:a,tubularSegments:i,arc:r},a=Math.floor(a),i=Math.floor(i);const o=[],s=[],l=[],c=[],u=new k,f=new k,h=new k;for(let p=0;p<=a;p++)for(let y=0;y<=i;y++){const _=y/i*r,m=p/a*Math.PI*2;f.x=(e+n*Math.cos(m))*Math.cos(_),f.y=(e+n*Math.cos(m))*Math.sin(_),f.z=n*Math.sin(m),s.push(f.x,f.y,f.z),u.x=e*Math.cos(_),u.y=e*Math.sin(_),h.subVectors(f,u).normalize(),l.push(h.x,h.y,h.z),c.push(y/i),c.push(p/a)}for(let p=1;p<=a;p++)for(let y=1;y<=i;y++){const _=(i+1)*p+y-1,m=(i+1)*(p-1)+y-1,d=(i+1)*(p-1)+y,g=(i+1)*p+y;o.push(_,m,g),o.push(m,d,g)}this.setIndex(o),this.setAttribute("position",new Fn(s,3)),this.setAttribute("normal",new Fn(l,3)),this.setAttribute("uv",new Fn(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nh(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class fw extends $i{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new nt(16777215),this.specular=new nt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zy,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ua,this.combine=$f,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}const og={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class hw{constructor(e,n,a){const i=this;let r=!1,o=0,s=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=a,this.itemStart=function(u){s++,r===!1&&i.onStart!==void 0&&i.onStart(u,o,s),r=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,s),o===s&&(r=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,h=c.length;f<h;f+=2){const p=c[f],y=c[f+1];if(p.global&&(p.lastIndex=0),p.test(u))return y}return null}}}const pw=new hw;class ah{constructor(e){this.manager=e!==void 0?e:pw,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const a=this;return new Promise(function(i,r){a.load(e,i,n,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}ah.DEFAULT_MATERIAL_NAME="__DEFAULT";class mw extends ah{constructor(e){super(e)}load(e,n,a,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=og.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){n&&n(o),r.manager.itemEnd(e)},0),o;const s=is("img");function l(){u(),og.add(e,this),n&&n(this),r.manager.itemEnd(e)}function c(f){u(),i&&i(f),r.manager.itemError(e),r.manager.itemEnd(e)}function u(){s.removeEventListener("load",l,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),r.manager.itemStart(e),s.src=e,s}}class gw extends ah{constructor(e){super(e)}load(e,n,a,i){const r=new ln,o=new mw(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){r.image=s,r.needsUpdate=!0,n!==void 0&&n(r)},a,i),r}}class vw extends qt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new nt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}const Ou=new At,sg=new k,lg=new k;class yw{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new it(512,512),this.map=null,this.mapPass=null,this.matrix=new At,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new eh,this._frameExtents=new it(1,1),this._viewportCount=1,this._viewports=[new Vt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,a=this.matrix;sg.setFromMatrixPosition(e.matrixWorld),n.position.copy(sg),lg.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(lg),n.updateMatrixWorld(),Ou.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ou),a.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),a.multiply(Ou)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class _w extends yw{constructor(){super(new f0(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class xw extends vw{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(qt.DEFAULT_UP),this.updateMatrix(),this.target=new qt,this.shadow=new _w}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Yf}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Yf);const Sw=()=>{const t=Z.useRef(null),e=Z.useRef({x:0,y:0});return Z.useEffect(()=>{const n=new cw,a=new Dn(75,window.innerWidth/window.innerHeight,.1,1e3),i=new lw({antialias:!0});i.setSize(window.innerWidth,window.innerHeight),t.current&&t.current.appendChild(i.domElement);const r=new xw(16777215,10);r.position.set(-10,10,10),n.add(r);const o=new fw({color:16777215,opacity:.7,transparent:!0,shininess:100}),s=new nh(1,.3,16,100),l=new sa(s,o);n.add(l);const c=new x0({color:16777215,size:.1,map:new gw().load("https://threejs.org/examples/textures/particle2.png"),blending:Fd,transparent:!0}),u=new kn,f=500,h=new Float32Array(f*3);for(let b=0;b<f;b++)h[b*3]=(Math.random()-.5)*10,h[b*3+1]=(Math.random()-.5)*10,h[b*3+2]=(Math.random()-.5)*10;u.setAttribute("position",new Zn(h,3));const p=new dw(u,c);n.add(p);const y=new _0({color:2236962,linewidth:120}),_=new kn,m=[];for(let b=0;b<100;b++)m.push(Math.random()*5-2.5,Math.random()*5-2.5,Math.random()*5-2.5);_.setAttribute("position",new Fn(m,3));const d=new uw(_,y);n.add(d),a.position.z=1;const g=()=>{requestAnimationFrame(g),l.rotation.x+=.01,l.rotation.y+=.01,p.rotation.x+=.002,p.rotation.y+=.002,_.attributes.position.needsUpdate=!0;const b=e.current.x/window.innerWidth*2-1,w=-(e.current.y/window.innerHeight)*2+1;l.position.x=b,l.position.y=w,p.position.x=b,p.position.y=w,d.position.x=b,d.position.y=w,i.render(n,a)};g();const v=b=>{e.current={x:b.clientX,y:b.clientY}};return window.addEventListener("mousemove",v),()=>{var b,w;window.removeEventListener("mousemove",v),(w=(b=i.domElement)==null?void 0:b.parentNode)==null||w.removeChild(i.domElement),i.dispose()}},[]),ee.jsx("div",{ref:t,style:{width:"100%",height:"100%"}})},Bu=()=>ee.jsxs("div",{style:{position:"relative",height:"100vh"},children:[ee.jsx(Sw,{}),ee.jsx(J1,{})]}),bw="SANTO DE LOS SANTOS",Mw="1250 - 985 a.C.",Ew=[{year:"1270 a.C.",events:[{name:"Nacimiento de Moiss",text:"En tiempos de gran tensin en Egipto, el faran orden eliminar a todos los varones hebreos recin nacidos para controlar a la creciente poblacin esclava. En medio de esta amenaza, la madre de Moiss decidi salvarlo colocando al beb en una canasta sobre el ro Nilo. La hija del faran encontr al nio y lo cri en el palacio real. Por decisin silenciosa, la madre biolgica permaneci cerca, amamantando a Moiss en secreto, mientras l creca entre el lujo del palacio y la vida humilde de su pueblo.",cities:["Egipto"]}]},{year:"1265 a.C.",events:[{name:"Moiss asesina a un guardia egipcio",text:"Un da, Moiss vio a un guardia maltratando a un esclavo hebreo. La rabia estall en su pecho. En un impulso violento, golpe al egipcio y lo mat. Supo entonces que su vida en el palacio estaba condenada. Huir era la nica salida.",cities:["Egipto"]}]},{year:"1250 a.C.",events:[{name:"Reencuentro con Aarn y Miriam",text:"En Madin, Moiss encontr refugio y silencio. Dios lo llam desde una zarza que arda sin consumirse. Temeroso, busc apoyo en su hermano Aarn, quien lo aguardaba en el desierto. Miriam, su hermana, tambin acompaaba desde lejos, guardiana de su historia y de la promesa que an deba cumplir.",cities:["Madin","Egipto"]}]},{year:"1249 a.C.",events:[{name:"Comienzo de las Plagas de Egipto",text:"Aarn y Moiss confrontaron al faran con seales y plagas. Aarn, como portavoz, ejecut milagros como convertir la vara en serpiente (xodo 7). Esta etapa consolid su autoridad divina ante Israel. La participacin de Aarn en actos de poder marc el comienzo de su rol mediador entre Dios y el pueblo, antes de asumir formalmente como sacerdote.",cities:["Egipto"]}]},{year:"1248 a.C.",events:[{name:"xodo y el cruce del Mar Rojo",text:"Tras la dcima plaga, los hebreos salieron de Egipto. Moiss gui la huida y dividi las aguas del Mar Rojo. Miriam dirigi una danza con panderos, liderando a las mujeres en canto y celebracin (xodo 15:20-21). Este episodio destaca su papel como figura espiritual femenina, reconocida por el pueblo aunque excluida del sacerdocio formal.",cities:["Egipto","Mar Rojo"]}]},{year:"1247 a.C.",events:[{name:"Man, agua y conflictos",text:"En el desierto, el pueblo comenz a quejarse. Dios provey man y agua milagrosamente. Aarn estuvo presente como lder visible junto a Moiss. Sin embargo, la tensin con el pueblo fue constante. La autoridad de los hermanos comenz a consolidarse tanto en lo religioso como en lo poltico.",cities:["Desierto de Sina"]}]},{year:"1246 a.C.",events:[{name:"Entrega de la Ley y construccin del Arca",text:"En el Monte Sina, Moiss recibi las Tablas de la Ley. Aarn fue designado para asistir mientras Moiss suba (xodo 24:14). Paralelamente, se dieron instrucciones para construir el Arca de la Alianza y el Santuario mvil (xodo 25-31), donde Aarn y sus hijos serviran como sacerdotes. El diseo inclua el 'Santo de los Santos', espacio exclusivo para el sumo sacerdote una vez al ao.",cities:["Monte Sina"]}]},{year:"1245 a.C.",events:[{name:"El Becerro de Oro",text:"Mientras Moiss estaba en el monte, Aarn cedi a la presin del pueblo y fabric un becerro de oro (xodo 32). Este acto fue condenado severamente. Moiss rompi las tablas y orden castigo. A pesar de este pecado, Aarn fue perdonado y posteriormente consagrado como Sumo Sacerdote. Este episodio revela las tensiones internas en la conduccin espiritual y poltica.",cities:["Monte Sina"]}]},{year:"1244 a.C.",events:[{name:"Consagracin de Aarn como Sumo Sacerdote",text:"Dios orden a Moiss consagrar a Aarn y a sus hijos (xodo 28-29; Levtico 8-9). Aarn visti ropas sagradas, incluyendo el efod y el pectoral. Se estableci el rol exclusivo del Kohen Gadol, encargado de los sacrificios y de entrar una vez al ao al 'Santo de los Santos' en Yom Kippur. Este acto institucionaliz el sacerdocio patrilineal, excluyendo a mujeres y a otras tribus.",cities:["Tabernculo del desierto"]}]},{year:"1243 a.C.",events:[{name:"La vara de almendro de Aarn",text:"Tras una rebelin de los levitas (Nmeros 17), Dios mand colocar una vara por cada jefe tribal. Slo la de Aarn floreci, confirmando su eleccin divina como Sumo Sacerdote. Este milagro sell su legitimidad ante las tribus. La vara fue guardada en el Arca, junto a las Tablas y una porcin de man.",cities:["Desierto"]}]},{year:"1242 a.C.",events:[{name:"Roles diferenciados de Moiss y Aarn",text:"Moiss continu como profeta y lder poltico; Aarn se dedic al culto. Esta divisin de funciones refleja la creacin de una estructura institucional en el campamento israelita: poder espiritual-sacerdotal (Aarn) y poder proftico-legal (Moiss). Miriam continu siendo reconocida como profetisa, aunque tuvo un conflicto con sus hermanos en Nmeros 12, que termin con un castigo divino por cuestionar la autoridad de Moiss.",cities:["Campamento israelita"]}]},{year:"1241 a.C.",events:[{name:"Muerte de Miriam",text:"Miriam muri en Cades (Nmeros 20:1). Su muerte marc el fin de una generacin de lderes espirituales. Aunque excluida del sacerdocio, su figura es crucial como smbolo del liderazgo femenino en el relato bblico.",cities:["Cades"]}]},{year:"1240 a.C.",events:[{name:"Muerte de Aarn",text:"Aarn muri en el monte Hor (Nmeros 20:22-29). Debido a una desobediencia de Aarn y Moiss en Merib, Dios decret que no entraran en la Tierra Prometida y que Aarn morira en ese lugar. Antes de morir, Moiss le quit las vestiduras sacerdotales y se las entreg a su hijo Eleazar, quien fue designado para sucederlo como Sumo Sacerdote. Esta transicin marc el primer relevo generacional en el linaje de los Kohanim Gedolim, asegurando la continuidad del sacerdocio levtico.",cities:["Monte Hor","Merib"]},{name:"Muerte de Nadab y Abi",text:"Los hijos mayores de Aarn, Nadab y Abi, murieron al ofrecer 'fuego extrao' (Levtico 10:1-2), un sacrificio no autorizado segn las estrictas normas del culto levtico. Este episodio ejemplifica la severidad de las leyes rituales y la intolerancia divina hacia cualquier desviacin en el servicio al Tabernculo. Como consecuencia, slo Eleazar y otro hijo de Aarn, Itamar, quedaron habilitados para ejercer el sacerdocio, fortaleciendo as la disciplina y pureza del sistema religioso israelita.",cities:["Desierto de Sina"]}]},{year:"1239 a.C.",events:[{name:"Eleazar asume como Kohen Gadol",text:"Tras la muerte de Aarn, Eleazar asumi el cargo de Sumo Sacerdote (Nmeros 20:28), encargndose de mantener la continuidad y la estricta observancia del culto en el Tabernculo. Durante su mandato no se registraron episodios de rebelda ni desviaciones graves, lo que indica un fortalecimiento de la autoridad sacerdotal y un mayor respeto por las leyes de pureza y ritualidad. Eleazar estableci una era de disciplina y orden en el sistema religioso de Israel.",cities:["Desierto","Campamento israelita"]}]},{year:"1210 a.C.",events:[{name:"Fines de Eleazar y sucesin de Fins",text:"Fins, hijo de Eleazar, es recordado por su accin en Nmeros 25, cuando ejecut a una pareja israelita que cometa idolatra y relaciones ilcitas con mujeres moabitas. Esta intervencin, aunque violenta, fue vista como una defensa decisiva de la pureza religiosa y moral del pueblo, y por ello Fins fue recompensado divinamente con el sacerdocio perpetuo. Su sucesin asegur la continuidad de la lnea sacerdotal y reforz la vigilancia sobre la integridad del culto israelita.",cities:["Sitm","Israel"]}]},{year:"1190 a.C.",events:[{name:"Edad de Hierro: consolidacin tribal",text:"Durante este perodo se asentaron las tribus israelitas en Canan. El sacerdocio jug un rol crucial en consolidar la identidad tribal, tnica y religiosa. Las leyes de Deuteronomio prohiban matrimonios mixtos, y se reforz la autoridad patriarcal. No obstante, el Libro de Jueces destaca la figura de Dbora, una mujer lder, juez y profetisa que lider una victoria militar (Jueces 45).",cities:["Canan","Israel"]}]},{year:"1120 a.C.",events:[{name:"Bukki, hijo de Abisa, asume el sacerdocio",text:"Bukki fue parte de la lnea sucesoria de los kohanim segn 1 Crnicas 6. No se registra un hecho sobresaliente en su perodo, lo que indica una poca posiblemente estable, aunque marcada por la exclusin sistemtica de mujeres y extranjeros del culto.",cities:["Israel"]}]},{year:"1100 a.C.",events:[{name:"Uzzi contina la lnea sacerdotal",text:"Uzzi, hijo de Bukki, asumi como Kohen Gadol. La poca se caracteriza por un nfasis creciente en la pureza ritual y el control religioso sobre la vida social. Las leyes de Levtico regulaban severamente la sexualidad, incluyendo la condena explcita a la homosexualidad (Levtico 18:22).",cities:["Israel"]}]},{year:"1080 a.C.",events:[{name:"Ahitub ejerce el sacerdocio durante los inicios de la monarqua",text:"Ahitub fue sacerdote en tiempos previos a la instauracin del reino unido. Su ministerio ocurri en un contexto de conflictos internos entre tribus y consolidacin de estructuras centralizadas. Las mujeres, aunque ausentes del sacerdocio, comenzaron a influir en relatos profticos y polticos, como Ana, madre de Samuel.",cities:["Israel"]}]},{year:"1050 a.C.",events:[{name:"Eli como Sumo Sacerdote y Juez",text:"Eli fue una figura dual: juez y sumo sacerdote. Segn 1 Samuel, su mandato termin trgicamente por la corrupcin de sus hijos, Ofni y Finees. La historia resalta los desafos de la transmisin familiar del poder. Ana, madre de Samuel, desafi normas al orar directamente a Dios, siendo escuchada. Su oracin marca un hito de agencia femenina en la narrativa bblica.",cities:["Silo"]}]},{year:"1040 a.C.",events:[{name:"Nacimiento de Samuel",text:"Samuel naci como respuesta al voto de Ana, quien lo dedic al servicio en el santuario de Silo (1 Samuel 1). Aunque no fue Kohen Gadol, ejerci autoridad proftica y religiosa, actuando como puente entre la era tribal y la monarqua. Su historia ilustra cmo las mujeres, como Ana, podan alterar el rumbo religioso incluso sin tener roles formales.",cities:["Silo"]}]},{year:"1020 a.C.",events:[{name:"Ahimelec apoya a David",text:"Ahimelec, descendiente de Ahitub, fue asesinado por orden de Sal tras brindar ayuda a David (1 Samuel 21-22). Este acto refleja la tensin entre el poder poltico y el religioso. Abiatar, su hijo, escap y fue el ltimo descendiente de El en ejercer como sacerdote, lo que cerr una lnea marcada por crisis sucesivas.",cities:["Nob"]}]},{year:"1015 a.C.",events:[{name:"Samuel designa jueces a sus hijos",text:"Cuando Samuel envejeci, puso a sus hijos Joel y Abas como jueces en Beerseba. Sin embargo, ellos no siguieron su ejemplo: se dejaron corromper por la avaricia, aceptaron sobornos y pervirtieron la justicia (1 Samuel 8:1-3). Este fracaso en la sucesin sacerdotal impuls la demanda del pueblo por un rey.",cities:["Beerseba","Silo"]}]},{year:"1014 a.C.",events:[{name:"Rechazo a los hijos de Samuel y surgimiento de la monarqua",text:"El pueblo rechaz a los hijos de Samuel como jueces, pidiendo un rey como el resto de las naciones. Samuel se mostr reticente, pero Dios le indic que no lo rechazaban a l, sino a Dios mismo como rey. Este momento sella el trnsito institucional de una teocracia tribal a una monarqua centralizada.",cities:["Silo","Ram"]}]},{year:"990 a.C.",events:[{name:"Hemn, nieto de Samuel, como vidente y msico real",text:"Hemn, nieto del profeta Samuel segn 1 Crnicas 6:33, fue uno de los tres levitas nombrados por David para dirigir la msica en el santuario. Reconocido como 'vidente del rey', combin funcin espiritual y artstica en la corte. Tambin fue el autor del Salmo 88, de tono sombro y profundamente humano.",cities:["Jerusaln"]}]},{year:"989 a.C.",events:[{name:"Los hijos y las hijas de Hemn",text:"Dios otorg a Hemn catorce hijos y tres hijas (1 Crnicas 25:5). Todos ellos participaron en el culto musical del Templo bajo la supervisin del rey David. Los hijos de Hemn entre ellos Buquas, Matanas, Uziel y otros representaban una dinasta levtica de cantores que fusionaba profeca, msica y liturgia.",cities:["Jerusaln"]}]},{year:"985 a.C.",events:[{name:"Fin del sacerdocio de Abiatar",text:"Abiatar fue removido por el rey Salomn por haber apoyado a Adonas en su disputa por el trono (1 Reyes 2:26-27). Este evento marc el fin de la lnea sacerdotal de El y el inicio de la centralizacin del culto en Jerusaln bajo la dinasta davdica. Comienza as una nueva etapa en la historia del sacerdocio.",cities:["Jerusaln"]}]}],Aw={title:bw,duration:Mw,years:Ew},Tw="Reyes",ww="c. 1010 - 586 a.C.",Cw=[{year:"1010 a.C.",events:[{name:"Abiathar y el reinado de David",text:"Abiathar, hijo de Ahimelec y nieto de Ahitob, sobrevivi a la masacre de Nob ordenada por Sal, quien tema que los sacerdotes apoyaran a David (1 Samuel 22). Abiathar se convirti en sacerdote durante el reinado de David, siendo un pilar en la legitimacin religiosa del rey.",cities:["Jerusaln","Nob"]}]},{year:"1009 a.C.",events:[{name:"El harn de David: Mical y Betsab",text:"Durante el reinado de David, Mical, hija del rey Sal y primera esposa de David, y Betsab, madre de Salomn, fueron figuras femeninas influyentes en el harn real. Betsab, viuda de Uras y esposa de David, jug un rol en asegurar la sucesin de su hijo Salomn.",cities:["Jerusaln"]}]},{year:"980 a.C.",events:[{name:"Ahimaaz, hijo de Zadok",text:"Ahimaaz, hijo del sacerdote Zadok y miembro de la lnea sacerdotal de Eleazar, sirvi como mensajero durante la rebelin de Absaln, hijo de David. Maac, madre de Absaln, fue una figura destacada en la familia real.",cities:["Jerusaln"]}]},{year:"979 a.C.",events:[{name:"Harenes reales y sucesin",text:"Los harenes reales funcionaban como espacios estratgicos para alianzas polticas, con mujeres que influan en la sucesin y decisiones de poder. Aunque los sacerdotes estaban apartados de estos espacios, el harn intervena indirectamente en nombramientos y facciones del poder.",cities:["Jerusaln"]}]},{year:"950 a.C.",events:[{name:"Azariah I y el templo bajo Salomn",text:"Azariah I, hijo de Ahimaaz y nieto de Zadok, ejerci como sacerdote durante el apogeo del Reino Unido bajo Salomn, hijo de David y Betsab. Fue testigo del esplendor del Primer Templo y del fortalecimiento del poder sacerdotal.",cities:["Jerusaln"]}]},{year:"949 a.C.",events:[{name:"Naam y la consolidacin del harn de Salomn",text:"El harn de Salomn incluy a mujeres extranjeras, como Naam la amonita, madre de Roboam. Estas mujeres reforzaban alianzas polticas, aunque tambin introducan tensiones culturales y religiosas.",cities:["Jerusaln"]}]},{year:"870 a.C.",events:[{name:"Joash, sacerdote en Jud",text:"Joash ejerci su sacerdocio en tiempos de la reina madre Atala, hija de Acab y Jezabel, quien gobern Jud tras la muerte de su hijo Ocozas. El sacerdocio luchaba por mantener la pureza del culto en medio del sincretismo religioso promovido por la corte.",cities:["Jud"]}]},{year:"869 a.C.",events:[{name:"El harn como centro de poder paralelo",text:"Las concubinas reales tenan influencia en las decisiones polticas y religiosas. La rivalidad dentro del harn afectaba la estabilidad del reino, y la sexualidad era utilizada como instrumento de alianzas y control sucesorio.",cities:["Jud"]}]},{year:"800 a.C.",events:[{name:"Jehoiarib y la decadencia espiritual",text:"Jehoiarib lider una divisin sacerdotal en tiempos de decadencia espiritual. Los sacerdotes enfrentaban la tarea de preservar su pureza frente al aumento del sincretismo y la corrupcin emanada desde la corte.",cities:["Jerusaln"]}]},{year:"799 a.C.",events:[{name:"Maac y el culto a Asera",text:"Maac, madre del rey Asa, fue retirada de su posicin por promover el culto a Asera, lo que refleja los lmites del poder femenino cuando entraba en conflicto con las reformas religiosas impulsadas por el sacerdocio.",cities:["Jerusaln"]}]},{year:"740 a.C.",events:[{name:"Uriah y la introduccin de cultos extranjeros",text:"Uriah sirvi como sacerdote durante el reinado de Acaz, quien introdujo altares damascenos en Jerusaln. La influencia extranjera alteraba las prcticas religiosas tradicionales y debilitaba la autoridad sacerdotal.",cities:["Jerusaln","Damasco"]}]},{year:"739 a.C.",events:[{name:"Decadencia del harn y crisis religiosa",text:"El harn, antes instrumento de consolidacin monrquica, se convirti en un espacio influenciado por cultos extranjeros. La sexualidad se politiz, reflejando la crisis moral y religiosa de la poca.",cities:["Jerusaln"]}]},{year:"640 a.C.",events:[{name:"Hilkiah y la reforma de Josas",text:"Hilkiah, sumo sacerdote y padre de Safn, descubri el 'Libro de la Ley' durante las reformas del rey Josas. Esta reforma centraliz el culto en Jerusaln, prohibi cultos ajenos y regul el harn real con severidad.",cities:["Jerusaln"]}]},{year:"639 a.C.",events:[{name:"Jedid y las mujeres del harn reformado",text:"Jedid, madre de Josas, fue una figura influyente en el harn. Durante la reforma, muchas mujeres fueron apartadas por vnculos con cultos extranjeros, mostrando el nuevo rol subordinado del harn frente al poder sacerdotal.",cities:["Jerusaln"]}]},{year:"620 a.C.",events:[{name:"Seraiah, ltimo sumo sacerdote",text:"Seraiah, considerado padre de Esdras segn tradicin, fue uno de los ltimos sumos sacerdotes del Primer Templo. Su liderazgo coincidi con el colapso del poder real y la inminente amenaza de Babilonia.",cities:["Jerusaln"]}]},{year:"619 a.C.",events:[{name:"Nehusta, la reina en el exilio",text:"Nehusta, esposa del rey Joaqun, fue deportada junto a su esposo a Babilonia. Su figura simboliza el fin de la influencia de las mujeres cortesanas y la cada del harn como institucin.",cities:["Jerusaln","Babilonia"]}]},{year:"586 a.C.",events:[{name:"Exilio babilnico y prdida del Templo",text:"Con la destruccin del Templo, el sacerdocio se desplaz hacia formas legales y comunitarias. Las mujeres como Susana y otras matriarcas jugaron un rol clave en la conservacin de la identidad durante el exilio.",cities:["Babilonia","Jerusaln"]}]}],Rw={title:Tw,duration:ww,years:Cw},Pw="Rebeldes",Lw="587 a.C. - 30 a.C.",Iw=[{year:"587 a.C.",events:[{name:"Destruccin del Primer Templo y exilio",text:"Nabucodonosor II destruye el Primer Templo en Jerusaln y deporta a parte de la poblacin a Babilonia. En los textos bblicos como Lamentaciones, Jerusaln es representada simblicamente como una mujer humillada. Comienza el perodo del exilio babilnico.",cities:["Jerusaln","Babilonia"]}]},{year:"539 a.C.",events:[{name:"Edicto de Ciro y retorno a Jerusaln",text:"Ciro el Grande conquista Babilonia y permite el retorno de los judos. El edicto persa inicia la reconstruccin del Templo. El liderazgo del retorno est encabezado por figuras sacerdotales y aristocrticas.",cities:["Babilonia","Jerusaln","Persia"]}]},{year:"516 a.C.",events:[{name:"Finalizacin del Segundo Templo",text:"Se completa la reconstruccin del Segundo Templo bajo Zorobabel y Josu ben Josadac. Se restablece el culto. El nuevo templo no incluye el Arca de la Alianza.",cities:["Jerusaln"]}]},{year:"486 a.C.",events:[{name:"Ascenso de Esther",text:"Segn el libro de Esther, una joven juda llamada Esther se convierte en reina del Imperio Persa y logra salvar a su pueblo de un genocidio planeado por Amn. El relato es de carcter literario y no tiene confirmacin arqueolgica.",cities:["Persia","Susa"]}]},{year:"474 a.C.",events:[{name:"Historia de Purim",text:"La festividad de Purim conmemora, segn el relato del libro de Esther, la salvacin del pueblo judo en Persia. Se celebra con lectura del rollo, banquetes y regalos, aunque su historicidad es debatida.",cities:["Persia","Susa"]}]},{year:"331 a.C.",events:[{name:"Conquista de Alejandro Magno",text:"Alejandro Magno conquista la regin de Palestina, marcando el inicio de la influencia helnica en Judea. Se introducen elementos culturales griegos en las ciudades.",cities:["Palestina","Jerusaln"]}]},{year:"330 a.C.",events:[{name:"Encuentro entre Alejandro Magno y el Sumo Sacerdote",text:"Segn Flavio Josefo, Alejandro Magno se encontr con el Sumo Sacerdote Jada en Jerusaln. Aunque la ancdota es citada por Josefo, carece de confirmacin en fuentes griegas. Alejandro otorg libertad religiosa a los judos durante su dominio.",cities:["Jerusaln"]}]},{year:"329 a.C.",events:[{name:"Autonoma bajo el dominio helenstico",text:"Tras la conquista de Alejandro, Judea goza de autonoma relativa bajo los didocos. Las instituciones religiosas continan funcionando con escasa interferencia externa.",cities:["Judea","Jerusaln"]}]},{year:"198 a.C.",events:[{name:"Dominio selucida",text:"Los selucidas, bajo Antoco III, toman el control de Judea de manos de los Ptolomeos. Comienza un perodo de influencia helnica ms activa en la regin.",cities:["Judea","Antioqua"]}]},{year:"167 a.C.",events:[{name:"Rebelin de los Macabeos",text:"Comienza la revuelta de los Macabeos contra la imposicin de prcticas religiosas helensticas por parte de Antoco IV Epfanes. Se restablecen las prcticas tradicionales judas.",cities:["Judea","Jerusaln"]}]},{year:"164 a.C.",events:[{name:"Rededicacin del Segundo Templo",text:"Tras la victoria de los Macabeos, se purifica y rededica el Templo de Jerusaln. Este evento da origen a la festividad de Januc.",cities:["Jerusaln"]}]},{year:"63 a.C.",events:[{name:"Conquista romana de Judea",text:"El general romano Pompeyo conquista Jerusaln, integrando Judea en la esfera de influencia romana. Comienzan las tensiones entre el poder romano y las autoridades religiosas judas.",cities:["Jerusaln","Roma"]}]}],Dw={title:Pw,duration:Lw,years:Iw},Nw="Una Estrella",Uw="c. 20 a.C. - 70 d.C.",zw=[{year:"25 a.C.",events:[{name:"Contexto social y posicin de los Kohanim y la familia de Ana",text:"En Jerusaln, la familia de Ana, futura madre de Mara, forma parte de la casta sacerdotal hakohen, con gran influencia en la vida religiosa y social. Los Kohanim gozan de estatus elevado, pero tambin enfrentan tensiones internas y disputas con otras facciones del poder religioso y poltico, como la dinasta davdica. La familia de Ana mantiene relaciones discretas pero significativas con la realeza y los harenes, que ejercen control sobre la poltica y la religin.",cities:["Jerusaln"]}]},{year:"20 a.C.",events:[{name:"Nacimiento de Ana, madre de Mara",text:"Ana nace en Jerusaln dentro de esta familia sacerdotal hakohen tradicional. Es criada en un ambiente de estricta observancia religiosa. Ana se cas y tuvo a Mara, quien unir las lneas davdica y sacerdotal en su descendencia.",cities:["Jerusaln"]}]},{year:"15 a.C.",events:[{name:"Emergencia de las tensiones entre Kohanim y dinasta davdica",text:"Durante este periodo se profundizan las disputas entre el sacerdocio hakohen y la dinasta davdica, ambas con aspiraciones a liderar al pueblo judo. Estas tensiones afectan la vida poltica y religiosa de Jerusaln, influenciando tambin el posicionamiento de familias como la de Ana y Mara, que transitan entre ambos linajes con una posicin ambivalente dentro de los crculos de poder.",cities:["Jerusaln"]}]},{year:"10 a.C.",events:[{name:"Nacimiento de Mara, madre de Jess",text:"Mara nace en Jerusaln, hija de Ana, portando la doble herencia sacerdotal hakohen y la tradicin davdica. Aunque limitada en el mbito pblico, Mara crece con profunda formacin religiosa y conocimiento de su rol vital en la unin de las dos dinastas. Su posicin socioeconmica es modesta, vinculada a familias devotas pero no ricas, ubicndose en la clase media baja de Jerusaln.",cities:["Jerusaln"]}]},{year:"6 a.C.",events:[{name:"Conjuncin astronmica y el nombre de Yesha",text:"La triple conjuncin de Jpiter con Rgulus es interpretada por sacerdotes magos y astrlogos como seal mesinica. Llegan a Jerusaln buscando al rey prometido, lo que alarma a Herodes. Los hakohen y escribas interpretan la seal en clave proftica. En esta poca, el nombre hebreo  (Yesha), que significa 'Yahwe es Salvacin', se pronuncia 'Yesh'. En griego se adapta como  (Isos), reflejando la fusin cultural de la regin.",cities:["Jerusaln","Babilonia","Galilea"]}]},{year:"5 a.C.",events:[{name:"La figura de los Magos como reyes-sacerdotes",text:"Los Magos que visitan a Jess son entendidos como sabios-reyes o sacerdotes de Babilonia, posiblemente de la casta hakohen exiliada. Su conocimiento astrolgico y religioso simboliza el reconocimiento de Jess como un mesas con legitimidad tanto sacerdotal como real, aunque an no plenamente asumida.",cities:["Babilonia","Jerusaln","Beln"]}]},{year:"4 a.C.",events:[{name:"Nacimiento de Jess y matanza de los inocentes",text:"Jess nace en Beln, hijo de Mara (linaje hakohen) y Jos (descendiente de David). Su nacimiento representa una fusin crucial para el mesianismo. Herodes el Grande, temiendo una amenaza al poder, ordena la ejecucin de nios en Beln. Sectores del sacerdocio hakohen legitiman esta violencia en defensa del orden patriarcal y heteronormativo.",cities:["Beln","Jerusaln"]}]},{year:"3 a.C.",events:[{name:"Vida y embarazo de Mara",text:"Mara, con su embarazo considerado milagroso, asume un papel central como puente entre el sacerdocio hakohen y la realeza davdica. Su embarazo genera debates en torno al linaje, la pureza ritual y la legitimidad mesinica dentro de las comunidades religiosas.",cities:["Nazaret","Jerusaln"]}]},{year:"1 d.C.",events:[{name:"Leyendas sobre Sara la Negra y Jos de Arimatea",text:"Segn tradicin medieval, tras la crucifixin, figuras como Mara Magdalena y Jos de Arimatea huyeron hacia Occidente. En la Camarga francesa surge el culto a Sainte-Sara, considerada reina y patrona del pueblo gitano. Jos de Arimatea, miembro del Sanedrn y pariente de Mara, acta como tutor de Jess y viaja luego a Britania, fundando la iglesia de Glastonbury y llevando el Santo Grial.",cities:["Camarga","Saintes-Maries-de-la-Mer","Jerusaln","Glastonbury"]}]},{year:"6 d.C.",events:[{name:"Nacimiento de Juan el Bautista",text:"Juan el Bautista nace en Judea, hijo de Zacaras y Elisabet, ambos de linaje hakohen. Su rol proftico ser clave en la preparacin del camino para Jess. Se distingue por su mensaje de conversin y su cercana a los marginados.",cities:["Judea"]}]},{year:"10 d.C.",events:[{name:"Rabban Gamaliel I preside el Sanedrn",text:"Rabban Gamaliel I, nieto de Hilel el Anciano y descendiente hakohen, lidera el Sanedrn. Su mandato equilibra el respeto por la tradicin con cierta apertura hacia movimientos emergentes como los primeros seguidores de Jess.",cities:["Jerusaln"]}]},{year:"30 d.C.",events:[{name:"Ministerio y muerte de Jess de Nazaret",text:"Jess inicia su ministerio en Galilea y Jerusaln, proclamando un mensaje que desafa al sacerdocio hakohen, las normas patriarcales y la autoridad romana. Es crucificado con la complicidad del Sanedrn. Su muerte marca un punto de inflexin para el judasmo y el surgimiento del cristianismo.",cities:["Galilea","Jerusaln"]},{name:"Pedro, apstol y lder inicial",text:"Simn Pedro, pescador galileo, discpulo de Jess, se convierte en lder de los primeros seguidores. Predica en Jerusaln y es reconocido como figura central en la comunidad cristiana primitiva.",cities:["Galilea","Jerusaln"]}]},{year:"35 d.C.",events:[{name:"Conversin y misin de Pablo de Tarso",text:"Saulo de Tarso, un fariseo perseguidor de cristianos, tiene una experiencia transformadora y se convierte en Pablo, apstol de los gentiles. Comienza a predicar activamente el cristianismo por el Imperio Romano, especialmente entre los no judos.",cities:["Tarso","Damasco","Roma"]}]},{year:"48 d.C.",events:[{name:"Dispersin de discpulos y cristianismo en la Galia",text:"Segn tradiciones medievales, discpulos como Lzaro predican en Marsella, Marta y Marcela en Tarascn, Trfimo en Arls, Mara Magdalena se retira a Saint-Maximin, y Maximino a Aix-en-Provence. As se extiende el cristianismo primitivo en la Galia romana.",cities:["Marsella","Tarascn","Arls","Saint-Maximin-la-Sainte-Baume","Aix en Provence"]}]},{year:"50 d.C.",events:[{name:"Simeon ben Gamaliel y la resistencia contra Roma",text:"Simeon ben Gamaliel, lder hakohen y descendiente davdico, encabeza la resistencia religiosa ante la ocupacin romana. Su liderazgo en el Sanedrn representa uno de los ltimos intentos de unir la autoridad religiosa y poltica tradicional en Judea.",cities:["Jerusaln","Galilea"]}]},{year:"63 d.C.",events:[{name:"Fundacin de la iglesia de Glastonbury",text:"Segn leyenda, Jos de Arimatea funda la primera iglesia cristiana en Glastonbury, llevando el Santo Grial. Este acto simboliza la expansin del cristianismo hacia las islas britnicas antes de la llegada oficial del cristianismo romano.",cities:["Glastonbury"]}]},{year:"64 d.C.",events:[{name:"Persecucin bajo Nern",text:"Emperador Nern inicia persecuciones en Roma contra los cristianos, acusndolos del incendio de la ciudad. Se cree que Pedro y Pablo mueren mrtires en Roma durante esta poca.",cities:["Roma"]}]},{year:"68 d.C.",events:[{name:"Fin de la dinasta Julio-Claudia",text:"La dinasta Julio-Claudia, que gobern desde Augusto hasta Nern, llega a su fin en 68 d.C. con la muerte de Nern. Esto desata una crisis de sucesin en Roma que tambin repercute en las provincias como Judea.",cities:["Roma","Judea"]}]},{year:"70 d.C.",events:[{name:"Destruccin del Segundo Templo",text:"El Segundo Templo es destruido por las legiones romanas bajo Tito. Esto marca el fin del sacerdocio hakohen como centro del judasmo, iniciando una nueva era basada en la ley oral y las comunidades rabnicas, y abre nuevas formas espirituales en la dispora juda y cristiana.",cities:["Jerusaln"]}]}],Fw={title:Nw,duration:Uw,years:zw},Ow="Prncipes",Bw="70 - 801",kw=[{year:"71",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_446276604dce4141b40fefe3ff0bd18c~mv2.webp/v1/fit/w_802,h_590,q_90,enc_avif,quality_auto/bd63ad_446276604dce4141b40fefe3ff0bd18c~mv2.webp",events:[{name:"Deportacin de familias sacerdotales segn tradiciones familiares",text:"despus de la cada de Jerusaln en sus manos y la destruccin del segundo Beit ha-Mikdash (Templo de Jerusaln), el emperador romano Tito tom prisioneros a los patriarcas de cuatro familias nobles de la provincia de Yehuda y de la ciudad de Jerusaln y los exili a Roma. Segn tradiciones genealgicas judas-italianas posteriores, familias sacerdotales como Anav, de Pomis, dei Rossi y degli Adolescentoli vinculadas a la lnea HaKohen, fueron deportadas por Tito tras la destruccin del Segundo Templo y se asentaron en Roma.",cities:["Jerusaln"]}]},{year:"72",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_61e3373d59444530ad40a66bccf14169~mv2.webp/v1/fit/w_802,h_590,q_90,enc_avif,quality_auto/bd63ad_61e3373d59444530ad40a66bccf14169~mv2.webp",events:[{name:"Asentamiento de las familias sacerdotales en Roma",text:"Las familias sacerdotales deportadas fueron establecidas en Roma. All comenzaron a integrarse en la comunidad juda local, adaptndose a un nuevo entorno mientras mantenan tradiciones religiosas y sociales propias.",cities:["Roma"]}]},{year:"80",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_252011c6bc3047dfbadb9923353a774e~mv2.webp/v1/fit/w_802,h_590,q_90,enc_avif,quality_auto/bd63ad_252011c6bc3047dfbadb9923353a774e~mv2.webp",events:[{name:"Nombramiento del primer Nasi",text:"Fue la primera persona en dirigir el Sanedrn como nasi tras la cada del Segundo Templo. Nas () es un trmino hebreo que significa, prncipe, en hebreo bblico. En hebreo moderno, Nas equivale a presidente, y no se utiliza en su sentido antiguo, quedando para prncipe la palabra Nasich. El Nas era el miembro con mayor rango y el que presida el Sanedrn, incluso cuando se reuna como tribunal penal.",cities:["Yavne"]}]},{year:"85",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_679ce33be8ef4a7e812b3255ae6ddd0f~mv2.webp/v1/fit/w_802,h_590,q_90,enc_avif,quality_auto/bd63ad_679ce33be8ef4a7e812b3255ae6ddd0f~mv2.webp",events:[{name:"Instituciones litrgicas de Rabn Gamliel II",text:"Rabn Gamliel II establece elementos clave de la liturgia rabnica: encarga a Simen ha-Pakoli editar la Amid (18 bendiciones) e instituye la obligacin de recitarla tres veces al da. Tambin encarga a Samuel ha-Katan redactar una bendicin contra los delatores y herejes. Instituye el ritual pascual que reemplaza el sacrificio del cordero, ncleo de la Hagad moderna, durante una celebracin en Lida.",cities:["Yavne","Lida"]}]},{year:"90",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_2d7557a7e45a48c79728a0813c2ab9d5~mv2.webp/v1/fit/w_802,h_590,q_90,enc_avif,quality_auto/bd63ad_2d7557a7e45a48c79728a0813c2ab9d5~mv2.webp",events:[{name:"Rabn Gamliel II reafirma su liderazgo",text:"Rabn Gamliel II, lder de la comunidad juda tras la destruccin del Segundo Templo, organiza el Sanedrn en Yavne. Establece normas para un judasmo centrado en la halaj y define los primeros marcos de autoridad rabnica post-templo. Inicia el perodo de los Tanaim (sabios que transmiten oralmente la ley).",cities:["Yavne"]},{name:"Escritura del Evangelio de Juan",text:"Se atribuye a Juan el Evangelio ms teolgico de los cuatro cannicos, enfatizando la divinidad de Jess y su rol en la salvacin.",cities:["feso"]}]},{year:"92",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_2a9b48e7d8af433492b818b0f22a3e0f~mv2.webp/v1/fit/w_802,h_590,q_90,enc_avif,quality_auto/bd63ad_2a9b48e7d8af433492b818b0f22a3e0f~mv2.webp",events:[{name:"Educacin y apertura cultural en casa de Gamliel",text:"En la casa de Rabn Gamliel II no se deca 'Marpe!' al estornudar por considerarlo pagano. A pesar de su rigor, permiti a su familia usar espejos para cortarse el cabello y aprender griego clsico. Su hijo Shimn ben Gamliel II relatara luego que muchos nios se formaron en 'sabidura griega' bajo su techo. Estas concesiones lo distinguieron como un lder pragmtico que equilibraba tradicin y contacto cultural.",cities:["Yavne"]}]},{year:"94",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_adcdac5eaa924a519607511848ad7bb9~mv2.webp/v1/fit/w_802,h_590,q_90,enc_avif,quality_auto/bd63ad_adcdac5eaa924a519607511848ad7bb9~mv2.webp",events:[{name:"La princesa invisible: la esposa de Rabn Gamliel II",text:"En la casa del Nas Rabn Gamliel II en Yavne, la figura de su esposa de origen sacerdotal o del linaje de Hilel jugaba un rol fundamental aunque silencioso. Vesta tunicones de lino, a veces adornados con cintas tejidas, y mantos que le cubran la cabeza como smbolo de modestia y estatus. No se maquillaba como las romanas, pero cuidaba su presencia con alhajas sobrias. Hablaba arameo, comprenda hebreo litrgico, y probablemente conoca algo de griego, transmitido en la educacin de sus hijos. Su vida cotidiana estaba marcada por las leyes de nid (pureza familiar), la preparacin de Shabat, y la direccin ritual del hogar en Pesaj y festividades, quizas prender velas. Viva rodeada de sabios (Tanaim), alumnos y escribas y el deber de preservar la pureza familiar. Aunque no poda ingresar al Beit Midrash ni hablar en la asamblea, su autoridad era reconocida dentro del mbito domstico, especialmente al tomar decisiones matrimoniales o formar a sus hijas. A veces era educada y transmisora oral, sobre todo si provena de ciudades cultas como Cesarea, Sforis o Alejandra. Su cuerpo, su voz y su saber estaban circunscriptos al interior del hogar, pero sin ella no poda mantenerse ni el linaje ni la liturgia.",cities:["Yavne"]}]},{year:"95",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_0a6bc0771fc44f8c8a801c0a5e742078~mv2.webp/v1/fit/w_802,h_590,q_90,enc_avif,quality_auto/bd63ad_0a6bc0771fc44f8c8a801c0a5e742078~mv2.webp",events:[{name:"Rabn Gamliel II denuncia la corrupcin",text:"En un discurso memorable, Gamliel retrata la decadencia moral y la tirana imperial, aludiendo al emperador Domiciano: Dado que los jueces mentirosos han prevalecido, los testigos mentirosos tambin han proliferado. As, el mundo est lleno de injusticia, y Dios ha puesto sobre ellos un rey despiadado que no conoce piedad ni justicia, tal como Asuero, el rey de Persia, que oprime sin causa... Usa la figura de Asuero como ejemplo del despotismo. Este sermn circul ampliamente entre las escuelas rabnicas de Galilea.",cities:["Yavne"]}]},{year:"98",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_36a35b65b17048438316fdbf6ef438f7~mv2.webp/v1/fit/w_802,h_590,q_90,enc_avif,quality_auto/bd63ad_36a35b65b17048438316fdbf6ef438f7~mv2.webp",events:[{name:"Agadot y sabidura moral de Rabn Gamliel II",text:"Rabn Gamliel II desarroll parbolas y agadot para exaltar el trabajo manual y la compasin como virtudes fundamentales. Enseaba: 'Mientras seas compasivo, Dios te mostrar misericordia; pero si no tienes compasin, Dios no te mostrar misericordia'. Mantuvo debates constantes con sabios como Eleazar de Modiim, valorando el razonamiento tico tanto como el legal.",cities:["Yavne"]}]},{year:"100",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_00664f02313b44bfbc81b9b4684d570b~mv2.webp/v1/fit/w_802,h_590,q_90,enc_avif,quality_auto/bd63ad_00664f02313b44bfbc81b9b4684d570b~mv2.webp",events:[{name:"Consolidacin del Sanedrn en Yavne",text:"Rabn Gamliel II enfrenta oposicin interna pero mantiene el control del Sanedrn, reafirmando la centralidad de Yavne como nueva autoridad espiritual. Se fortalece la figura del Nasi (presidente del Sanedrn) como heredero poltico-espiritual del linaje davdico y sacerdotal.",cities:["Yavne"]},{name:"Muerte de Samuel ha-Katan",text:"Rabn Gamliel II y Eleazar ben Azaras lamentan profundamente la muerte de Samuel ha-Katan, discpulo ejemplar. Gamliel exclama: 'Es justo llorarlo; los reyes dejan coronas, los ricos su oro, pero l se llev lo ms preciado: su sabidura'. Este lamento evidencia la centralidad del conocimiento en la nueva estructura post-templo.",cities:["Yavne"]}]},{year:"102",backgroundUrl:"",events:[{name:"ltimos aos y legado espiritual",text:"Rabn Gamliel II reflexiona sobre la venida del Mesas y los dolores del exilio. Describe un futuro oscuro para el pueblo antes del renacer espiritual, pero tambin augura fecundidad y bendicin para la tierra de Israel. Sus ltimos discursos se conservaron entre los tanaim y marcaron profundamente a su hijo, Shimn ben Gamliel II.",cities:["Yavne","Galilea"]}]},{year:"105",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_064f8a1adea943bdbdc526151a02bc79~mv2.webp/v1/fit/w_686,h_618,q_90,enc_avif,quality_auto/bd63ad_064f8a1adea943bdbdc526151a02bc79~mv2.webp",events:[{name:"Transmisin del linaje familiar",text:"Rabn Gamliel II y su unin con una mujer de linaje sacerdotal. Aunque el nombre de su esposa no se conserva en las fuentes, se sabe que form parte de una familia noble vinculada a la casa de Hilel y a la lnea HaKohen.",cities:["Yavne"]}]},{year:"110",backgroundUrl:"",events:[{name:"Nacimiento de Shimn ben Gamliel II",text:"Shimn ben Gamliel II nace en Galilea, hijo de Rabn Gamliel II y descendiente de la casa sacerdotal HaKohen. Desde la infancia es formado en la ley juda, las tradiciones del Templo y la continuidad del linaje rabnico en la dispora.",cities:["Galilea"]},{name:"Justino Mrtir escribe apologas",text:"Justino Mrtir, telogo cristiano, escribe obras defendiendo el cristianismo ante las autoridades romanas y paganas, siendo uno de los primeros apologetas cristianos.",cities:["Roma"]}]},{year:"118",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_ac303a0686584cd8b2b81248d0c14ef2~mv2.webp/v1/fit/w_802,h_590,q_90,enc_avif,quality_auto/bd63ad_ac303a0686584cd8b2b81248d0c14ef2~mv2.webp",events:[{name:"Muerte de Rabn Gamliel II",text:"Muere Rabn Gamliel II. Su hijo Shimn ben Gamliel II queda como heredero de su legado, aunque an joven. El liderazgo del Sanedrn pasa temporalmente a otras figuras hasta que Shimn asuma en plena madurez.",cities:["Yavne"]}]},{year:"132",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_0f1610c6fc51422593bcabaf8bea09aa~mv2.webp/v1/fit/w_180,h_592,q_90,enc_avif,quality_auto/bd63ad_0f1610c6fc51422593bcabaf8bea09aa~mv2.webp",events:[{name:"Revuelta de Bar Kojba y persecucin",text:"Estalla la revuelta de Bar Kojba contra Roma, tras la prohibicin de la circuncisin y la decisin del emperador Adriano de construir una ciudad pagana sobre Jerusaln. Miles de judos se suman al levantamiento, liderados por Shimn bar Kojba, considerado el Mesas por Rab Akiva. El Sanedrn, bajo el liderazgo de Shimn ben Gamliel II, se traslada a Usha para sobrevivir a la represin romana. Tras la derrota, Judea es devastada y el judasmo rabnico comienza a reestructurarse en la dispora.",cities:["Usha","Jerusaln","Judea"]},{name:"Inicio del liderazgo de Bar Kojba",text:"Shimon ben Kusba, lder militar y presunto descendiente de la casa de David, es proclamado 'Presidente de Israel' por sus seguidores. Rab Akiva lo reconoce pblicamente como el Mesas, basndose en el versculo Una estrella saldr de Jacob. Bar Kojba organiza la revuelta con una administracin semiteocrtica y emite monedas con inscripciones como 'Por la redencin de Israel', incluyendo referencias a su sumo sacerdote, Elazar HaKohen.",cities:["Judea"]}]},{year:"133",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_34a47e883ee946d89d52e5387c5e0f13~mv2.webp/v1/fit/w_986,h_684,q_90,enc_avif,quality_auto/bd63ad_34a47e883ee946d89d52e5387c5e0f13~mv2.webp",events:[{name:"Administracin de Judea bajo Bar Kojba",text:"Bar Kojba establece una administracin independiente con estructuras de gobierno, un sistema impositivo y control sobre Jerusaln. Sus cartas, descubiertas en el siglo XX en las cuevas del desierto de Judea, lo muestran como un comandante exigente y obsesionado con la disciplina. En ellas firma como 'Shimn ben Kusba, Presidente de Israel', confirmando su autoridad poltica y mesinica.",cities:["Jerusaln","Desierto de Judea"]}]},{year:"134",backgroundUrl:"",events:[{name:"Asedio y cada de Betar",text:"Las legiones romanas, lideradas por el general Sexto Julio Severo, lanzan una ofensiva final. Betar, fortaleza central del levantamiento, es sitiada y finalmente destruida. Bar Kojba muere en combate. La cada de Betar marca el colapso del ltimo gobierno autnomo judo en la regin antes del siglo XX.",cities:["Betar"]}]},{year:"135",backgroundUrl:"",events:[{name:"Reevaluacin de Bar Kojba y consecuencias",text:"Tras la derrota, Rab Akiva es ejecutado. El Sanedrn se traslada a Usha bajo Shimn ben Gamliel II. En la literatura rabnica, Bar Kojba comienza a ser llamado 'Ben Koziva', interpretado como 'hijo de la mentira'. Sin embargo, siglos despus, movimientos nacionalistas judos lo recuperan como figura heroica y smbolo de resistencia. Roma impone duras restricciones: Jerusaln es renombrada Aelia Capitolina y se prohbe el ingreso de judos.",cities:["Usha","Jerusaln"]},{name:"Nacimiento de Yehud HaNasi",text:"Nace Yehud HaNasi, hijo de Shimn ben Gamliel II y Miriam, mujer descendiente de la casa HaKohen. Es criado con una doble herencia: el liderazgo poltico-religioso del Sanedrn y la tradicin sacerdotal.",cities:["Galilea"]}]},{year:"138",backgroundUrl:"",events:[{name:"Reformas sociales de Shimn ben Gamliel II",text:"Emite disposiciones legales para proteger los derechos de las esposas y esclavos, priorizando el bienestar comunitario sobre el inters individual. Establece que el respeto a las decisiones del tribunal rabnico es esencial, incluso ante errores menores, para sostener la dignidad institucional.",cities:["Usha"]}]},{year:"140",backgroundUrl:"",events:[{name:"Estructura del Sanedrn bajo Shimn ben Gamliel II",text:"Introduce un tercer cargo en el Sanedrn: el Jajam, con igual autoridad que el Nas y el Av Bet Din. Designa a Rab Meir Baal HaNess como Jajam y a Rab Natn como Av Bet Din. Esta reforma provoca tensiones internas, pero refuerza la centralidad del Nas como figura de aprendizaje y autoridad.",cities:["Usha"]}]},{year:"143",backgroundUrl:"",events:[{name:"Sabidura prctica de Shimn ben Gamliel II",text:"Consolida su enfoque basado en el sentido comn, respetando los hbitos individuales y las tradiciones locales. De sus fallos haljicos se conservan unas 30 regulaciones sobre el Shabat y 15 sobre el ao sabtico. En la Mishn, sus opiniones prevalecen casi sin excepcin.",cities:["Usha","Galilea"]}]},{year:"145",backgroundUrl:"",events:[{name:"Saberes griegos y ciencias naturales",text:"Shimn ben Gamliel II adopta una actitud abierta hacia la filosofa y las ciencias griegas. Permite que algunos de sus hijos estudien filosofa mientras otros estudian Tor. Sus propios dichos revelan conocimientos en botnica, zoologa y anatoma. Reconoce que las Escrituras pueden escribirse en hebreo, griego o arameo.",cities:["Usha","Galilea"]}]},{year:"148",backgroundUrl:"",events:[{name:"Costumbres antiguas y elogio a los samaritanos",text:"Shimn documenta prcticas antiguas de Jerusaln como las fiestas del 15 de Av y Yom Kipur, banquetes rituales y las piscinas de Silo. Elogia a los samaritanos por su apego a la ley escrita, incluso por encima de los propios israelitas. Rechaza lecturas literales de la Tor cuando contradicen el sentido comn.",cities:["Jerusaln","Galilea"]}]},{year:"152",backgroundUrl:"",events:[{name:"Formacin y estudios",text:"Durante su juventud en Usha, estudia Tor con grandes discpulos de Akiva (Jud ben Ilai, Simen bar Yojai, Eleazar ben Shammua y Natn el Babilnico) y aprende griego, reforzando su base intelectual.",cities:["Usha"]}]},{year:"170",backgroundUrl:"",events:[{name:"Asume el patriarcado y se traslada a Beit Shearim",text:"Al morir su padre, se convierte en Nasi del Sanedrn y traslada la sede acadmica de Usha a Beit Shearim. Abre sus graneros para auxiliar a los necesitados durante una hambruna.",cities:["Beit Shearim"]}]},{year:"175",backgroundUrl:"",events:[{name:"Relaciones con Roma",text:"Mantiene amistad con el emperador Antonino Po y altos funcionarios romanos, lo que mejora la condicin legal y econmica de los judos de Galilea.",cities:["Sepphoris"]}]},{year:"188",backgroundUrl:"",events:[{name:"Inicio de la redaccin de la Mishn",text:"Rene a los Tanaim en Beit Shearim para sistematizar la Ley Oral en 63 tratados; su biblioteca se convierte en el epicentro del proceso de compilacin.",cities:["Beit Shearim"]}]},{year:"200",backgroundUrl:"",events:[{name:"Residencia en Sepphoris",text:"Por razones de salud y altitud, traslada su hogar y academia a Sepphoris. Su palacio-estudio conserva el carcter de un centro de justicia, erudicin y asistencia social.",cities:["Sepphoris"]}]},{year:"216",backgroundUrl:"",events:[{name:"Rav Huna, lder talmdico en Babilonia",text:"Rav Huna, un destacado amora de la segunda generacin, dirige la Academia de Sura en Babilonia. Nacido alrededor del ao 216, su liderazgo es crucial para el desarrollo del Talmud babilnico.",cities:["Babilonia"]}]},{year:"220",backgroundUrl:"",events:[{name:"Rabn Gamaliel III dirige el Sanedrn",text:"Rabn Gamaliel III, tambin llamado Gamaliel bar Rabbi, sucede a su padre Yehud HaNasi (Jud el Prncipe) como Nas del Sanedrn en Tiberades. Durante su liderazgo, se consolida la redaccin final de la Mishn. Se le atribuyen enseanzas ticas que destacan el valor del trabajo junto con el estudio de la Tor, la prudencia frente al poder poltico y la compasin como valor divino. Fue padre de Jud II y parte de una dinasta que gui al judasmo rabnico en el siglo III.",cities:["Tiberades"]}]},{year:"230",backgroundUrl:"",events:[{name:"Rav Huna y Yalta en Babilonia",text:"Rav Huna se casa con Yalta, hija de Rab Hisda y descendiente materna de la lnea HaKohen. Yalta destaca por su erudicin y por promover la participacin femenina en prcticas rituales, marcando una temprana resistencia de gnero en la comunidad rabnica.",cities:["Sura"]}]},{year:"259",backgroundUrl:"",events:[{name:"Rabbah bar Nachmani, figura clave del Talmud Babilnico",text:"Rabbah bar Nachmani, discpulo de Rav, es una figura central en la academia de Nehardea. Tras la destruccin de Nehardea, se traslada a Mahuza, donde ejerce como juez y decisor haljico influyente.",cities:["Nejardea","Mahuza"]}]},{year:"270",backgroundUrl:"",events:[{name:"Gamaliel IV asume como Nas del Sanedrn",text:"Gamaliel IV, hijo de Jud II y nieto de Gamaliel III, asume el liderazgo como Nas del Sanedrn en Tiberades. Debido a la persecucin romana, el Sanedrn oculta su actividad bajo el nombre de Beth HaMidrash. Aunque su erudicin fue considerada menor que la de Rab Yojann, se le reconoce por su humildad y prudencia. Su intento de introducir nuevas normas sobre el diezmo en Siria fue bloqueado por Hoshaiah Rabbah.",cities:["Tiberades","Siria"]}]},{year:"280",events:[{name:"Nacimiento de San Jorge",text:"Segn tradicin, nace San Jorge, futuro santo guerrero cuya leyenda trascender en el mundo cristiano y ms all.",cities:["Desconocido"]}]},{year:"290",backgroundUrl:"",events:[{name:"Jud III lidera el Sanedrn y organiza escuelas",text:"Jud III (tambin llamado Nesiah II), hijo de Gamaliel IV, asume el cargo de Nas del Sanedrn en Tiberades. Discpulo de Rab Yojann, impulsa la organizacin de escuelas para nios en Palestina, a travs de sus alumnos Ami y As. Su gobierno espiritual marca una consolidacin institucional del judasmo rabnico en tiempos de transicin imperial.",cities:["Tiberades","Palestina"]}]},{year:"290",backgroundUrl:"",events:[{name:"Jud III asume el liderazgo del Sanedrn y organiza escuelas",text:"Jud III (tambin llamado Nesiah II), hijo de Gamaliel IV, asume el cargo de Nas (presidente) del Sanedrn en Tiberades. Discpulo del rabino Yojann, impulsa la organizacin de escuelas para la educacin infantil en Palestina, a travs de sus alumnos Ami y As. Su liderazgo espiritual marca una consolidacin institucional del judasmo rabnico en un contexto de transicin bajo el Imperio Romano.",cities:["Tiberades","Palestina"]}]},{year:"294",backgroundUrl:"",events:[{name:"Nombramiento de Jud III como prefecto por el emperador Diocleciano",text:"El emperador romano Diocleciano, buscando estabilizar la regin y administrar mejor las provincias, nombra a Jud III prefecto (lder civil) de la comunidad juda en Palestina. Este cargo implicaba autoridad administrativa y judicial reconocida oficialmente por el Imperio Romano, permitiendo a Jud III mediar entre la autoridad imperial y la comunidad juda, garantizando cierta autonoma y orden interno.",cities:["Palestina"]}]},{year:"300",backgroundUrl:"",events:[{name:"Consolidacin del Sanedrn bajo Jud III",text:"Jud III contina fortaleciendo la autoridad del Sanedrn, impulsando la codificacin y enseanza de la Halaj (ley juda). La institucin funciona como centro de liderazgo espiritual y judicial para los judos en Palestina, manteniendo la cohesin comunitaria en tiempos de cambios polticos en el Imperio Romano.",cities:["Tiberades","Palestina"]}]},{year:"303",backgroundUrl:"",events:[{name:"Persecucin de cristianos y martirio de San Jorge",text:"El emperador Diocleciano emite un edicto de persecucin contra los cristianos en todo el Imperio Romano. San Jorge, obligado a participar en las torturas, confiesa su fe cristiana y es torturado sin renunciar. Finalmente es decapitado frente a las murallas de Nicomedia el 23 de abril de 303.",cities:["Nicomedia"]}]},{year:"320",backgroundUrl:"",events:[{name:"Transicin de liderazgo tras Jud III",text:"Tras la muerte de Jud III, el liderazgo del Sanedrn pasa a su sucesor, quien enfrenta retos crecientes debido a la presin del Imperio Bizantino cristianizado, que limita la autonoma juda y promueve leyes restrictivas contra los judos.",cities:["Tiberades","Palestina"]},{name:"Hillel II, Nas del Sanedrn y creador del calendario hebreo fijo",text:"Hillel II, hijo y sucesor de Judah III, asume el cargo de Nas del Sanedrn. Se le atribuye tradicionalmente la promulgacin del calendario hebreo fijo para unificar la observancia de los das festivos entre la dispora juda, especialmente ante la prohibicin de reuniones del Sanedrn bajo Constancio II. Recibe reconocimiento del emperador Juliano el Apstata, quien promete mejorar la condicin de los judos.",cities:["Tiberades","Dispora"]}]},{year:"321",backgroundUrl:"",events:[{name:"Primeros judos en Colonia (Alemania)",text:"El emperador Constantino I emite un edicto que permite a los judos ocupar cargos pblicos en Colonia, marcando la primera evidencia oficial de una comunidad juda organizada en Alemania.",cities:["Colonia"]}]},{year:"347",backgroundUrl:"",events:[{name:"Nacimiento de Marcomir",text:"Nace Marcomir, futuro rey de los francos ampsivares y catos, lder en las incursiones contra el Imperio Romano en Germania a finales del siglo IV.",cities:["Germania"]}]},{year:"350",events:[{name:"Leyenda de San Alejo en Edesa (Siria)",text:"Segn la tradicin, Alejo, hijo de patricios romanos, renuncia a su boda y se exilia en Edesa, donde vive como mendigo durante 17 aos. Al regresar a Roma, es reconocido solo despus de su muerte. Su historia es smbolo de piedad y renuncia.",cities:["Edesa","Roma"]}]},{year:"359",events:[{name:"Gamaliel V perfecciona el calendario judo",text:"Gamaliel V, hijo y sucesor de Hillel II, concluye y perfecciona el calendario judo en 359. Es principalmente reconocido como lder poltico secular. Bajo su liderazgo, el judasmo mantiene su estatus lcito en el Imperio Romano, y su autoridad patriarcal se fortalece en competencia con otros patriarcas religiosos.",cities:["Tiberades","Palestina"]}]},{year:"360",events:[{name:"Huna bar Nathan, gan y asesor poltico",text:"Como gan de Sura, Huna bar Nathan defiende la autonoma juda combinando la tradicin legal con la diplomacia ante el poder persa.",cities:["Sura"]}]},{year:"365",events:[{name:"Nacimiento de Faramundo",text:"Nace Faramundo, rey legendario de los francos salios, considerado primer monarca de esta tribu germnica, segn la tradicin carolingia del siglo VIII.",cities:["Germania"]}]},{year:"366",events:[{name:"Gamaliel V, patriarca y lder poltico",text:"Durante su patriarcado, Gamaliel V se destaca por su influencia poltica ms que por enseanzas religiosas. Documentos romanos mencionan su papel en la defensa jurdica y poltica del pueblo judo, incluso en enfrentamientos con autoridades imperiales, como el cnsul romano Hesiquio de Alejandra.",cities:["Palestina","Imperio Romano"]}]},{year:"380",events:[{name:"Marcomir y las incursiones en Germania",text:"Marcomir y su hermano Sunnon realizan numerosas incursiones en la provincia romana de Germania entre 380 y 390, consolidando su poder regional.",cities:["Germania"]}]},{year:"388",events:[{name:"Marcomir intercambia rehenes con el general romano Arbogasto",text:"Como gesto de paz, Marcomir entrega rehenes al general romano Arbogasto, en una tentativa de estabilidad en la regin.",cities:["Germania"]}]},{year:"392",events:[{name:"Marcomir defiende su territorio contra Arbogasto",text:"Marcomir rechaza las pretensiones del general romano Arbogasto, defendiendo con xito su territorio germnico.",cities:["Germania"]}]},{year:"400",events:[{name:"Exilio de Marcomir a Etruria",text:"El general romano Estilicn exilia a Marcomir a Etruria tras conflictos militares y polticos.",cities:["Etruria"]}]},{year:"412",events:[{name:"Muerte de San Alejo",text:"El 17 de julio, muere San Alejo en el Imperio Romano, dejando una leyenda de renuncia, piedad y humildad que se extender por siglos.",cities:["Roma"]}]},{year:"415",events:[{name:"Edicto imperial contra Gamaliel VI, ltimo Nas del Sanedrn",text:"El 20 de octubre de 415, los emperadores Honorio y Teodosio II emiten un edicto que despoja a Gamaliel VI de su rango de prefecto honorario. Se le prohbe construir nuevas sinagogas, juzgar disputas entre judos y cristianos, convertir a no judos y poseer esclavos cristianos. Este edicto marca el declive formal del poder del Sanedrn.",cities:["Imperio Romano","Palestina"]}]},{year:"420",events:[{name:"Mar Zutra I y la resistencia ante los sasnidas",text:"Mar Zutra I, nieto de Huna bar Nathan, se destaca en Nehardea preservando el linaje HaKohen y organizando la defensa de la autonoma juda frente a la presin del Imperio Sasnida.",cities:["Nehardea"]}]},{year:"425",events:[{name:"Muerte de Gamaliel VI y fin del patriarcado judo",text:"Probablemente en 425 muere Gamaliel VI, ltimo Nas del Sanedrn. Tras su muerte, el emperador Teodosio II impide el nombramiento de un sucesor y en 429 disuelve formalmente el patriarcado judo, poniendo fin a siglos de autoridad juda centralizada.",cities:["Imperio Romano","Palestina"]}]},{year:"428",events:[{name:"Clodin 'el Cabelludo', rey de los Francos Salios",text:"Clodin se convierte en rey de los francos salios, expandiendo su territorio con la conquista de Cambrai y Tournai. Mantiene conflictos con Roma y muere alrededor del 450, dejando el trono a su hijo Meroveo, fundador de la dinasta merovingia.",cities:["Galia"]}]},{year:"440",events:[{name:"Huna bar Nathan en Sura",text:"Huna bar Nathan, destacado amora de la quinta generacin, participa activamente en los debates haljicos en la academia de Sura, bajo la autoridad de Rav Ashi. Figura influyente en la comunidad juda babilnica, se desempea tambin en un rol administrativo, posiblemente como exilarca (resh galuta), con implicancias legales y polticas. Su linaje sacerdotal es mencionado en fuentes rabnicas, aunque no se registra el nombre de su madre.",cities:["Sura"]}]},{year:"451",events:[{name:"Batalla de los Francos contra Atila",text:"Meroveo, hijo de Clodin y fundador legendario de la dinasta merovingia, es recordado por su lucha contra Atila y los hunos en la Galia.",cities:["Galia"]}]},{year:"475",events:[{name:"Nacimiento de Clotilde",text:"Nace Clotilde, princesa burgundia hija de Chilperico II de Borgoa. Ms tarde se casar con Clodoveo I, rey de los francos salios, y ser fundamental en su conversin al cristianismo.",cities:["Borgoa"]}]},{year:"476",events:[{name:"Cada del Imperio Romano de Occidente",text:"El ltimo emperador romano de Occidente es depuesto, marcando el fin del Imperio Romano Occidental y el inicio de la Edad Media. Los reinos germnicos, incluidos los francos, consolidan su poder.",cities:["Roma"]}]},{year:"486",events:[{name:"Clodoveo I derrota al ltimo gobernador romano en Galia",text:"Clodoveo I, hijo de Meroveo, derrota a Siagrio, consolidando el dominio franco en la Galia y fortaleciendo su posicin como rey de los francos.",cities:["Galia"]}]},{year:"496",events:[{name:"Bautismo de Clodoveo I y cristianizacin de los francos",text:"Tras la victoria en la batalla de Tolbiac, Clodoveo I se bautiza en Reims, convirtindose al cristianismo catlico. Su esposa Clotilde, cristiana, influy decisivamente. Este acto une a los francos con el Imperio Romano de Occidente y la Iglesia Catlica, marcando el inicio de la cristianizacin oficial de Europa occidental.",cities:["Reims"]}]},{year:"492",events:[{name:"Llegada legendaria de los santos de la Provenza",text:"Sara, sirvienta egipcia y acompaante de las Maras y discpulos de Cristo, llega a la costa de la Provenza en un barco milagroso junto con otros seguidores, fundando una comunidad cristiana que perdurar en la tradicin de Saintes-Maries-de-la-Mer.",cities:["Provenza"]}]},{year:"500",events:[{name:"Era de los Savoraim",text:"Comienza la etapa de los Savoraim, sabios responsables de la ltima edicin y codificacin del Talmud, resolviendo disputas y contradicciones en los textos anteriores, sin aportar nuevos comentarios. Su labor fue fundamental para consolidar el Talmud babilnico y de Jerusaln.",cities:["Babilonia","Palestina"]}]},{year:"507",events:[{name:"Clodoveo I expande su reino",text:"Clodoveo I derrota al rey visigodo Alarico II en la batalla de Vouill, asegurando el control franco sobre Aquitania y expandiendo su poder en la Galia.",cities:["Vouill","Aquitania"]}]},{year:"511",events:[{name:"Muerte de Clodoveo I y divisin del reino",text:"Muere Clodoveo I en Pars. Su reino se divide entre sus hijos, dando origen al Reino Franco medieval y la dinasta merovingia.",cities:["Pars"]}]},{year:"520",events:[{name:"Rebelin de Mar Zutra II en Mahoza",text:"Mar Zutra II, descendiente del linaje HaKohen, lidera una revuelta en Mahoza contra el dominio persa. Tras su ejecucin, su hijo Mar Zutra III contina la tradicin en la academia de Tiberades, manteniendo la resistencia cultural y religiosa.",cities:["Mahoza","Tiberades"]}]},{year:"561",events:[{name:"Presin sobre los judos en Galia",text:"El Obispo de Uzs fuerza a la comunidad juda de su dicesis a decidir entre la conversin al cristianismo o la expulsin, aumentando la tensin religiosa en la regin.",cities:["Uzs","Galia"]}]},{year:"576",events:[{name:"Persecuciones contra judos en Clermont-Ferrand",text:"El Obispo Avitus incita a la destruccin de sinagogas tras la conversin forzada de algunos judos. Muchos escapan hacia Marsella, mientras que otros son convertidos a la fuerza.",cities:["Clermont-Ferrand","Marsella"]}]},{year:"582",events:[{name:"Conversin forzada y destruccin de sinagogas en Neustria",text:"Bajo el reinado de Chilperico de Neustria, los judos enfrentan la obligacin de convertirse o sufrir castigos severos, incluida la mutilacin, y la transformacin de sinagogas en iglesias.",cities:["Neustria"]}]},{year:"589",events:[{name:"Concilio de Narbona y restricciones a judos en Espaa",text:"El rey visigodo Recaredo ordena el bautismo de hijos de matrimonios mixtos y prohbe a los judos poseer esclavos o ejercer cargos de autoridad. El Concilio de Narbona impone multas y restricciones a la prctica religiosa juda.",cities:["Narbona","Espaa"]}]},{year:"590",events:[{name:"Haninai ben Huna y Mari bat Haninai fortalecen el linaje HaKohen",text:"Haninai ben Huna, gan de la academia de Sura, se casa con Mari bat Haninai, hija del gan Mari. Su unin refuerza la continuidad y prestigio del linaje sacerdotal y la tradicin rabnica.",cities:["Sura"]}]},{year:"592",events:[{name:"Persecucin colectiva de judos en Antioqua",text:"El emperador Mauricio castiga a la comunidad juda de Antioqua tras una infraccin legal de uno de sus miembros. Posteriormente, en el ao 608, la comunidad juda de la ciudad asesina al Patriarca, facilitando la entrada persa.",cities:["Antioqua"]}]},{year:"608",events:[{name:"Entrada de los persas en Antioqua",text:"Tras el asesinato del Patriarca por parte de judos en Antioqua, los persas aprovechan la situacin para ocupar la ciudad, marcando un cambio de poder en la regin.",cities:["Antioqua"]}]},{year:"614",events:[{name:"Conquista de Jerusaln por el general persa Romizanes",text:"Jerusaln se rinde al general persa Romizanes. 37.000 cristianos son deportados y los judos son encargados de dirigir la ciudad. En el mismo ao, se celebra el Quinto Concilio de Pars, la mayor reunin de Obispos Merovingios, donde se decreta que todos los judos en puestos civiles o militares deben aceptar el bautismo junto con sus familias.",cities:["Jerusaln","Pars"]}]},{year:"615",events:[{name:"Perfeccionamiento del Juramentum Judaeorum",text:"Se establece que los judos deben jurar en tribunal sobre un rollo abierto de la Tor mientras estn sobre una piel de cerdo, como parte del Juramentum Judaeorum.",cities:[]}]},{year:"617",events:[{name:"Restricciones persas sobre asentamiento judo",text:"Los persas decretan que los judos no pueden instalarse a menos de cinco kilmetros de Jerusaln.",cities:["Jerusaln"]}]},{year:"627",events:[{name:"Concilio de Clichy en la Galia",text:"Se decreta que todo judo que acepte un puesto pblico debe convertirse al cristianismo.",cities:["Clichy"]}]},{year:"600",events:[{name:"Era de los Geonim",text:"Los Geonim, lderes acadmicos y religiosos de las grandes academias rabnicas de Babilonia (Sura y Pumbedita), consolidan la autoridad rabnica, la interpretacin del Talmud y comienzan a escribir responsa legales. Figuras destacadas incluyen a Rav Saadia Gaon, Rav Hai Gaon y Rav Sherira Gaon.",cities:["Sura","Pumbedita"]}]},{year:"618",events:[{name:"Hananiah, abuelo materno de Bustanai",text:"Hananiah fue un Gan en la Academia de Sura y abuelo materno de Bustanai ben Haninai, primer exilarca reconocido bajo dominio rabe. Su papel y relacin familiar reflejan la complejidad de las genealogas rabnicas de la poca.",cities:["Sura"]}]},{year:"628",events:[{name:"Orden de conversin forzada de judos por Heraclio",text:"El emperador Heraclio ordena la conversin forzada de todos los judos en su imperio y renueva los cdigos que prohben el retorno judo a Jerusaln. El rey merovingio Dagoberto expulsa a los judos del dominio franco siguiendo su ejemplo.",cities:["Imperio Bizantino","Francos"]}]},{year:"629",events:[{name:"Dagoberto I, ltimo rey merovingio con verdadero poder",text:"Dagoberto I funda la Abada de Saint-Denis, lugar de entierro de muchos reyes franceses.",cities:["Saint-Denis"]}]},{year:"633",events:[{name:"Cuarto Concilio de Toledo",text:"Decide contra las conversiones forzadas pero impide a los judos convertidos volver al judasmo. Los nios judos son llevados a monasterios, y judos y conversos son excluidos de cargos pblicos y deben evitar socializar entre s.",cities:["Toledo"]}]},{year:"634",events:[{name:"Bustanai confirmado como jefe del exilio",text:"A los 16 aos, Bustanai se presenta ante el califa Umar quien confirma su nombramiento como lder del exilio judo tras la conquista rabe de Bagdad.",cities:["Bagdad"]}]},{year:"638",events:[{name:"Sexto Concilio de Toledo",text:"Decreta que nios judos bautizados no deben ser devueltos a sus padres. Los conversos son supervisados estrictamente y deben jurar abandonar la ley juda bajo severas penas. Entre 638 y 642, expulsin masiva de no catlicos de la Espaa visigoda.",cities:["Toledo","Espaa Visigoda"]}]},{year:"650",events:[{name:"Bustannai y la unin con Dara, princesa persa",text:"Bustannai, exilarca e hijo de Haninai, se cas con Dara, hija del rey persa Yazdegerd III. De esta unin nacieron Hasdai y Baradoi, quienes fusionaron tradiciones judas y persas y continuaron el linaje HaKohen.",cities:["Bagdad"]}]},{year:"661",events:[{name:"Perctarito obliga a conversin en Lombardia",text:"El seor de la Lombardia teutnica obliga a los judos a convertirse o morir. En Inglaterra, el Arzobispo Teodoro dicta reglas para prohibir la interaccin social entre cristianos y judos.",cities:["Lombardia","Canterbury"]}]},{year:"681",events:[{name:"Prohibiciones y persecuciones bajo el Rey Ervigio",text:"El rey Ervigio de Espaa prohbe a los judos entrar por puertos, obliga al bautismo, y somete a los conversos a supervisin estricta. Se celebra el XII Snodo de Toledo y se queman textos judos como el Talmud.",cities:["Espaa","Toledo"]}]},{year:"690",events:[{name:"Hasdai ben Bustannai y Judith bat Mari",text:"Hasdai, lder en Pumbedita, se cas con Judith bat Mari, descendiente de gaones. Su hijo Natronai continu el linaje HaKohen y la tradicin rabnica en Bagdad.",cities:["Pumbedita","Bagdad"]}]},{year:"692",events:[{name:"Concilio Ecumnico Trullano y posteriores restricciones",text:"Prohbe a cristianos participar en fiestas judas, tener amistades con judos o consultar mdicos judos. En Toledo, los concilios XVI y XVII refuerzan restricciones, declaran esclavos a los judos, confiscan propiedades y separan a los nios de sus familias para adopcin cristiana.",cities:["Toledo"]}]},{year:"710",events:[{name:"Nacimiento de Santa Walpurga",text:"Nace en Wessex, Inglaterra, Santa Walpurga, hija del rey Ricardo el Sajn y de Winna. Hermana de San Willibaldo y San Winibaldo, fue criada en el monasterio de Wimborne, donde se form como monja.",cities:["Wessex","Wimborne"]},{name:"Santa Walpurga y la Noche de Walpurgis",text:"Santa Walpurga, monja anglosajona y abadisa en Alemania, es asociada con la festividad pagana de la Noche de Walpurgis, que conserva antiguas tradiciones precristianas.",cities:["Alemania"]}]},{year:"711",events:[{name:"Invasin musulmana de la pennsula ibrica",text:"Don Rodrigo es derrotado en la Batalla de Guadalete. Los musulmanes avanzan rpidamente en la pennsula y los judos colaboran con ellos, administrando varias ciudades conquistadas como Crdoba, Mlaga y Granada.",cities:["Guadalete","Crdoba","Mlaga","Granada"]}]},{year:"721",events:[{name:"Walpurga se forma en el convento",text:"Con once aos, Walpurga queda bajo la tutela de la abadesa de Wimborne. Su padre muere en Lucca durante una peregrinacin. Posteriormente viajar a Germania para colaborar con San Bonifacio.",cities:["Wimborne","Lucca","Germania"]}]},{year:"722",events:[{name:"Len III y la ilegalizacin del judasmo",text:"El emperador bizantino Len III ilegaliza el judasmo en su imperio. Miles de judos son bautizados a la fuerza y muchos son quemados vivos en sus sinagogas.",cities:["Constantinopla"]}]},{year:"742",events:[{name:"Nacimiento de Carlomagno y llegada de los Kalonymus",text:"Nace Carlomagno. En paralelo, la familia Kalonymus es trasladada a Maguncia para fundar una comunidad juda destacada, posiblemente bajo su futura proteccin.",cities:["Maguncia"]}]},{year:"748",events:[{name:"Santa Walpurga enviada a Germania",text:"La abadesa Tetta enva a Walpurga junto a Santa Lioba hacia Germania. Durante la travesa, Walpurga calma una tormenta rezando, ganndose fama de santa milagrosa.",cities:["Germania","Amberes","Heidenheim"]}]},{year:"750",events:[{name:"Establecimiento de Walpurga como abadesa",text:"Santa Walpurga es nombrada abadesa de Heidenheim, donde lidera el monasterio fundado por su hermano San Winibaldo. Es venerada por su sabidura y milagros.",cities:["Heidenheim"]},{name:"Natronai ben Hasdai y el poder rabnico",text:"Natronai, hijo de Hasdai y Judith, lider la comunidad juda de Bagdad y fortaleci la yeshiv, defendiendo los derechos de su pueblo y la continuidad del linaje HaKohen.",cities:["Bagdad"]}]},{year:"759",events:[{name:"Narbonne liberada y Makir nombrado prncipe",text:"Carlomagno libera Narbona y recompensa a los judos aliados otorgndoles un tercio de la ciudad. Makir de Narbona, descendiente de Bustanai, es nombrado prncipe vasallo.",cities:["Narbona"]}]},{year:"760",events:[{name:"Conflicto sucesorio en el exilio de Babilonia",text:"Hananas ben David, descendiente de Hasdai I, enfrenta disputas con Anan ben David, fundador del movimiento carata. Los Geonim reafirman el linaje legtimo desde Shahriada, hijo de Izaddowar y Bustanai.",cities:["Sura","Pumbedita"]}]},{year:"768",events:[{name:"Ascenso de Carlomagno",text:"Tras la muerte de Pipino el Breve, su hijo Carlomagno asume el trono franco. Su madre fue Bertrada de Laon, consolidando as la dinasta carolingia.",cities:["Francia"]}]}],Hw={title:Ow,duration:Bw,years:kw},jw="Askenazes",Vw="1480-1702",Gw=[{year:"1492",events:[{name:"Expulsin de judos de Espaa y migracin HaKohen",text:"Con los Reyes Catlicos se promulga el Decreto de Alhambra, expulsando a los judos de Espaa. Muchos HaKohen provenzales se trasladan al norte de Italia y al Sacro Imperio, donde fundan academias domsticas para refugiados.",cities:["Toledo","Venecia","Ferrara"]}]},{year:"1648",events:[{name:"Masacres de Khmelnytsky en Polonia-Lituania",text:"Las revueltas de Bohdan Khmelnytsky provocan asesinatos de miles de judos en Polonia-Lituania. La comunidad HaKohen de Lublin sufre grandes prdidas y funda crculos de estudio solo para mujeres supervivientes.",cities:["Lublin","Cracovia"]}]},{year:"1750",events:[{name:"Bustannai HaKohen en Bagdad",text:"Bustannai HaKohen, exilarca de la comunidad en Sura, funda en Bagdad una yeshiv en la que las mujeres participan en el estudio del Talmud.",cities:["Bagdad"]}]},{year:"1812",events:[{name:"Invasin napolenica y emancipacin parcial",text:"Con Napolen en Rusia, varios shtetls asquenazes reciben tolerancia temporal. En Vilna, la familia HaKohen aprovecha la apertura para incluir mujeres en la administracin comunitaria.",cities:["Vilna"]}]},{year:"1881",events:[{name:"Pogromos en el Imperio Ruso y emigracin HaKohen",text:"Tras el asesinato de Alejandro II, estallan pogromos en el Imperio Ruso. La familia HaKohen de Odessa organiza partidas de refugiados hacia Amrica, estableciendo redes de ayuda en Nueva York.",cities:["Odessa","Nueva York"]}]},{year:"1908",events:[{name:"Muh Bacha y refugio en Vilna",text:"Durante las agitaciones polticas en el Imperio Ruso, Muh Bacha HaKohen funda en Vilna un crculo literario feminista donde mujeres judas debaten igualdad de gnero y autonoma comunitaria.",cities:["Vilna"]}]},{year:"1388",events:[{name:"Carta de privilegios en Trakai",text:"El Gran Duque de Lituania Otn de Wartenberg concede privilegios a los judos de Trakai, estableciendo derechos de comercio y proteccin judicial. Desde entonces, la comunidad HaKohen se asent en la regin.",cities:["Trakai"]}]},{year:"1389",events:[{name:"Privilegios en Grodno",text:"Se extienden privilegios a la comunidad juda en Grodno, permitiendo la creacin de sinagogas y escuelas de estudio.",cities:["Grodno"]}]},{year:"1392",events:[{name:"Tratado de Vytautas (Acuerdo de Ostrow)",text:"El Gran Duque Vytautas firma el Acuerdo de Ostrow con el rey Vladislao II Jagelln, confirmando derechos a las comunidades judas lituanas.",cities:["Vilna","Ostrow"]}]},{year:"1398",events:[{name:"Alianza de Vytautas con los mongoles",text:"Vytautas se ala con los mongoles para controlar el Mar Negro y fortalecer su posicin en la regin bltica.",cities:["Vilna","Mar Negro"]}]},{year:"1399",events:[{name:"Alianza cristiana y masacre en Posen",text:"Vytautas se une a los cristianos contra los mongoles y sufre derrota. En Posen, representantes de la comunidad juda son ejecutados bajo acusaciones de profanacin de la hostia.",cities:["Posen","Pozna"]}]},{year:"1400",events:[{name:"Primeras influencias renacentistas en Vilna",text:"Algunas comunidades HaKohen de Vilna adoptan innovaciones culturales de Europa Occidental, iniciando traducciones mdicas y textos humansticos al hebreo.",cities:["Vilna"]}]},{year:"1407",events:[{name:"Primer libelo de sangre en Cracovia",text:"En Cracovia aparece el primer libelo de sangre contra judos, obligando a muchos a refugiarse en la iglesia de Santa Ana, que luego es incendiada. El Concilio de la Regencia restituye legislacin antijuda.",cities:["Cracovia"]}]},{year:"1408",events:[{name:"Segismundo de Hungra y la Orden del Dragn",text:"En 1408, Segismundo de Hungra funda la Orden del Dragn para defender el cristianismo contra el Imperio Otomano.",cities:["Buda","Hungra"]}]},{year:"1410",events:[{name:"Batalla de Grunwald",text:"La coalicin polaco-lituana derrota a los Caballeros Teutnicos en Grunwald, marcando un punto de inflexin en la historia de la regin bltica.",cities:["Grunwald"]}]},{year:"1413",events:[{name:"Disputa de Tortosa",text:"Don Fernando de Aragn inaugura la Disputa de Tortosa para forzar la conversin de judos. Ningn argumento judo se registr oficialmente y el Talmud es prohibido.",cities:["Tortosa","Aragn"]}]},{year:"1414",events:[{name:"Guerra del hambre en Europa",text:"Europa sufre una hambruna prolongada que afecta a todas las comunidades. En Vilna, se organizan despensas comunitarias para sostener a los ms vulnerables.",cities:["Vilna"]}]},{year:"1415",events:[{name:"Federico III asume el imperio",text:"Federico III asume el ttulo de Emperador del Sacro Imperio. En Silesia, se imponen restricciones mayores a las comunidades judas.",cities:["Breslau","Silesia"]}]},{year:"1420",events:[{name:"Acusaciones en Viena y expulsin en Lyon",text:"Alberto V de Austria acusa a judos de Viena de profanar hostias; muchos son encarcelados. Lyon expulsa a todos los judos ese mismo ao.",cities:["Viena","Lyon"]}]},{year:"1421",events:[{name:"Represalias en Viena",text:"El Archiduque Alberto respalda acusaciones contra la comunidad juda de Viena, con bautismos forzosos y expulsiones masivas.",cities:["Viena"]}]},{year:"1422",events:[{name:"Guerra de Golub",text:"Los Caballeros Teutnicos atacan Polonia y Lituania en la guerra de Golub.",cities:["Golub"]}]},{year:"1427",events:[{name:"Bula de Martn V",text:"El Papa Martn V prohbe el transporte de judos a Tierra Santa, afectando a la comunidad de Trieste.",cities:["Roma","Trieste"]}]},{year:"1429",events:[{name:"Juana de Arco y accin humanitaria",text:"En Orleans, Juana de Arco lidera la victoria francesa. En Rouen, algunos simpatizantes judos organizan ayuda a los pobladores afectados.",cities:["Orleans","Rouen"]}]},{year:"1434",events:[{name:"Concilio de Basilea",text:"El Concilio de Basilea prohbe a los judos asistir a universidades y refuerza restricciones sobre su educacin.",cities:["Basel","Zrich"]}]},{year:"1442",events:[{name:"Bula de Martn V y sus efectos",text:"El Papa Martn V emite y luego retira una Bula que prohiba incitar contra los judos, tras influencias polticas en Roma.",cities:["Roma"]}]},{year:"1447",events:[{name:"Vlad II Dracul en Valaquia",text:"Vlad II Dracul asume el trono de Valaquia. Jakob ben Chajim, rabino de Worms, visita la corte como consejero.",cities:["Valaquia","Worms"]}]},{year:"1449",events:[{name:"Revuelta en Toledo",text:"Un alzamiento contra nuevos conversos en Toledo deja centenares de vctimas y expulsiones de marranos.",cities:["Toledo"]}]},{year:"1452",events:[{name:"Juan de Capistrano y expulsiones en Baviera",text:"Juan de Capistrano convence a duques bvaros de expulsar a los judos. En Breslau, muchos son quemados y crucificados.",cities:["Baviera","Breslau","Wurzburg"]}]},{year:"1454",events:[{name:"Derrota polaca y ataques antijudos",text:"Tras la derrota de Polonia ante la Orden Teutnica, el obispo Zbignev declara el malestar como castigo divino y las masacres se extienden en Cracovia.",cities:["Cracovia","Prusia"]}]},{year:"1455",events:[{name:"Masacre de judos en Cracovia",text:"Una turba ataca y asesina a la comunidad juda de Cracovia; muchos logran huir a Lviv.",cities:["Cracovia","Lviv"]}]},{year:"1459",events:[{name:"Nace Maximiliano I de Habsburgo",text:"Maximiliano I de Habsburgo, futuro Emperador, nace en Wiener Neustadt; su reinado impactara a las comunidades judas de la regin.",cities:["Wiener Neustadt","Viena"]}]},{year:"1464",events:[{name:"David Kalonymus ben Jacob y la astrologa",text:"David Kalonymus ben Jacob, astrlogo judo italiano, publica tratados en Npoles y Viena, influyendo en el estudio de astronoma entre judos asquenazes.",cities:["Npoles","Viena"]}]},{year:"1478",events:[{name:"Nacimiento de Felipe el Hermoso",text:"Felipe el Hermoso nace en Brujas; durante su vida, las polticas imperiales afectaran a la dispora juda en Europa Occidental.",cities:["Brujas"]}]},{year:"1480",events:[{name:"Nacimiento del Maharal de Praga",text:"Jose Chaim Loew (Maharal) nace en Praga, marcando el inicio de una gran influencia rabnica asquenaz en Europa Central.",cities:["Praga"]}]},{year:"1484",events:[{name:"Bula Summis Desiderantes Affectibus",text:"El papa Inocencio VIII publica la bula que legitima la persecucin de brujas, afectando indirectamente a judas acusadas de prcticas esotricas.",cities:["Roma"]}]},{year:"1485",events:[{name:"Fracaso de Heinrich Kramer en Innsbruck",text:"Heinrich Kramer intenta procesar a mujeres por brujera en Innsbruck, pero el obispo local desautoriza sus acusaciones.",cities:["Innsbruck"]}]},{year:"1487",events:[{name:"Publicacin del Malleus Maleficarum",text:"El Sacro Imperio vive crisis religiosa e inestabilidad. Heinrich Kramer publica el Malleus Maleficarum, exacerbando la caza de brujas en Europa.",cities:["Estrasburgo","Aquisgrn"]}]},{year:"1488",events:[{name:"Nacimiento de Yosef ben Efraim Caro",text:"Yosef ben Efraim Caro nace en Toledo, futuro autor del 'Shuljn Aruj', codificacin de la Halaj que influira en judos asquenazes y sefardes por siglos.",cities:["Toledo"]}]}],qw={title:jw,duration:Vw,years:Gw},Ww="Kalonymus",Xw="801 - 1480",Jw=[{year:"800",events:[{name:"Migracin de la familia Kalonymus",text:"Durante el reinado de Carlomagno, miembros de la familia Kalonymus-HaKohen, como Kalonymus ben Meshullam, se asentaron en Mainz y Speyer. Trajeron conocimientos talmdicos y cientficos, fundando las bases de la tradicin rabnica asquenaz."}]},{year:"823",events:[{name:"Proteccin a judos en la corte de Carlos el Calvo",text:"Carlos el Calvo favoreci la integracin de sabios judos en su corte. Se reforz la presencia de la familia Kalonymus-HaKohen en Germania, especialmente en Mainz, en roles mdicos, fiscales y diplomticos."}]},{year:"843",events:[{name:"Tratado de Verdn y consolidacin Kalonymus-HaKohen",text:"Tras el Tratado de Verdn, la familia Kalonymus-HaKohen se consolid en Mainz y Speyer como sabios y lderes comunitarios, organizando estructuras comunales judas."}]},{year:"846",events:[{name:"Privilegios fiscales a judos",text:"Durante el reinado de Luis el Tartamudo, miembros de la familia Kalonymus-HaKohen recibieron proteccin legal y privilegios fiscales en Francia Occidental."}]},{year:"850",events:[{name:"Moiss I ben Meshulam, poeta litrgico",text:"Moiss I ben Meshulam, de los Kalonymus-HaKohen en Italia, fue un destacado poeta litrgico. Su obra influy en el Mahzor y fue base para academias rabnicas en Mainz."}]},{year:"943",events:[{name:"aaron ibn sargado",text:"Aaron ibn Sargado (Aaron ben Joseph ha-Kohen) (siglo X) - Gan de Pumbedita (943960) - Hijo de Joseph ha-Kohen De familia mercantil, accedi al gaonato por influencia"}]},{year:"951",events:[{name:"Desarrollo de la mstica juda temprana",text:"Surge la mstica juda en textos como el Sefer Yetzir, que enfatizan que justos annimos sostienen el mundo. (Autor tradicional: Annimo, ya que la autora exacta del Sefer Yetzir es objeto de debate)"}]},{year:"876",events:[{name:"Academias rabnicas Kalonymus-HaKohen",text:"Bajo Carlos el Calvo, la familia Kalonymus-HaKohen fund academias rabnicas en Mainz y Speyer, influyendo en el judasmo europeo como rabinos, banqueros y asesores cortesanos."}]},{year:"879",events:[{name:"Organizacin litrgica en la corte de Carlos el Simple",text:"Durante el reinado de Carlos el Simple, los Kalonymus-HaKohen lideraron la organizacin litrgica y educativa de las comunidades judas en Francia."}]},{year:"912",events:[{name:"Kalonymus y el Sacro Imperio",text:"Durante el reinado de Otn I, la familia Kalonymus-HaKohen consolid su influencia como banqueros, jueces rabnicos y poetas en Mainz y Speyer."}]},{year:"939",events:[{name:"Hai Gaon y el linaje HaKohen",text:"Hai ben Sherira (Hai Gaon), descendiente de familias kohenitas, lider la academia de Pumbedita y tuvo influencia en redes rabnicas HaKohen de la dispora."}]},{year:"950",events:[{name:"Kalonymus II ben Moiss y liderazgo haljico",text:"Kalonymus II ben Moiss, activo hacia 950 en Lucca o Roma, fue un halajista y poeta litrgico de la familia Kalonymus HaKohen. Fue consultado por Rabbenu Gershom, evidenciando su autoridad en Europa medieval.",cities:["Lucca","Roma"]}]},{year:"976",events:[{name:"Meshullam el Grande",text:"Meshullam HaKohen, llamado 'el Romano', fue un halajista y poeta litrgico activo en Roma o Lucca. Correspondi con Rabbeinu Gershom y escribi comentarios y piyutim que influyeron en el pensamiento rabnico italiano.",cities:["Roma","Lucca"]}]},{year:"997",events:[{name:"Hai Gaon y la transmisin del liderazgo",text:"Tras ser brevemente encarcelado con su padre Sherira, Hai Gaon asumi el liderazgo de la academia de Pumbedita en 998. Ambos pertenecan al linaje HaKohen, consolidando su rol en la dispora.",cities:["Bagdad","Pumbedita"]}]},{year:"1000",events:[{name:"Kalonymus III en Maguncia",text:"Kalonymus III HaKohen se estableci en Maguncia como poeta litrgico y lder. Se le atribuye la autora del Unetanneh Tokef. Casado con Rivka bat Eliezer, tuvo descendencia rabnica destacada.",cities:["Maguncia"]},{name:"Divisin de los Kalonymus",text:"A comienzos del siglo XI, los Kalonymus HaKohen se dividen en ramas germano-italiana (Lucca, Maguncia, Worms) y occitana (Narbona), fundando academias y organizando comunidades judas europeas.",cities:["Narbona","Lucca","Maguncia","Worms"]}]},{year:"1010",events:[{name:"Persecucin en Francia y migracin",text:"Las acusaciones de Raoul Glaber contra los judos causaron expulsiones en Limoges. Una rama menor de los HaKohen-Kalonymus emigr a Aragn o Provenza.",cities:["Limoges"]}]},{year:"1012",events:[{name:"Expulsin en Mainz",text:"El emperador Enrique II expuls a judos de Mainz que rehusaron convertirse, incluyendo a los HaKohen-Kalonymus. Muchos se refugiaron en Worms o Speyer.",cities:["Mainz","Worms","Speyer"]}]},{year:"1014",events:[{name:"Masacre en Zaragoza",text:"Durante las guerras del Califato, descendientes de los Kalonymus-HaKohen en Zaragoza fueron asesinados. Sobrevivientes se refugiaron en Toledo y Girona.",cities:["Zaragoza","Toledo","Girona"]}]},{year:"1020",events:[{name:"Moiss ben Kalonymus en Maguncia",text:"Moiss ben Kalonymus HaKohen continu la tradicin rabnica en Maguncia. Autor de piyutim y dayan, fue educado por su padre Meshullam. Casado con Miriam bat David, tuvo tres hijos.",cities:["Maguncia","Lucca"]}]},{year:"1060",events:[{name:"Moiss ben Kalonymus en Maguncia",text:"Desde all [Lucca] hay seis das de viaje hasta la gran ciudad de Roma. Roma es la cabeza de los reinos de la cristiandad y contiene alrededor de 200 judos, que ocupan una posicin honorable y no pagan tributo, y entre ellos hay funcionarios del papa Alejandro [III], el jefe espiritual de toda la cristiandad. Grandes eruditos residen aqu, a la cabeza de ellos estn R. Daniel [Anav], el rabino jefe, y R. Yechiel, un funcionario del papa. Es un joven apuesto, inteligente y sabio, y tiene la entrada al palacio del papa; porque es el administrador de su casa y de todo lo que tiene. Es nieto de R. Natan, que compuso el Aruch y sus comentarios.",cities:["Roma","Lucca"]}]},{year:"1250",events:[{name:"Nacimiento de Mordechai ben Hillel HaKohen",text:"Nace Mordechai ben Hillel HaKohen en Halberstadt, Alemania, en el seno de una familia de eruditos. Su madre, Zelda bat Jacob, lo introdujo al estudio de la Tor y la tradicin sacerdotal.",cities:["Halberstadt"]}]},{year:"1270",events:[{name:"Mordechai ben Hillel en Nremberg",text:"Mordechai ben Hillel HaKohen se establece en Nremberg como estudiante de Meir ben Baruch de Rothenburg.",cities:["Nremberg"]}]},{year:"1280",events:[{name:"Redaccin del Zohar",text:"Se escribe el Zohar, una obra central de la Cbala atribuida tradicionalmente a Rab Simen bar Yochai, que profundiza en las nociones msticas de los tzadikim, aunque sin mencionar explcitamente a los 36 justos.",cities:["Castilla"]}]},{year:"1286",events:[{name:"Kalonymus ben Kalonymus",text:"Kalonymus ben Kalonymus HaKohen naci en Arls. Filsofo, poeta y traductor, estudi en Montpellier y defendi a los judos en Avin. Su obra refleja tensiones entre espiritualidad y filosofa.",cities:["Arls","Avin","Montpellier"]}]},{year:"1291",events:[{name:"Residencia de Mordechai ben Hillel en Nremberg",text:"Mordechai ben Hillel se instala en Nremberg y dirige una yeshiv que atrae estudiantes de toda Europa.",cities:["Nremberg","Goslar"]}]},{year:"1298",events:[{name:"Masacres de Rintfleisch",text:"Mordechai ben Hillel HaKohen, junto con su esposa e hijos, son asesinados en las masacres de Rintfleisch.",cities:["Alemania"]}]},{year:"1300",events:[{name:"Moiss de Len y el Zohar",text:"Moiss de Len, mstico y rabino, es tradicionalmente considerado el autor del Zohar, obra central de la cbala juda.",cities:["Cuenca","Salamanca","Espaa"]}]},{year:"1306",events:[{name:"Aharon HaCohen de Lunil / Narbona",text:"El rabino Aharon HaCohen, tambin conocido como Aharon ben Yaakov HaCohen, fue un rabino provenzal activo a finales del siglo XIII y principios del XIV, autor del libro 'Archot Chaim'. Provena de una familia de eruditos HaKohen de Narbona, Francia, que sufri la expulsin de los judos en 1306.",cities:["Narbona","Lunil","Provenza","Mallorca"]},{name:"Linaje HaKohen de Aharon",text:"Aharon menciona en su libro a su abuelo paterno, el rabino David Bar-Yitzhak HaCohen, y a su bisabuelo, el rabino Yitzhak HaCohen, alumno del rabino Asher Ashkenazi. Luego de la expulsin, Aharon emigr a Mallorca, donde estudi con el rabino Shem Tov Falcho.",cities:["Narbona","Mallorca"]}]},{year:"1327",events:[{name:"Obra Orchot Hayyim",text:"Antes de 1327, Aharon HaCohen compone la obra ritual 'Orchot Hayyim' en Mallorca, un compendio de leyes y discusiones talmdicas.",cities:["Mallorca"]}]},{year:"1328",events:[{name:"Kalonymus ben Kalonymus en Avin",text:"Kalonymus ben Kalonymus, poeta y traductor provenzal, defiende la causa juda ante el Papa en Avin, fomentando la resistencia cultural durante el exilio.",cities:["Avin","Roma"]}]},{year:"1348",events:[{name:"Peste Negra y redes de apoyo HaKohen",text:"La Peste Negra arrasa Europa y pone en peligro a las comunidades judas. En Nremberg, la viuda Rachel bat Meir organiza una red de ayuda para enfermos y hurfanos, inspirada en las enseanzas de Mordechai ben Hillel.",cities:["Nremberg"]}]}],Kw={title:Ww,duration:Xw,years:Jw},Yw="Litvak",$w="1703 - 1898",Zw=[{year:"1703",events:[{name:"Creacion de San Petersburgo",text:"A principios de 1700, en el rea que hoy se conoce como Ucrania, a un nio hurfano llamado Israel ben Eleazar le encantaba andar por el bosque, incluso dormir all durante la noche.",cities:["San Petersburgo","Rusia","Neva"]}]},{year:"1703",events:[{name:"Creacion de San Petersburgo",text:"Pedro el Grande, zar de Rusia, impuls profundas reformas para modernizar el pas y convertirlo en una potencia europea. En 1703 el zar Pedro I fund San Petersburgo en el delta del ro Nev, tras conquistar territorios suecos en la Gran Guerra del Norte, con el objetivo de abrir una 'ventana a Europa' y establecer una capital estratgica y moderna. La ciudad, construida en condiciones duras y con mano de obra forzada, reemplaz a Mosc como capital en 1712, simbolizando la occidentalizacin y el ascenso de Rusia como gran potencia. Pedro mantuvo varias esposas y concubinas, incluyendo a Catalina I.",cities:["San Petersburgo","Rusia","Neva"]}]},{year:"1708",events:[{name:"Destruccin de comunidades judas en Ucrania",text:"Durante la Gran Guerra del Norte, las tropas del zar Pedro I fundador del imperio Ruso arrasaron comunidades judas en Ucrania acusadas de colaborar con los suecos. Muchas familias huyeron hacia Galicia y Lituania.",cities:["Chernigov","Galitzia"]}]},{year:"1711",events:[{name:"Expulsiones y restricciones en Sajonia",text:"El elector de Sajonia, Augusto II, orden nuevas restricciones a los judos, limitando su derecho a residir en ciudades y comerciar libremente. Muchas familias buscaron refugio en Prusia y territorios polacos.",cities:["Dresde","Varsovia"]}]},{year:"1715",events:[{name:"Fundacin de comunidad jasdica embrionaria",text:"Israel ben Eliezer, conocido como el Baal Shem Tov, con apenas 17 aos comenz a reunir seguidores en pequeas aldeas de los Crpatos, como Okopy y Medzhybizh. Nacido en un contexto de pobreza y orfandad, su espiritualidad se caracterizaba por un misticismo accesible y una relacin emocional intensa con Dios, en contraste con el formalismo rabnico dominante. Su enseanza promova la alegra en el culto y la cercana directa con lo divino, sentando las bases del jasidismo, un movimiento que revitaliz la vida religiosa juda en Europa del Este durante un periodo de crisis social y poltica. el Baal Shem Tov, el padre del movimiento jasdico, era un curandero, un herbolario y una especie de chamn, que iba por ah con su pipa encantada, brindando curacin a la gente. No olvidemos que la palabra para hongos ( petriot en hebreo) se menciona varias veces en el Talmud, como seal la estudiante rabnica Paige Lincenberg en su presentacin durante un panel sobre chamanismo judo.",cities:["Okopy","Medzhybizh"]}]},{year:"1717",events:[{name:"Reorganizacin de las kehilot en Lituania",text:"Las comunidades judas en Lituania enfrentaban crisis econmicas y represiones polticas bajo el dominio del Gran Ducado de Lituania y la Mancomunidad Polaco-Lituana. En respuesta, reorganizaron sus kehilot, o consejos comunales, fortaleciendo la autoridad del rabino y los sistemas tradicionales de educacin juda. Esta estructura comunal fue clave para la preservacin cultural y religiosa en un entorno marcado por la inestabilidad y la presin externa, preparando el terreno para movimientos renovadores como el jasidismo y el mitnagdim (opositores al jasidismo).",cities:["Vilna","Kovno"]}]},{year:"1740",events:[{name:"Nacimiento del Jasidismo",text:"El movimiento jasdico se desarrolla en Europa del Este con figuras como el Baal Shem Tov, reafirmando la idea de que en cada generacin existen justos ocultos que sostienen el mundo.",cities:["Medzhybizh"]}]},{year:"1777",events:[{name:"Yaakov Yosef HaKohen de Polnoy",text:"Muere el 19 de junio Yaakov Yosef HaKohen, principal discpulo del Baal Shem Tov y autor del primer libro jasdico impreso: 'Toldot Yaakov Yosef'. Fue clave en la expansin del jasidismo en Ucrania.",cities:["Polnoy","Medzhybizh"]}]},{year:"1778",events:[{name:"Jos II de Habsburgo",text:"Se inaugura la pera Estatal de Viena durante el reinado de Jos II, hijo de Mara Teresa. El emperador impulsa reformas ilustradas que transforman el Imperio, especialmente en educacin y tolerancia religiosa.",cities:["Viena"]}]},{year:"1779",events:[{name:"Illuminatis",text:"La Orden de los Iluminados (Illuminati), fundada por Adam Weishaupt, gana influencia en crculos acadmicos y aristocrticos. Sus ideales racionalistas buscan combatir la supersticin y el absolutismo clerical.",cities:["Ingolstadt","Mnich"]}]},{year:"1780",events:[{name:"Mara Teresa de Austria",text:"Muere Mara Teresa el 29 de noviembre de 1780. Su reinado marc la transicin entre el absolutismo tradicional y las reformas ilustradas. Fue una figura clave en la poltica europea del siglo XVIII.",cities:["Viena"]}]},{year:"1781",events:[{name:"Jos II de Habsburgo",text:"Promulga el Edicto de Tolerancia que concede derechos civiles limitados a protestantes, ortodoxos y judos. Aunque seguan existiendo restricciones, fue un paso hacia la emancipacin en el Imperio Habsburgo. ",cities:["Viena","Praga","Bratislava"]}]},{year:"1782",events:[{name:"Elas ben Shlom Zalman (Gan de Vilna)",text:"Redacta comentarios crticos a la Mishn y textos cabalsticos. Se intensifica su oposicin al jasidismo, promoviendo un judasmo racionalista, disciplinado y textual, en contraste con la mstica emocional del Besht.",cities:["Vilna"]}]},{year:"1783",events:[{name:"Naphtali Wessely",text:"Publica 'Divrei Shalom ve-Emet', apoyando las reformas ilustradas de Jos II y abogando por la integracin cultural de los judos en la sociedad alemana. Es un hito de la Haskal, o Ilustracin juda.",cities:["Berln","Viena"]}]},{year:"1784",events:[{name:"Adam Weishaupt",text:"La Orden de los Iluminados es prohibida en Baviera tras presiones de la Iglesia y la nobleza. Documentos confiscados revelan su organizacin secreta, provocando escndalo en Europa.",cities:["Mnich","Ingolstadt"]}]},{year:"1785",events:[{name:"Miklos Sinay",text:"En su vejez, Miklos Sinay escribe ensayos teolgicos y polticos influenciados por el pensamiento ilustrado protestante. Defiende una reforma universitaria integral y la educacin laica.",cities:["Debrecen","Viena"]}]},{year:"1786",events:[{name:"Moses Mendelssohn",text:"Muere el 4 de enero Moses Mendelssohn, filsofo judo alemn y figura clave de la Haskal. Promovi el dilogo entre judasmo y modernidad, y tradujo la Tor al alemn en caracteres hebreos.",cities:["Berln"]}]},{year:"1787",events:[{name:"Jos II de Habsburgo",text:"Ordena nuevas reformas centralizadoras que limitan el poder de la nobleza y la Iglesia. Entre ellas, establece el matrimonio civil y reforma el sistema judicial, pero genera resistencias en Hungra y los Pases Bajos.",cities:["Viena","Buda","Bruselas"]}]},{year:"1788",events:[{name:"Elas ben Shlom Zalman (Gan de Vilna)",text:"Comienza a redactar sus comentarios sobre el Zohar y textos cabalsticos clsicos, intentando conciliar mstica y halaj desde una ptica racional. Su autoridad rabnica se afianza en Europa Oriental.",cities:["Vilna"]}]},{year:"1789",events:[{name:"Revolucin Francesa",text:"El estallido de la Revolucin Francesa introduce los principios de ciudadana, secularismo e igualdad jurdica. La Asamblea Nacional debate por primera vez el estatus de los judos franceses.",cities:["Pars"]}]},{year:"1790",events:[{name:"Marquis de Clermont-Tonnerre",text:"El 23 de diciembre defiende en la Asamblea Francesa la igualdad de derechos para los judos: 'A los judos como individuos, todo; como nacin, nada'. Es una frase clave en la emancipacin moderna.",cities:["Pars"]}]},{year:"1791",events:[{name:"Revolucin Francesa",text:"La Asamblea Nacional otorga ciudadana plena a los judos franceses el 28 de septiembre, marcando el inicio formal de la emancipacin juda en Europa occidental.",cities:["Pars","Alsacia","Lorena"]}]},{year:"1792",events:[{name:"Repblica Francesa",text:"Se proclama la Primera Repblica Francesa. Se intensifican las tensiones con las monarquas absolutistas europeas, incluidas Austria y Prusia, donde el antisemitismo an domina la legislacin.",cities:["Pars","Viena","Berln"]}]},{year:"1793",events:[{name:"Revolucin Francesa",text:"Durante el Reinado del Terror, numerosos judos son perseguidos por sus vnculos con el comercio y la nobleza. Sin embargo, los derechos adquiridos no son revocados oficialmente.",cities:["Pars","Burdeos"]}]},{year:"1794",events:[{name:"Kether Shem Tov",text:"Se imprime por primera vez 'Kether Shem Tov', una recopilacin de enseanzas del Baal Shem Tov. Marca el paso del jasidismo oral al texto escrito, consolidando la memoria del movimiento.",cities:["Slavita","Medzhybizh"]},{name:"Elas ben Shlom Zalman (Gan de Vilna)",text:"En Vilna se queman pblicamente obras jasdicas como el Zawaat Ribash. El Gan de Vilna intensifica su rechazo al jasidismo y prohbe matrimonios y rituales conjuntos con jasidim. Sostiene una vida retirada, se niega a asumir cargos rabnicos y defiende el estudio de ciencias naturales como herramienta para comprender la Tor.",cities:["Vilna"]}]},{year:"1795",events:[{name:"Tercera Particin de Polonia",text:"Se consuma la tercera particin de Polonia entre Rusia, Prusia y Austria. Miles de comunidades judas quedan bajo control zarista, comenzando una era de restricciones y pogromos.",cities:["Varsovia","Vilna","Lviv"]}]},{year:"1796",events:[{name:"Aaron HaLevi ben Moses de Staroselye",text:"Instiga a Shneur Zalman de Liadi a publicar el 'Tanya', obra fundacional del jasidismo de Jabad. El libro aparece en Slavita y comienza a circular como gua espiritual para el 'hombre promedio'.",cities:["Slavita","Liadi"]}]},{year:"1797",events:[{name:"Particin de Polonia",text:"La supremaca polaca llega a su fin tras la tercera particin del pas. Las comunidades judas son incorporadas al Imperio Ruso, al Imperio Austriaco y a Prusia.",cities:["Varsovia","Vilna","Cracovia"]}]},{year:"1798",events:[{name:"Aaron HaLevi de Staroselye",text:"Viaja por pueblos de Europa del Este para reunir dinero y sobornar guardias a fin de visitar a su maestro, Shneur Zalman, encarcelado por decreto real. Se refuerza el liderazgo de la rama Jabad en tiempos de persecucin.",cities:["Liadi","Vtebsk","Liozna"]}]},{year:"1803",events:[{name:"Miklos Sinay",text:"Se retira de la vida pblica. El botnico Smuel Diszegi se despide de l en el cementerio protestante de Debrecen. Su escudo familiar representa una pirmide y una serpiente, smbolos de su trabajo en historia de la iglesia y antigedades.",cities:["Debrecen"]}]},{year:"1806",events:[{name:"Zsigmond Sinay",text:"Nace Zsigmond, hijo de Sndor Sinay. En este mismo ao, fuerzas inglesas invaden Buenos Aires y son derrotadas por milicias criollas lideradas por Santiago de Liniers.",cities:["Buenos Aires","Debrecen"]}]},{year:"1807",events:[{name:"Ducado de Varsovia",text:"Se establece el Ducado de Varsovia por Napolen I tras el Tratado de Tilsit. Gobernado por Federico Augusto I de Sajonia, simboliza el renacimiento polaco. Mientras tanto, una segunda invasin inglesa a Buenos Aires es repelida.",cities:["Varsovia","Buenos Aires"]}]},{year:"1808",events:[{name:"Miklos Sinay",text:"Muere Miklos Sinay en Debrecen. Su legado perdura en la teologa protestante hngara y en estudios filolgicos sobre la Antigedad.",cities:["Debrecen"]}]},{year:"1810",events:[{name:"Revolucin de Mayo",text:"Estalla la Revolucin de Mayo en Buenos Aires. Los pueblos originarios del norte argentino y del Chaco sufren ataques por parte del ejrcito revolucionario en su afn por consolidar el control del territorio.",cities:["Buenos Aires","Salta","Chaco"]}]},{year:"1811",events:[{name:"Junta Grande",text:"Se ampla el poder ejecutivo con la creacin de la Junta Grande, incorporando representantes de las provincias interiores del Virreinato del Ro de la Plata.",cities:["Buenos Aires","Crdoba","Tucumn"]}]},{year:"1812",events:[{name:"Aaron de Staroselye",text:"Tras la muerte de Shneur Zalman, Aaron se establece como rabino en Staroselye. Atrae discpulos y funda una corriente jasdica propia conocida como los Jasidim de Staroselye.",cities:["Staroselye"]}]},{year:"1813",events:[{name:"Hirsch Ascenso familiar",text:"El abuelo paterno de Samson Raphael Hirsch es ennoblecido tras financiar la formacin de un regimiento bvaro contra Napolen. La familia juda gana prestigio en el sur de Alemania.",cities:["Mnich","Frankfurt"]}]},{year:"1814",events:[{name:"Nacimiento de Miklos III Sinay",text:"Nace Miklos Sinay III, descendiente de una lnea protestante ilustrada. Ese mismo ao, el Segundo Triunvirato establece las Provincias Unidas del Ro de la Plata.",cities:["Debrecen","Buenos Aires"]}]},{year:"1818",events:[{name:"Karl Marx",text:"Nace en Trveris Moiss Mordecai Marx Levi, luego conocido como Karl Marx. Criado en el protestantismo, desarrollar una crtica radical al judasmo como expresin del mercantilismo burgus.",cities:["Trveris"]}]},{year:"1820",events:[{name:"Aaron de Staroselye",text:"Publica en Shklov su obra 'Sha'are Abodah' ('Las puertas del servicio'), donde sistematiza la teologa jasdica de Jabad con enfoque en la devocin diaria, la unidad divina y la introspeccin.",cities:["Shklov"]}]},{year:"1826",events:[{name:"Bernardino Rivadavia",text:"Es nombrado el primer presidente de las Provincias Unidas del Ro de la Plata bajo un rgimen unitario. Su breve mandato intenta modernizar las instituciones al estilo europeo.",cities:["Buenos Aires"]}]},{year:"1830",events:[{name:"Adam Weishaupt",text:"Muere en Gotha el fundador de los Illuminati de Baviera, Adam Weishaupt. Tras recibir proteccin del duque Ernesto II de Sajonia-Altenburgo, escribi obras en defensa del iluminismo racionalista y republicano, denunciando su persecucin en Baviera.",cities:["Gotha"]},{name:"Emilia Plater",text:"Emilia Plater participa activamente en el Levantamiento de Noviembre contra el Imperio ruso. Convertida en smbolo del nacionalismo polaco-lituano, lucha vestida como hombre en las guerrillas patriotas del este europeo.",cities:["Vilna","Lituania"]}]},{year:"1831",events:[{name:"Moritz von Hirsch",text:"Nace en Mnich Moritz von Hirsch, heredero de una poderosa familia juda bvara. Su abuelo paterno fue ennoblecido por financiar un regimiento bvaro durante las guerras napolenicas.",cities:["Mnich"]}]},{year:"1843",events:[{name:"Zona de Asentamiento",text:"El zar Nicols I ordena la expulsin de los judos en un radio de 80 km de la frontera con el Imperio austraco, profundizando las restricciones dentro de la Zona de Asentamiento. Las provincias de Astracn y el Cucaso son excluidas de la zona.",cities:["Kiev","Astracn","Cucaso Norte"]}]}],Qw={title:Yw,duration:$w,years:Zw},eC="Los Secretos del Sinay",tC="1480 - 1703",nC=[{year:"1480",events:[{name:"Jaim Ben Chaim de Worms",text:"Rabino destacado en Worms, parte de la comunidad asquenaz que mantuvo la tradicin rabnica durante persecuciones a finales del siglo XV.",cities:["Worms"]}]},{year:"1492",events:[{name:"Expulsin de los judos de Espaa",text:"El edicto de expulsin decretado por los Reyes Catlicos dispers a judos hacia Italia, el Imperio Otomano y otras regiones, afectando a las comunidades asquenazes y sefardes.",cities:["Espaa","Italia","Imperio Otomano"]}]},{year:"1520",events:[{name:"Nacimiento del Maharal de Praga y Solomon Ashkenazi",text:"Judah Loew ben Bezalel, el Maharal de Praga, nace en Pozna o Worms. Ese mismo ao nace Solomon ben Nathan Ashkenazi en el Imperio Otomano, mdico y diplomtico.",cities:["Pozna","Worms","Imperio Otomano"]}]},{year:"1522",events:[{name:"Judah Leib el Viejo",text:"Judah Leib el Viejo, rabino checo en Praga y ancestro del Maharal, fallece. Su tumba de 1539 marca un hito genealgico para la lnea davdica asquenaz.",cities:["Praga"]}]},{year:"1530",events:[{name:"Mordecai ben Avraham Yoffe",text:"Nace en Praga Mordecai ben Avraham Yoffe, rabino y autor del 'Levush Malkhut', obra clave en el judasmo de Europa del Este.",cities:["Praga"]}]},{year:"1535",events:[{name:"Construccin de la Sinagoga Pinkas",text:"La Sinagoga Pinkas se erige en Praga bajo la direccin del rabino Aharon Meshulam Horowitz, como lugar de memoria para la comunidad asquenaz.",cities:["Praga"]}]},{year:"1540",events:[{name:"Avraham Halevi Horowitz",text:"Nacido en Praga, estudi con el Maharal y el Rema, y se destac como juez rabnico y autor de filosofa y tica juda.",cities:["Praga","Cracovia"]}]},{year:"1553",events:[{name:"Mordecai ben Abraham Jaffe",text:"Nombrado director de la yeshiv en Praga, promovi el estudio riguroso del Talmud y combati el descuido talmdico.",cities:["Praga"]}]},{year:"1555",events:[{name:"Isaiah Horowitz",text:"Nace Isaiah Horowitz en Praga, discpulo del Rema, futuro promotor del estudio de la Tor en Jerusaln.",cities:["Praga"]}]},{year:"1561",events:[{name:"Mordecai ben Avraham Yoffe en Venecia",text:"Tras la expulsin de Bohemia, Yoffe estudia astronoma en Venecia hasta 1571.",cities:["Praga","Venecia"]}]},{year:"1570",events:[{name:"Mordechai HaKohen de Alepo",text:"Rabino de Alepo, impuls academias talmdicas y renov el estudio comunitario en la regin.",cities:["Alepo"]}]},{year:"1571",events:[{name:"Mordecai ben Avraham Yoffe en Grodno y Lublin",text:"Elegido rabino de Grodno y luego de Lublin, lider el influyente Consejo de las Cuatro Tierras.",cities:["Grodno","Lublin"]}]},{year:"1580",events:[{name:"Juan Frayle en Vega de Bur",text:"Juan Frayle y su hermano Toribio, descendientes de un judo converso, establecen el apellido Frayle en Vega de Bur (Palencia), Espaa, tras la expulsin de 1492.",cities:["Vega de Bur"]},{name:"Refundacin de Buenos Aires",text:"Juan de Garay refunda Buenos Aires en 1580 como parte del Virreinato del Per, asegurando el control espaol en la regin y desplazando a los pueblos originarios.",cities:["Buenos Aires"]}]},{year:"1581",events:[{name:"Juicios de Trier",text:"Entre 1581 y 1593 en Trier (Alemania) se llevan a cabo masivas persecuciones por brujera impulsadas por el prncipe-arzobispo Johann von Schnenberg.",cities:["Trier"]}]},{year:"1582",events:[{name:"Creacin de Salta",text:"En 1582 se funda la ciudad de Salta en el actual noroeste de Argentina, consolidando la colonizacin espaola.",cities:["Salta"]}]},{year:"1583",events:[{name:"Marshall de Praga combate calumnias",text:"Marshall de Praga denuncia en 1583 las calumnias sobre la legitimidad matrimonial en Moravia, utilizando sermones pblicos para proteger a familias asquenazes.",cities:["Moravia"]}]},{year:"1585",events:[{name:"Jaim HaCohen de Alepo",text:"Nace en Egipto el rabino Jaim HaCohen (15851655), quien se traslada a Safed y luego a Alepo, donde revitaliza el estudio de la Tor y demuestra herosmo al salvar manuscritos ante un ataque de piratas.",cities:["Egipto","Safed","Alepo"]}]},{year:"1586",events:[{name:"Esteban Bocskai",text:"Esteban Bocskai (15571606), noble hngaro, ejerce gran influencia en Transilvania y Polonia. Aunque no es rabino, su diplomacia afecta rutas comerciales donde intervenan mdicos y mercaderes judos.",cities:["Kolozsvr","Praga","Viena"]}]},{year:"1592",events:[{name:"Marshall de Praga ante Rodolfo II",text:"El 23 de febrero de 1592, Marshall de Praga se rene con el emperador Rodolfo II en Praga junto a su hermano Sina y su yerno Isaac Cohen, discutiendo la Cbala.",cities:["Praga"]}]},{year:"1595",events:[{name:"Abraham Halevi Horowitz en Lviv",text:"En 1595 Abraham Halevi Horowitz es elegido juez rabnico en Lviv. Sus hijos, como Yaakov MeFerashin e Isaiah Horowitz, continan su legado escribiendo importantes obras haljicas y ticas.",cities:["Lviv"]}]},{year:"1599",events:[{name:"Primer bautizo Frayle en Vega de Bur",text:"El 2 de agosto de 1599 Toribio Frayle, hijo de Juan Frayle y Mara Barba, se convierte al cristianismo en Vega de Bur, consolidando la lnea converso Frayle en Palencia.",cities:["Vega de Bur"]}]},{year:"1600",events:[{name:"Contexto en Lucania",text:"En 1600, Lucania (hoy Basilicata) formaba parte del Reino de Npoles bajo corona espaola. El apellido Verrastro, derivado de 'jabal', recuerda a colonos y mercaderes asentados en la regin.",cities:["Lucania"]}]},{year:"1609",events:[{name:"Muerte del Maharal de Praga",text:"El 17 de septiembre de 1609 fallece Judah Loew ben Bezalel, el Maharal de Praga, en Praga. Fue un destacado talmudista y mstico que influy en la tradicin asquenaz por generaciones.",cities:["Praga"]}]},{year:"1618",events:[{name:"Inicio de la Guerra de los 30 Aos",text:"En 1618 comienza la Guerra de los Treinta Aos entre catlicos y protestantes. Varias comunidades asquenazes en Bohemia y Alemania son expulsadas y sufren persecuciones bajo la ocupacin imperial.",cities:["Praga","Viena","Breslau"]}]},{year:"1621",events:[{name:"Paz de Nikolsburg",text:"El 31 de diciembre, durante la Guerra de los Treinta Aos, se firm la Paz de Nikolsburg. Gbor Bethlen renunci al ttulo de rey de Hungra a cambio de que el emperador Fernando II ratificara el Tratado de Viena de 1606, que reconoca la independencia de Transilvania y la libertad religiosa.",cities:["Nikolsburg"]}]},{year:"1628",events:[{name:"Piratas y comerciantes judos",text:"Moses Cohen Henriques, pirata sefard, colabor con Piet Hein para capturar la flota del tesoro espaol en la baha de Matanzas, Cuba. La operacin, sin derramamiento de sangre, permiti a los holandeses apoderarse de oro, plata e ndigo, contribuyendo luego a la fundacin de la colonia de Nueva Holanda en Brasil.",cities:["Matanzas","msterdam"]}]},{year:"1630",events:[{name:"Represin contra pueblos originarios",text:"Entre 1630 y 1700, los pueblos originarios como los Mapuches y Vilelas sufrieron matanzas por parte de colonizadores espaoles en Argentina, como parte de expediciones de sometimiento territorial.",cities:["Mapu","Tucumn"]}]},{year:"1648",events:[{name:"Paz de Westfalia",text:"El 24 de octubre se firmaron los tratados de Osnabrck y Mnster, poniendo fin a la Guerra de los Treinta Aos y estableciendo el principio moderno de soberana nacional en Europa.",cities:["Mnster","Osnabrck"]}]},{year:"1654",events:[{name:"Moiss Henriques huye de Brasil",text:"Tras la reconquista portuguesa del norte de Brasil, Moiss Cohen Henriques escap y termin como asesor de Henry Morgan, el clebre pirata del Caribe.",cities:["Recife","Caribe"]}]},{year:"1668",events:[{name:"Saqueo de Puerto Prncipe",text:"El 29 de marzo, filibusteros atacaron Puerto Prncipe, enfrentando a milicias locales. Encerraron vecinos en iglesias, torturaron para obtener riquezas y usaron tcticas de terror similares a las de 'El Olons'.",cities:["Puerto Prncipe"]}]},{year:"1674",events:[{name:"Morgan nombrado gobernador",text:"Tras saqueos en Panam y presin diplomtica, Henry Morgan fue enviado a Inglaterra. En 1674, fue nombrado caballero y regres a Jamaica como Teniente de Gobernador.",cities:["Londres","Jamaica"]}]},{year:"1698",events:[{name:"Nacimiento del Baal Shem Tov",text:"Nace Israel ben Eliezer, ms tarde conocido como el Baal Shem Tov, fundador del jasidismo. Vivi en la actual Ucrania y renov la espiritualidad juda asquenaz con un enfoque mstico y alegre.",cities:["Okopy","Medzhybizh"]}]},{year:"1703",events:[{name:"Reclutamiento forzado de judos en el ejrcito ruso",text:"Durante el reinado de Pedro el Grande, el Imperio ruso intensific el reclutamiento de jvenes judos para su ejrcito. Las comunidades asquenazes en Lituania y Polonia intentaron resistir mediante sobornos o envo de miembros menos aptos.",cities:["Vilna","San Petersburgo"]}]}],aC={title:eC,duration:tC,years:nC},iC=[{year:"1250 a.C.",male:"Aaron Hakohen",female:"Miriam"},{year:"1200 a.C.",male:"Eleazar",female:"?"},{year:"c. 20 a.C. - 10 d.C.",male:"Herodes el Grande (hakohen supervisando Templo)",female:"Mical (resistencia femenina)"},{year:"c. 6-4 a.C.",male:"Sacerdotes Magoi (hakohen astrlogos)",female:"No documentado"},{year:"c. 4 a.C.",male:"Herodes el Grande",female:"No documentado"},{year:"c. 10-30 d.C.",male:"Rabban Gamaliel I",female:"Ima Shalom (sabia y mujer influyente)"},{year:"c. 50-70 d.C.",male:"Simeon ben Gamaliel",female:"Yalta (mujer fuerte en el Talmud)"},{year:"1850",male:"Mordejai Reuben Hakohen Sinay",female:"Rifka (Reina) "},{year:"1898",male:"Len (Arn Leowe) Sinay",female:"Ana"},{year:"reconstruccion",male:"Abraham",female:"Rosa"},{year:"1991",male:"Lidiador Sinay",female:"Lidia Dora Sinay"}],rC=({year:t,male:e,female:n})=>ee.jsxs("aside",{style:{position:"fixed",right:0,top:"40%",width:220,padding:"1rem",backgroundColor:"#eef0ff",borderRadius:8,boxShadow:"0 2px 12px rgba(90, 79, 255, 0.2)",fontStyle:"italic",color:"#333",maxWidth:"90vw",zIndex:100},children:[ee.jsxs("h3",{style:{marginTop:0,marginBottom:"1rem",color:"#222"},children:["Protagonistas Hakohen - ",t]}),ee.jsxs("p",{children:[ee.jsx("strong",{children:"Masculino:"})," ",e]}),ee.jsxs("p",{children:[ee.jsx("strong",{children:"Femenino:"})," ",n]})]}),oC="Abominable",sC="1991 - hoy",lC=[{year:"1991",events:[{name:"Nacimiento de Lidiador",text:"El 6 de febrero de 1991 a las 21:55 hs nac en Buenos Aires. Un da hmedo de verano, la historia comenz.",cities:["Buenos Aires","Argentina"]}]},{year:"1993",events:[{name:"Desmentido del Priorato de Sion",text:"Pierre Plantard admite ante un tribunal francs que el Priorato de Sion fue una invencin."}]},{year:"1994",events:[{name:"Atentado a la AMIA",text:"Mueren 85 personas. En los escombros se rescatan 60.000 libros, 9.000 fotos, 120 pinturas, 17 instrumentos musicales y 32.000 diarios y revistas.",cities:["Buenos Aires"]},{name:"Inicio del colegio",text:"Comienza el colegio de monjas."}]},{year:"1997",events:[{name:"Arlt y el Rufin Melanclico",text:"Se publica 'La verdadera historia del Rufin Melanclico', revelando supuestos vnculos entre Roberto Arlt y Raquel Liberman con los tratantes de blancas. El pasado toma forma de novela y denuncia."},{name:"Mudanza a Lomas",text:"Lidiador se muda a Lomas del Mirador."}]},{year:"2001",events:[{name:"Crisis del 2001",text:"De la Ra huye en helicptero. Estallido social. La calle arde y el pas tambin."}]},{year:"2007",events:[{name:"rbol genealgico",text:"La profesora de literatura nos pide hacer un rbol genealgico, escribo un texto haciendo entrevistas a cada familiar. Primera vez que me nombran la existencia del rabino, de Len. Le pregunto a Lidia por Len y me dice que era una mala persona, no me dice la razn."}]},{year:"2009",events:[{name:"Mayora de edad",text:"El 6 de febrero cumplo 18 aos. Arranca el CBC. Afuera la gripe porcina, adentro los sueos de juventud.",cities:["Buenos Aires"]},{name:"Carta de Horacio",text:"El 9 de junio, Javier recibe un mail de su padre Horacio: 'Tu bisabuelo' una pista sobre un crimen en 1889. Se abre la caja de Pandora familiar.",people:["Javier","Horacio"]},{name:"Viaje inicitico",text:"Javier viaja en tren a Santa Fe leyendo '50 aos de colonizacin juda en la Argentina' de Jos Mendelson. Baja en Rafaela, duerme en un hotelucho, toma un micro a Moiss Ville. Camina por la calle Baron Hirsch, entre huellas y memorias.",cities:["Santa Fe","Rafaela","Moiss Ville"]}]},{year:"2010",events:[{name:"Encuentro con Pine Katz",text:"Javier encuentra el libro de Pine Katz. Las piezas del rompecabezas comienzan a encajar en un relato inquietante."}]},{year:"2011",events:[{name:"La carrera de cine",text:"Filmo 'Laguna' y 'Hasta el cielo'."}]},{year:"2013",events:[{name:"Publicacin de 'Los crmenes de Moiss Ville'",text:"La investigacin se transforma en libro. Javier revela una historia silenciada. El origen de Moises Ville y la historia de la familia Sinay.",people:["Javier Sinay"]},{name:"Reiki",text:"Me inicio en reiki"}]},{year:"2015",events:[{name:"Rodaje de 'Santos'",text:"Comienza el rodaje de 'Santos'."}]},{year:"2016",events:[{name:"Estreno de 'Santos'",text:"Se estrena 'Santos'. mi primer largometraje en CheLa."}]},{year:"2018",events:[{name:"Lectura de Mirelman",text:"5 de febrero. Lectura de 'Jewish Buenos Aires, 1890-1939: In Search of an Identity' de Victor A. Mirelman. El espejo de una comunidad y sus contradicciones."}]},{year:"2021",events:[{name:"Caja de Letras",text:"Javier Sinay publica 'Caja de letras'. Traduccin al espaol de los textos en idish de Pine Katz con comentarios. Retrata principalmente a Reuben y Mihil y el nacimiento del periodismo idish en Argentina.",cities:["Buenos Aires"]},{name:"Tiempo de Aportes",text:"Nerina Visacovsky publica 'La Tribuna icufista: Tiempo de Aportes'. Las voces del judasmo progresista resuenan."}]},{year:"2022",events:[{name:"El infierno prometido",text:"Gastn Ortiz Bandes publica 'El infierno prometido', una novela histrica pop sobre trata de mujeres. La ficcin como testimonio.",people:["Gastn Ortiz Bandes"]}]},{year:"2020",events:[{name:"Premio Santos",text:"Ganador en Queer Lisboa como mejor pelicula de arte en Portugal, proyectada en el cinema Sao Jorge. Toda una seal.",people:["Javier Sinay"]}]},{year:"2024",events:[{name:"Revelacin",text:"22 de mayo, 22:32 hs. Paranoia, miedo, angustia y ansiedad. A partir del hallazgo de la Zwi Migdal, todo sali a la luz. La Polaquita, Tierra de amor y venganza, la triloga de la trata. Golpes fuertes al corazn, presin baja cada vez que encontraba una frase clave. Llev la cmara a lo de mi abuela y vi a mi familia de una nueva manera que nunca imagin.",cities:["Buenos Aires"]},{name:"La investigacin",text:"Viajo a Rosario, compro libros, comienzo la escritura y la investigacin en profundidad, descargando pdf, analsis y orden cronolgico.",cities:["Buenos Aires"]}]},{year:"2024",events:[{name:"La promesa",text:"Mi nombre es Alejo, uso el nombre artistico Lidiador. Con la promesa herdada de escribir esta historia, hago homenaje al rabino Reuben Hacohen Sinai en esta obra, mi chosno, que influy la historia de Argentina y del mundo ms de lo que jams hubiera imaginado. Esta es mi historia."}]}],cC={title:oC,duration:sC,years:lC},uC="Reconstruccin",dC="1943 - 1990",fC=[{year:"1943",events:[{name:"Incorporacin de shules icufistas a la poltica de subsidios",text:"Los shules icufistas Jaim Zhitlovsky de Villa del Parque e I.L. Peretz de Villa Lynch, los ms concurridos, fueron incorporados a la poltica de subsidios de la AMIA (Vaad Hajinuj), mientras otros cinco shules se sumaron hacia el final de la dcada.",cities:["Buenos Aires"]}]},{year:"1945",events:[{name:"Crecimiento y consolidacin del ICUF tras la Segunda Guerra Mundial",text:"Con la adhesin popular inspirada por la Unin Sovitica y el Ejrcito Rojo, el ICUF consolid sus escuelas como Veltleje Shuln (escuelas laicas), reconocidas oficialmente como idiomticas complementarias. Contaron con apoyo econmico y reconocimiento institucional.",cities:["Argentina"]}]},{year:"1946",events:[{name:"Replanteo estratgico del Partido Comunista Argentino tras triunfo de Pern",text:"Tras la llegada de Pern, el PCA decidi 'acriollar' al partido para captar a las masas nacionales, desplazando a extranjeros de cargos sindicales e impulsando a judos militantes a integrar la colectividad israelita, dando un nuevo impulso a la Comisin Israelita del PC y al entorno ideolgico del ICUF.",cities:["Argentina","Buenos Aires"]}]},{year:"1948",events:[{name:"Impacto de la creacin del Estado de Israel y polarizacin comunitaria",text:"La creacin del Estado de Israel y el inicio de la Guerra Fra generaron nuevas polarizaciones dentro del campo comunitario judo argentino, afectando a las distintas tendencias ideolgicas dentro de la educacin juda.",cities:["Argentina"]}]},{year:"1950",events:[{name:"Fundacin del semanario Nuestra Palabra",text:"El Partido Comunista Argentino lanz en marzo de 1950 el semanario Nuestra Palabra, dirigido por Hctor P. Agosti. La publicacin abordaba temas internacionales y nacionales desde una perspectiva marxista, y tuvo dos pocas hasta su cierre el 24 de marzo de 1976.",cities:["Buenos Aires"]},{name:"Fundacin de la revista Tribuna",text:"Rubn Sinay fund la revista Tribuna, que tuvo fuerte incidencia en la comunidad juda de izquierda. Desde all, impuls una identidad juda crtica del sionismo, alineada con las posturas del PCA y del comunismo internacional.",cities:["Buenos Aires"]},{name:"Nacimiento de las hijas de Rubn Sinay y vida familiar",text:"Rubn Sinay, destacado dirigente comunista, viva con su esposa Myriam y sus hijas Paula y Ana Luz en un modesto departamento en el barrio Once, sobreviviendo con un pequeo sueldo del partido y ventas de publicaciones en barrios con shules icufistas.",cities:["Buenos Aires"]}]},{year:"1952",events:[{name:"Tensiones entre la URSS e Israel",text:"Comienzan a deteriorarse las relaciones entre Israel y la Unin Sovitica. En este contexto, el PCA en Argentina, que haba defendido al Estado de Israel como parte de la lucha anticolonial, evita pronunciarse pblicamente sobre el creciente antisemitismo en la URSS.",cities:["Buenos Aires","Jerusaln","Mosc"]},{name:"Militarizacin y rearme israel",text:"Rubn Sinay seala que en 1952 la Organizacin Sionista Norteamericana pidi ayuda militar al Congreso de EE.UU. para armar tanto a Israel como a pases rabes contra la supuesta amenaza comunista. Segn Sinay, esto demuestra el alineamiento del sionismo con el bloque imperialista.",cities:["Washington","Tel Aviv"]},{name:"Expulsin de shules icufistas y quita de subsidios tras rechazo a condenar a la URSS",text:"La dirigencia icufista se neg a firmar la condena que impulsaba la DAIA contra la URSS por los juicios de Praga y supuestos crmenes a escritores judos antifascistas. Como consecuencia, los shules fueron expulsados del ICUF y les quitaron los subsidios, aunque continuaron gracias a cooperativas y campaas solidarias.",cities:["Buenos Aires"]},{name:"Rubn Sinay como redactor principal y lder ideolgico icufista",text:"Rubn Sinay fue redactor principal de Tribuna, publicacin peridica icufista, y voz fundamental en el periodismo militante idishista, combinando su activismo poltico con la defensa de la educacin laica y la enseanza del dish.",cities:["Buenos Aires"]},{name:"Juicios de Praga y rechazo icufista a condena contra la URSS",text:"La dirigencia icufista se niega a firmar la condena impulsada por la DAIA contra la URSS por los juicios de Praga y crmenes contra escritores judos antifascistas, lo que provoca la expulsin de los shules del ICUF y la quita de subsidios.",cities:["Buenos Aires"]},{name:"Creacin del Mitl-shul y formacin de maestros judeo-progresistas",text:"El Consejo Central del ICUF inaugura el Mitl-shul, una escuela secundaria para formar maestros judeo-progresistas, con cursos dictados por destacados militantes y educadores socialistas y comunistas, vinculados a ideas de pedagogos como Dewey y Korczak.",cities:["Buenos Aires"]}]},{year:"1953",events:[{name:"Complot de los doctores y antisemitismo sovitico",text:"En 1953, el llamado 'complot de los doctores del Kremlin' desata una ola de antisemitismo en la URSS. Stalin rompe relaciones diplomticas con Israel. El PCA guarda silencio al respecto, mientras sectores sionistas alertan sobre el peligro de guerra con la URSS.",cities:["Mosc","Jerusaln","Buenos Aires"]},{name:"Campaa sionista pro-guerra",text:"Segn Rubn Sinay, el sionismo argentino promovi una campaa para enviar dinero y voluntarios a Israel, ante una posible guerra con la URSS. Denuncia que esta campaa buscaba encauzar el sentimiento solidario judo hacia una lnea proimperialista y antisovitica.",cities:["Buenos Aires","Tel Aviv"]},{name:"Crtica de Rubn Sinay al sionismo",text:"Rubn Sinay, desde la revista Tribuna, denuncia que el sionismo argentino pretenda integrar a Israel en el bloque antisovitico liderado por EE.UU. Sostiene que los sionistas socialistas agrupados en la revista Nueva Sin queran una guerra con la URSS, lo que hubiese sido suicida para el Estado de Israel.",cities:["Buenos Aires"]}]},{year:"1955",events:[{name:"Golpe de Estado y Revolucin Libertadora",text:"El 16 de septiembre de 1955, un golpe de Estado derroc al gobierno de Juan Domingo Pern, quien estaba en su segundo mandato. La Revolucin Libertadora instaur una dictadura militar, prohibi el peronismo y persigui a sus seguidores. La SIDE pierde relevancia tras el golpe y la cada de Pern.",cities:["Buenos Aires","Argentina"]},{name:"CGT Rosario y sindicalismo",text:"Samuel Sinay y Marcos Mndez, de la CGT Rosario, expresaron crticas a las demandas empresariales que reflotaran el poder oligrquico y desconoceran conquistas obreras. En la capital del peronismo, la CGT fue desalojada a punta de bayonetas y detenido su secretario general, el Ruso Sinay, obrero estatal y autor de novelas sobre problemtica juvenil.",cities:["Rosario","Argentina"]}]},{year:"1956",events:[{name:"Guerra del Sina",text:"En 1956 se desarroll la segunda guerra rabe-israel, conocida como la Guerra del Sina. La coalicin anglo-franco-israel atac Egipto tras la nacionalizacin del Canal de Suez por parte del presidente Gamal Abdel Nasser. Egipto cont con apoyo sovitico y refuerzos rabes. Nasser emergi como vencedor simblico, Israel expandi su territorio y elimin bases fedayines en Gaza, mientras Francia e Inglaterra fueron debilitadas por la presin de Estados Unidos, marcando el declive colonial europeo en la regin.",cities:["Sina","Canal de Suez","Gaza","Tel Aviv","El Cairo","Londres","Pars","Washington"]},{name:"Apoyo sovitico a Egipto",text:"La Unin Sovitica respald al gobierno egipcio enviando armas a travs de Checoslovaquia. Esta alianza fortaleci los lazos entre Mosc y Nasser, consolidando la influencia sovitica en Medio Oriente durante la Guerra Fra.",cities:["Mosc","El Cairo","Praga"]},{name:"Postura del PCA ante la Guerra del Sina",text:"Durante la Guerra del Sina, el PCA expres su interpretacin del conflicto a travs de sus rganos partidarios. Alineado con la Unin Sovitica, sostuvo una postura crtica hacia el accionar anglo-franco-israel y apoy a Egipto y a Nasser como parte del proceso de descolonizacin global.",cities:["Buenos Aires","El Cairo","Mosc"]},{name:"Publicacin de Nueva Era",text:"La revista terico-poltica mensual Nueva Era, dirigida por Victorio Codovilla y con Orestes Ghioldi como secretario de redaccin, aport un anlisis marxista-leninista ms profundo sobre temas internacionales, incluido el conflicto en Medio Oriente.",cities:["Buenos Aires"]},{name:"Publicacin de 'Solo la paz salvar a Israel'",text:"Rubn Sinay publica 'Solo la paz salvar a Israel', donde defiende la posicin sovitica y acusa al sionismo de manipular a la comunidad juda para justificar una poltica belicista. Reivindica el apoyo sovitico a Israel en 1948 y denuncia el verdadero objetivo sionista de integrar a Israel al bloque imperialista.",cities:["Buenos Aires","Jerusaln","Mosc"]},{name:"Crtica al discurso sionista sobre Egipto y la URSS",text:"Sinay argumenta que Israel haba comenzado el proceso de rearme desde 1950, mucho antes del envo de armas checas a Egipto. Critica que el verdadero conflicto para Israel no era el armamento en s, sino que proviniera de un aliado sovitico.",cities:["Tel Aviv","El Cairo","Praga"]},{name:"Desacuerdo dentro del PCA por invasin sovitica a Hungra",text:"Gregorio Lerner, dirigente comunista y miembro de la Comisin Israelita del PC, se opone a la invasin sovitica a Hungra, pero Rubn Sinay responde con crticas duras, tachando a los disidentes de traidores y agentes del imperialismo, evidenciando la poca libertad de expresin en el partido.",cities:["Buenos Aires"]},{name:"Rubn Sinay relativiza la enseanza exclusiva en dish",text:"Sinay sostiene que los objetivos de los shules deben ser los mismos que cualquier escuela progresista, formando nios cientficos, desprejuiciados y comprometidos con el progreso social. Considera que el dish es un obstculo para la expansin universal de la educacin progresista y postula que la formacin debe adaptarse a la realidad nacional y cultural argentina.",cities:["Buenos Aires"]}]},{year:"1958",events:[{name:"Arturo Frondizi",text:"Presidente de Argentina entre 1958 y 1962. Lleg con apoyo de sectores peronistas y sindicales, enfrent intentos de golpes militares, impuls la industrializacin y tuvo episodios de persecucin poltica especialmente contra grupos peronistas.",cities:["Buenos Aires","Argentina"]},{name:"Voladura del buque Patria",text:"Revelacin aos despus de que la Haganah vol el buque Patria sin consultar a las vctimas, lo que caus la muerte de refugiados judos, segn declaraciones de Rosenblum del Comit de Accin Sionista.",cities:["Israel"]},{name:"Auge del ICUF y expansin educativa",text:"El ICUF agrupaba 15 escuelas idiomticas con 2.500 alumnos, varias entidades culturales, publicaciones y una editorial propia. Se afirmaba como movimiento comprometido con la educacin laica y estatal, en un contexto de influencia del frentepopulismo y la Internacional Comunista.",cities:["Argentina"]},{name:"Sexta Campaa Pro-cultura y Educacin del ICUF",text:"El ICUF solicita a maestras y maestros (lererkes) trabajar con familias para fortalecer el sentido poltico y la importancia de las escuelas judas progresistas. Los shules funcionan como un oasis frente a la escuela pblica, a pesar de las dificultades financieras.",cities:["Buenos Aires"]}]},{year:"1959",events:[{name:"Unin Hebraica de Rosario",text:"El predio fue comprado por la Unin Hebraica de Rosario y cedido a la comuna local en junio de 1959.",cities:["Rosario","Argentina"]},{name:"Muerte de Pine Katz",text:"Fallecimiento de una figura destacada.",cities:["Argentina"]},{name:"Debate interno sobre el futuro del dish y la educacin en ICUF",text:"Sinay plantea el interrogante de la utilidad de mantener escuelas exclusivamente en dish cuando el castellano es el idioma de los nios. Sin embargo, defiende la continuidad de los shules para satisfacer a padres que desean preservar la cultura judeo-progresista y para protegerse polticamente en un contexto adverso.",cities:["Buenos Aires"]}]},{year:"1960",events:[{name:"Captura de Adolf Eichmann",text:"Eichmann, uno de los principales responsables del Holocausto, fue capturado en Argentina por el Mossad y llevado a Israel para ser juzgado.",cities:["Argentina","Israel"]},{name:"Falsificacin de documentos del Priorato de Sion",text:"Pierre Plantard y su grupo crearon los 'Dossiers Secrets', documentos falsificados que mostraban al Priorato como una orden secreta fundada en 1099, incluyendo supuestos grandes maestros como Leonardo da Vinci y Victor Hugo.",cities:["Francia"]},{name:"Luis deja la polica",text:"Renuncia o retiro de Luis de la polica.",cities:["Argentina"]},{name:"Inicio del ocaso de la enseanza del dish",text:"Con la aparicin de la generacin nativa, el inters por la continuidad de las escuelas y la enseanza del dish comenz a decaer, reflejando cambios socioculturales dentro de la colectividad juda argentina.",cities:["Argentina"]},{name:"Nueva generacin argentina incorporada a la vida institucional y declive de los shules",text:"Una nueva generacin nacida en Argentina y formada en el entorno icufista comenz a involucrarse en espacios polticos y sociales ms amplios, especialmente universitarios. Este proceso marc el inicio del ocaso de la red de shules icufistas y el auge de actividades recreativas y culturales como kinder clubes, jardines alternativos y colonias vacacionales.",cities:["Argentina"]},{name:"Perspectiva de Sinay sobre la desaparicin del dish y el futuro de la educacin judeo-progresista",text:"Sinay anticipa que el dish desaparecer con la integracin y asimilacin de las nuevas generaciones argentinas, pero que la educacin progresista perdurar y enriquecer la cultura nacional. Considera que la promocin inicial del dish fue una etapa necesaria dentro de un proceso histrico dialctico.",cities:["Buenos Aires"]}]},{year:"1962",events:[{name:"Muerte de Borlenghi",text:"Fallece Borlenghi por pulmona en Roma.",cities:["Roma","Italia"]},{name:"Condena y ejecucin de Eichmann",text:"Eichmann fue condenado y ejecutado en Israel por su rol en el Holocausto.",cities:["Israel"]},{name:"Jos Mara Guido (Interino)",text:"Presidente interino tras la renuncia de Frondizi debido a la presin militar. Enfrent inestabilidad poltica y econmica durante 1962-1963.",cities:["Buenos Aires","Argentina"]},{name:"Mesa redonda en Villa Lynch sobre la crisis de los shules",text:"Las lererkes discuten el descenso en la motivacin de algunos nios para asistir a los shules, sealando que el dish ya no era la lengua materna para muchos. Se resalta que el afecto, la enseanza crtica y el ambiente eran lo que ms atraa a los alumnos, y algunas maestras comenzaron a ensear en castellano para facilitar la comprensin.",cities:["Buenos Aires"]}]},{year:"1963",events:[{name:"Arturo Illia",text:"Presidente argentino entre 1963 y 1966. Implement reformas en salud, educacin y leyes laborales, impuls la nacionalizacin de sectores clave como el petrleo y enfrent oposicin militar y tensin con la izquierda.",cities:["Buenos Aires","Argentina"]}]},{year:"1966",events:[{name:"Golpe de Estado y dictadura de Ongana",text:"El 29 de junio de 1966 un golpe militar derroc a Arturo Illia, instaurando la dictadura de Juan Carlos Ongana. Suspensin de garantas constitucionales, disolucin del Congreso y represin de protestas, especialmente en universidades.",cities:["Buenos Aires","Argentina"]},{name:"Homenaje a Miguel y judos en Argentina",text:"Referencias a la situacin y memoria juda, vinculada a crmenes en Moiss Ville.",cities:["Argentina"]}]},{year:"1967",events:[{name:"Guerra de los Seis Das",text:"Campaa militar israel en junio de 1967 que derrot al ejrcito egipcio y provoc desplazamientos y sufrimiento rabe. Crticas a la poltica israel desde el comentario del escritor judo Isaac Deutscher.",cities:["Israel","Egipto","Jordania"]},{name:"Desercin del 'grupo de los trece' por lnea sectaria y antisionista",text:"Un grupo de activistas icufistas, conocido como el 'grupo de los trece', abandona el ICUF por desacuerdos con la lnea antisionista y sectaria durante la Guerra de los Seis Das, reflejando las tensiones internas dentro de la colectividad juda comunista.",cities:["Buenos Aires"]}]},{year:"1968",events:[{name:"Revista Tiempo",text:"Creada por Rubn Sinay, con enfoque en la problemtica de Medio Oriente, especialmente el conflicto palestino-israel, con Julio Schverdfinger como director formal.",cities:["Argentina"]}]},{year:"1969",events:[{name:"Comentario de Galili sobre rabes en Israel",text:"Galili, ministro de Informacin israel, expres en 1969 que no reconocan a los rabes del pas como un grupo tnico o nacional, contribuyendo a la violencia en Palestina.",cities:["Israel","Palestina"]},{name:"Fernando Nadra en el Comit Central del PCA",text:"Fernando Nadra fue electo miembro del Comit Central del Partido Comunista Argentino. Abogado, ensayista y candidato a diputado nacional en varias ocasiones, fue una figura clave en la produccin ideolgica del PCA durante las dcadas del 60 y 70.",cities:["Buenos Aires"]},{name:"Viaje de dirigentes icufistas a la URSS para contrarrestar crticas",text:"En un contexto de presin internacional de judos soviticos que denunciaban antisemitismo, el partido organiza un viaje para que dirigentes del ICUF constaten la 'falsedad' de esas acusaciones. A pesar de algunas percepciones crticas sobre la URSS, figuras como Rubn Sinay defienden frreamente el ideal sovitico.",cities:["Mosc"]}]},{year:"1973",events:[{name:"Fundacin de Crisis",text:"Se funda la revista Crisis.",cities:["Argentina"]},{name:"Alejandro Lanusse",text:"Dictadura de facto entre 1970 y 1974. Intent abrir un proceso de transicin democrtica con elecciones en 1973. Represin de guerrilleros y militantes de izquierda.",cities:["Buenos Aires","Argentina"]},{name:"Juan Domingo Pern (Tercer mandato)",text:"Regresa al poder tras 18 aos de exilio. Hctor Cmpora asume provisionalmente antes de Pern. Se incrementa la violencia poltica interna y muere Pern en 1974, generando crisis de liderazgo.",cities:["Buenos Aires","Argentina"]},{name:"Gleyzer, Los Traidores",text:"Obra emblemtica de denuncia sobre corrupcin sindical peronista y traicin a los trabajadores.",cities:["Argentina"]}]},{year:"1974",events:[{name:"Rodolfo Walsh - La revolucin Palestina",text:"Escribe sobre la injusticia sufrida por los palestinos y compara la persecucin israel con la nazi, destacando la expulsin y sufrimiento de millones de rabes.",cities:["Palestina"]},{name:"Isabel Pern",text:"Asume tras la muerte de Pern. Gobierno inestable con enfrentamientos contra guerrillas y creacin de la Triple A, que persigui militantes de izquierda con asesinatos y desapariciones.",cities:["Buenos Aires","Argentina"]}]},{year:"1976",events:[{name:"Golpe de Estado y Dictadura Militar (Proceso de Reorganizacin Nacional)",text:"Golpe militar que derroc a Isabel Pern el 29 de marzo de 1976 e instaur una dictadura que dur hasta 1983. Represin masiva, terrorismo de Estado, miles de desaparecidos y vctimas de tortura.",cities:["Buenos Aires","Argentina"]},{name:"Fallecimiento de Luis",text:"Muerte del abuelo Luis en este ao.",cities:["Argentina"]},{name:"La profeca de Rubn Sinay",text:"En 1976 ya no haba inscriptos suficientes para sostener la escuela primaria en dish dentro de la red del ICUF, marcando el cierre definitivo de los shules icufistas. Este hecho simbolizaba el fin de una etapa clave en la educacin judeo-progresista que, como haba anticipado Rubn Sinay."}]},{year:"1977",events:[{name:"Unin civil LGBT - CCAR",text:"Formacin de una unin civil LGBT vinculada al CCAR.",cities:["Argentina"]}]},{year:"1978",events:[{name:"Cierre de YCA",text:"Cierre de la Idish Colonization Asosation",cities:["Argentina"]}]},{year:"1980",events:[{name:"Publicacin sobre crmenes de Moiss Ville",text:"Se publican folletos de 60 pginas sobre los crmenes ocurridos en Moiss Ville y se demuele la sinagoga asquenaz Litvishe.",cities:["Moiss Ville","Argentina"]}]}],hC={title:uC,duration:dC,years:fC},pC="Impuros",mC="1931 - 1942",gC=[{year:"1931",events:[{name:"Revocacin de procesamientos y libertades a rufianes",text:"Principios de 1931 se rumoreaba que los rufianes seran liberados y el 27 de enero la Cmara de Apelaciones, integrada por los jueces Oribe y Ortiz de Rozas, revoc los procesamientos del juez Rodrguez Ocampo y orden las libertades tras negar el valor de las pruebas recolectadas y las denuncias de las mujeres contra los proxenetas, ya que 'no se acreditaban hechos de corrupcin'."},{name:"Misterio de la Unin Hebraica y rufianes judos",text:"La Unin Hebraica no figura oficialmente dentro de las instituciones de la colectividad juda en Rosario y su existencia qued marginada. Parecera haber sido una pantalla de rufianes judos radicados en Rosario. Sal Friedman, uno de sus directivos, fue detenido en una redada en mayo de 1930 en una casa donde funcionaba una sinagoga frecuentada por elementos de mal vivir."},{name:"Colectividad juda y exclusin de proxenetas",text:"Los dirigentes de la colectividad juda impidieron el ingreso de los proxenetas a los templos y prohibieron celebrar entierros religiosos de tratantes de blancas. Los caftens formaban sociedades de socorros mutuos, siendo la ms conocida la Varsovia, que en 1929 cambi su nombre a Zwi Migdal, con inters genuino de sostener su religiosidad."}]},{year:"1932",events:[{name:"Manuscrito MiHIL a Reyzen",text:"MiHIL entrega el manuscrito a Reyzen."},{name:"Antonio Berni y Rosario Grfico",text:"Antonio Berni, recin llegado de Europa, utiliz una cmara Leica para trabajar. Public tres fotos en Rosario Grfico del 11 de febrero de 1932 que mostraban la ciudad de Rosario y sus burdeles, describiendo la represin y tolerancia calculada de la moral burguesa."},{name:"Investigacin clandestina sobre prostbulos",text:"Rodolfo Puiggrs encarg a Berni fotografiar clandestinamente el interior de prostbulos para ilustrar un artculo, eligiendo lugares con buena luz natural para evitar ser descubierto."},{name:"Ley de sbado ingls y casas de tolerancia",text:"El 7 de octubre de 1932 se sancion la ley de sbado ingls. Rosa Weismann, Sofa Pais y Anita Baram de Smith presentaron a la Comisin de Fomento de Pagani dos casas de tolerancia en Granadero Baigorria."},{name:"Agustn P. Justo asume la presidencia",text:"Agustn P. Justo asumi como presidente de Argentina en 1932, representando al Partido Concordancia."}]},{year:"1933",events:[{name:"Solicitud para cementerio israelita en Granadero Baigorria",text:"El 4 de abril de 1933, representantes de la Unin Hebraica de Rosario solicitaron permiso para instalar un cementerio de ritual hebreo en Granadero Baigorria. La mafia obtuvo permiso para construirlo y lo denomin Zwi Migdal, en homenaje a Luis Migdal."},{name:"Asesinato de Juan Ruggero y funeral",text:"Muere asesinado Juan Ruggero, el Matn de Barcel (Don Alberto), quien organiz su propio funeral."},{name:"Hechos polticos destacados",text:"Firma del Pacto Roca-Runciman en 1933, beneficiando a exportadores argentinos. Continuacin del fraude electoral durante la Dcada Infame."}]},{year:"1934",events:[{name:"Inauguracin del Cementerio Israelita de Granadero Baigorria",text:"El Cementerio Israelita se inaugur en 1934 en un terreno adyacente al Cementerio El Redentor. All estn enterrados varios antiguos proxenetas, madamas y pupilas de Pichincha. El predio fue comprado por la Unin Hebraica de Rosario, que lo administr hasta 1959 cuando lo cedi a la comuna local."},{name:"Sancin de ley de indemnizacin",text:"En 1934 se sancion la ley de indemnizacin."}]},{year:"1935",events:[{name:"Publicaciones de Miguel sobre educacin juda",text:"Miguel public 'La conexin entre los padres judos y la educacin de sus hijos' en 'Di idishe tsaytung' en octubre de 1935."},{name:"Formacin y escisin del Haganah",text:"Los jefes de la Agencia Juda concibieron la inmigracin como colonizacin armada y construyeron la organizacin semiclandestina Haganah, de la que en 1935 se separ el grupo terrorista de ultraderecha Irgun."},{name:"VII Congreso de la Internacional Comunista y frentepopulismo",text:"Militantes argentinos, incluyendo el ICUF, comenzaron a formar coaliciones con sectores democrticos para luchar contra el fascismo criollo y el antisemitismo, desplazando la consigna 'clase contra clase'. Esto fortaleci las redes institucionales idishistas.",cities:["Argentina","Buenos Aires"]}]},{year:"1936",events:[{name:"Primera rebelin palestina contra ingleses",text:"En 1936 comenz la primera rebelin palestina contra los ingleses, que dur tres aos y caus miles de muertos."},{name:"David Hacohen y el boicot a rabes",text:"David Hacohen, miembro de la Histradut, record las campaas para boicotear productos rabes como parte de la soberbia racial juda."}]},{year:"1937",events:[{name:"Desbaratamiento del grupo Zwi Migdal y cambio poltico",text:"La polica de Rosario reprimi la actividad prostibularia tras el desbaratamiento en Buenos Aires del grupo de traficantes de la Zwi Migdal, mientras la poltica local adopt ideas abolicionistas."},{name:"Pine Katz representa a Argentina en YCUF",text:"Pine Katz actu en representacin de Argentina en YCUF."},{name:"Clausura de escuelas 'populares' y vigilancia sobre el dish",text:"Las escuelas 'populares' de izquierda idishista fueron clausuradas. El uso del dish fue condicionado y observado por las autoridades, en medio del resurgimiento del mito del 'judo bolchevique' por sectores conservadores y nacionalistas.",cities:["Argentina"]}]},{year:"1938",events:[{name:"Roberto M. Ortiz presidente",text:"Roberto M. Ortiz asumi la presidencia de Argentina (1938-1942), representando al Partido Concordancia. Intent combatir el fraude electoral y renunci por enfermedad en 1942."}]},{year:"1939",events:[{name:"Publicacin del Libro Blanco britnico",text:"En mayo de 1939 el gobierno britnico public un Libro Blanco que limitaba la inmigracin juda a Palestina y prometa no imponer nacionalidad juda a los rabes. Sin embargo, entre 1920 y 1939 la proporcin de judos en Palestina subi del 10% al 30%."}]},{year:"1940",events:[{name:"Ben Gurion y la alianza con Gran Bretaa",text:"Ben Gurion declar que lucharan junto a Gran Bretaa en la guerra como si el Libro Blanco no existiera, e intensificaron la inmigracin clandestina a Palestina, desafiando el bloqueo ingls. El hundimiento del buque Patria caus la muerte de 250 refugiados."},{name:"Resistencia y represin mapuche en el siglo XX",text:"Durante el siglo XX, los pueblos originarios, especialmente los mapuches, enfrentaron represin y desplazamiento por la expansin agrcola y extraccin de recursos naturales en Argentina."}]},{year:"1941",events:[{name:"Fundacin del ICUF y activismo de Rubn Sinay",text:"En abril de 1941 Pine Katz fund el ICUF. Rubn Sinay se destac como activista peronista."},{name:"Fundacin del ICUF en Amrica Latina y resurgimiento de escuelas idishistas",text:"En Buenos Aires se fund el ICUF como federacin de entidades judas laicas y progresistas. Se sumaron escuelas en provincias argentinas y pases vecinos, bajo un fuerte compromiso antifascista y cultural idishista.",cities:["Buenos Aires","Mendoza","Tucumn","Crdoba","Santa Fe","Uruguay","Brasil"]}]},{year:"1942",events:[{name:"Matrimonio de Lidia y Eduardo y poltica sindical",text:"En Buenos Aires, Lidia y Eduardo se casaron. Lidia renunci al judasmo. Borlenghi, representante de empleados de comercio desde 1935, fue electo presidente del segundo congreso de la CGT en diciembre de 1942."}]}],vC={title:pC,duration:mC,years:gC},yC="La Madre",_C=" - 1250 a.C.",xC=[{year:"#",events:[{name:"YHVH",text:"Todas las tradiciones mitolgicas y esotricas evocan una primera era de Oro, un tiempo en el que todo estaba en armona y en unidad con el todo. Tetragrmaton (en griego antiguo:  [tetragrmmaton]; en latn: Tetragrammaton) es la combinacin de cuatro letras hebreas  transliterada como YHVH o YHWH que la Biblia hebrea emplea como nombre propio del Dios nico de judos, samaritanos y cristianos. En la cosmogona rfica, Fanes o Fanetes (en griego antiguo , -; latn: Phnes, -tis; luminoso o revelador) es una divinidad primordial y mstica. Es la deidad primigenia que constituye el origen de la procreacin y la generacin de todas las cosas. Identificado con el dios gnstico Iao. Demogorgon (demiurgo, demonio, monstruo) georgeos, quien trabaja la tierra.",cities:["-0, -0"]}]},{year:"100000000000 a.C.",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_85c547997eb64865aab453d51a373ac6~mv2.webp/v1/fit/w_802,h_590,q_90,enc_avif,quality_auto/bd63ad_85c547997eb64865aab453d51a373ac6~mv2.webp",events:[{name:"La Madre",text:"El trmino procede del griego antiguo , espacio que se abre, o hendidura, y procede del verbo , que en formas derivadas significa bostezar. Hay una primera inspiracin, una inhalacin del universo o primera escisin o sacrificio, un ir hacia adentro del todo y que da pie a una chispa. Lo que hay ms all, lo ultravioleta o pitido tan agudo que no se puede or. El estado prstino del cosmos. Hesodo utiliza  con gnero neutro. Aristfanes escribe  tambin como neutro, pero sugiere que pudiera ser una entidad femenina.",cities:["-0, -0"]}]},{year:"900000 a.C.",events:[{name:"La oscuridad y la noche",text:"Del Caos surgieron rebo y la negra Noche (Nix). De la Noche a su vez nacieron el ter y el Da (Hemera), a los que alumbr preada en contacto amoroso con rebo muestra una primera divisin hombre mujer, es el resultado de esa primera escincin, entre polos, entre gneros. En el genesis de a biblia coincide con idea de comienzo de la creacin por el cielo.",cities:["-0, -0"]}]},{year:"",events:[{name:"ter",text:"En mitologa griega se le llama ter, que representa a la vez el quinto elemento, una sustancia que no es ninguna a la vez y que contiene todo lo que existe. ",cities:["; "]}]},{year:"13800000000 a.C.",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_1d4cb6ce86fa4763b03ab41fcb04f310~mv2.webp/v1/fit/w_802,h_590,q_90,enc_avif,quality_auto/bd63ad_1d4cb6ce86fa4763b03ab41fcb04f310~mv2.webp",events:[{name:"El dragn",text:"Sol de soles. El dios dragn-sol surge en los primeros registros orales. Un rayo de luz en los primeros ojos que lo persiben, en una nebulosa de vapor del magma, el el primer recuerdo de cualquier visin, una silueta serpenteante de luz. Agni y Soma encarnan la dualidad sagrada: el fuego primordial en oposicin al flujo mutable que lo contiene como gnesis. Este sol viaja en rbita alrededor de un sol mayor: Sagittarius A*, el centro galctico, un agujero negro supermasivo. As como el ombligo en relacin al cuerpo, o el ncleo al tomo, giramos tambin como sistema alrededor de esta fuente invisible. Representa el color amarillo, la nota sol, y es llamado tambin Big Bang. El comienzo del tiempo",cities:[""]}]},{year:"100000 a.C.",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_2702aedae7d446eb8855d1eaa89f49d9~mv2.webp/v1/fit/w_802,h_590,q_90,enc_avif,quality_auto/bd63ad_2702aedae7d446eb8855d1eaa89f49d9~mv2.webp",events:[{name:"Eva",text:"Figura arquetpica presente en Devaki y Eva, encarnan el smbolo primigenio de la mujer, pero tambin representan esotricamente al planeta Tierra: vientre de vida y cuerpo que tiembla. Una masa planetaria que gira, que vibra, y que, al fragmentarse, podra haber dado forma a los planetas del sistema como los conocemos. Gea era hija directa del kaos, coincide con el comienzo de la biblia que creado en principio el cielo y la tierra como materia.",cities:[""]}]},{year:"50000 a.C.",events:[{name:"El Enemigo",text:"La misoginia es el inicio de todo hecho cultural y de la tradicin oral. La reclusin en la montaa de las pitonisas, los sacrificios rituales humanos, el miedo, la enemistad, el abuso, el ejercicio de la fuerza. Saturno como una nebulosa gris. A su vez, una divisin entre padre e hijo: una subordinacin de la masa uraniana y la aparicin de una nueva masa, Saturno. La enemistad de Can y Abel representa el enfrentamiento entre razas. La historia escrita, judeocntrica, borra toda memoria de mujer, de extranjera o de persona transgnero. Mi misin con este escrito es reencontrarla. Eduard Schur, en su obra xenfoba *Los Grandes Iniciados*, describe un primer momento en que la raza negra domina a la raza blanca; y se dividen entonces quienes escriben de izquierda a derecha, como los arios que se rebelan, y de derecha a izquierda, quienes se sincretizan con la gnosis negra. Xenofobia y misoginia: el origen de todo. El que se autoproclama superior.",cities:[""]}]},{year:"12000 a.C.",events:[{name:"Nadie sabe nada.",text:"Neptuno. El color azul, el espacio entre los ojos o el fondo de la pupila y la nota Si. Los Anunakis son unos supuestos seres que ensean las primordiales enseanzas humanas. Los atlntides, una raza perdida. Un gran hueco en la historia y, de repente, la cultura egipcia en su esplendor. Intuiciones.  Segn la mitologa mesopotmica, los anunnas eran, inicialmente, los dioses ms poderosos y vivan con Anu Edur en el cielo. Posteriormente, sin que se haya establecido un motivo claro de este cambio, fueron los igigis los considerados como dioses celestes mientras el trmino anunna se empleaba para designar a los dioses del inframundo, especialmente a siete dioses que hacan la funcin de jueces en el inframundo.Los anunnakis son un grupo de deidades sumerias y acadias identificadas en los textos con los anunnas y los igigis, dioses mayores. En el mito de Atrahasis se afirma que, antes de la creacin del ser humano, los dioses tenan que trabajar para vivir. Entonces, los anunnas lograron que una categora de dioses inferiores, los igigis, trabajaran para ellos, hasta que se rebelaron y se negaron a seguir trabajando, entonces decidieron exterminarlos. Enki cre a la humanidad para que esta asumiera la responsabilidad de realizar las tareas que los Igigi haban abandonado y a travs del culto suministraran el alimento y oro a los dioses.",cities:["neptuno"]}]},{year:"7999 a.C.",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_d3a9b6fd667541c0961cc143ff456afa~mv2.webp/v1/fit/w_802,h_590,q_90,enc_avif,quality_auto/bd63ad_d3a9b6fd667541c0961cc143ff456afa~mv2.webp",events:[{name:"Edad de los Metales",text:"Agricultura, domesticacin. Primero habitantes en el Gran Chaco. Dominio humano sobre la tierra",cities:["Gran Chaco","Irak"]}]},{year:"3800 a.C.",events:[{name:"El Zigurat de Ur",text:"Madre de todas las ciudades de occidente, la ciudad de Ur posea en su epicentro un templo para adorar la deidad Sin o Nannar Dios de la luna. Cerca del monte Sina. La cima del templo de color azul, llamado Zigurat, de Ur tambin asociado al planeta Urano, dios de los Cielos u Olimpo representaba fsicamente el lugar donde habitabanlos Dioses que a la vez era el mismo Rey y su familia. La red neuronal y el sistema solar, Urano representa la coronilla de la espina dorsal, el color violeta que es lo ms lgido de lo perceptible y la nota musical Si.",cities:[""]}]},{year:"8000 a.C.",events:[{name:"El joven Ram",text:"Rama, sabio druida transgresor, se pelea con su padre y se va al bosque. El encuentro de lo masculino con lo femenino. Un hombre que llega al clan de mujeres y logra conectar. Mercurio, la comunicacin, el canal, el puente que une lo uno con lo otro, lo masculino con lo femenino, lo marica, el sutil lmite. Raptada la princesa y recuperada, no puede volver al clan y es excomulgada; representa a Lilith tambin. Representa el color verde, la garganta y la nota Re. El bioma, la necesidad de fusin entre lo uno y lo otro.",cities:["Balk","Bamyan","Occitania","Egipto"]}]},{year:"3800 a.C.",events:[{name:"Set",text:"Set es el hijo que nace luego que que Can sea exiliado. La profeca de la salvacin, jupiter, el que todo lo da. Es la esperanza de lo que no existe, por ende no es n color, sino que es iridisente, tornasol, el nmero ureo pi, el eterno horizonte, el ideal y la utipa. Asociado a la deidad egipcia Seth. En astrologa jupiter es la expansin, la buenas suerte. Zeus como deseo de lo absoluto. Expandirse es poseerlo todo hasta serlo, al fin y al cabo quien tome el trono del Zigurat. ",cities:["Ur"]}]},{year:"3799 a.C.",events:[{name:"Enos",text:"significa literlmente raza humana y simbioliza todo un perhodo de expansin humana. Sin datos de  la madre de su desendencia ni de sus hermanas. Representa tambin la primera victoria de la dominacin masculina. La anulacin de la femeneidad del relato, la palabra hombre como sinonimo de humano. Control del fuego. Prometeo. Le roba el fuego a los dioses. Llama a lo divino, es un puente que traza lo superior con lo inferior, ls tercera generacin, los nietos primigenios, el apellido o el rbol de la vida. Comienza a Invocar el nombre de Yhave. El nombre del padre del padre, el abuelo Dios.",cities:["Ur","Babilonia","Egipto"]}]},{year:"3798 a.C.",events:[{name:"Kenan",text:"Hijo de Enos, primero sin registro de madre ni otra mujer vinculada, su significado es 'posesin', probablemente referido a la primogenitura, el adulto hombre mayor, el dueo y poseedor del lineaje en el nombre del linaje judo primero.",cities:["Ur","Babilonia","Egipto"]}]},{year:"3797 a.C.",events:[{name:"Jared",text:"Literalmente significa descender, lo que nos habla de un linaje que se transmite de generacin en generacin. Es decir descendencia, la ramificacin del rbol de la vida.",cities:["Ur","Babilonia","Egipto"]}]},{year:"3796 a.C.",events:[{name:"Enoc",text:"El que camin con los Dioses, no muere, sube en cuerpo y alma al cielo. Me pregunto si no ser el Zigurat ese cielo y si caminar con los Dioses no ser caminar con los gobernantes.",cities:["Ur","Babilonia","Egipto"]}]},{year:"3795 a.C.",events:[{name:"Matusalem",text:"Segn la biblia, la persona ms longevo de la historia. Representa en s al abuelo sabio, el hermitao, escondido en una cueva, poseedor de toda sabidura. Simboliza la generacin previa al diluvio universal, conocimiento y pasados ancenstrales perdidos.",cities:["Ur","Babilonia","Egipto"]}]},{year:"3794 a.C.",events:[{name:"Inicio de la Historia",text:"Sumerios, escritura. La escritura fija las historias. Aparece el bronce, los imperios y el calendario.",cities:["Ur","Babilonia","Egipto"]}]},{year:"2750 a.C.",events:[{name:"La infancia de No",text:"No naci en tiempos en que 'los hombres comenzaron a multiplicarse sobre la faz de la tierra' (Gnesis 6:1). Era hijo de Lamec, descendiente directo de Set, hijo de Adn. Segn el Gnesis 5:29, Lamec lo llam No diciendo: 'Este nos aliviar de nuestras labores y del trabajo de nuestras manos, a causa de la tierra que maldijo el Seor'. Algunos textos posteriores, como el Libro de Enoc, lo describen como un nio 'diferente', cuyo nacimiento caus asombro porque brillaba. Su niez transcurri en una poca de creciente violencia y corrupcin, cuando 'toda carne haba corrompido su camino sobre la tierra'. Su nombre significa descanso.",cities:["Mesopotamia"]}]},{year:"2850 a.C.",events:[{name:"Naama",text:"Heb.  Na{amh, placentera [agradable; satisfaccin]. Naam, descendiente de Can, fue hija de Lamec y de Sila. Su hermano fue Tubalcan, padre de los forjadores de cobre y hierro. Yabal y Yubal eran sus medio hermanos, hijos de la otra esposa de Lamec, Ad. es la nica mujer en la prehistoria bblica que aparece como hija de alguna persona. Por lo general slo se mencionan hijos. La interpretacin habitual habla del su amabilidad, pero su sentido semitico pareciera tener otros sentidos. Algunas tradiciones judas medievales la asocian con el canto.",cities:["Mesopotamia"]}]},{year:"2390 a.C.",events:[{name:"El Arca",text:"A los 500 aos segn la tradicin, No se casa con Naam, descendiente de Can. Tienen tres hijos: Sem, Cam y Jafet. Comienza a tener visiones del colapso del mundo por la corrupcin humana. Construye un arca siguiendo un plan revelado en sueos o visiones. Noe es interpretado como la justicia en abrigo de piel, slo se preocupa por s mismo, decide quien se salva y quin no, oficiando como juez, ejecuta las ordenes divinas sin cuestionarlas.",cities:["Shuruppak","regin montaosa de Ararat"]}]},{year:"2348 a.C.",events:[{name:"Linaje y decadencia",text:"La ruptura familiar comienza cuando nace una nieta, hija de Sem, y una parte del clan intenta asesinarla al considerarla una amenaza a que se corrompa nuevamente la humanidad, decide dejarla con vida, pero no se recompone el vinculo familiar. Tras el descenso de las aguas, No planta vias y cae en una fuerte embriaguez, Cam es maldecido por reirse y abusar de su padre, destinando a su descendencia como esclava de la de sus hermanos, dando origen a la tribu Cananea, enemiga de los judos. Sometimiento entre tribus hermanas, reencor y punitivismo en los comienzos de la historia.",cities:["Ararat","Salem","Ur"]}]},{year:"2348 a.C.",events:[{name:"El rey de Salem",text:"Sem es vincuclado al personaje de Melsiquedec. El rey de Salem. Segn otro Midrash,  Melquisedec, rey de Shelem es Shem, quien era sacerdote , y de quien se dice Y Melquisedec, rey de Shelem, sac pan y vino, y fue sacerdote del Dios Altsimo. Considerado el sucesor de la justicia de No Y tom Sem y se adorn la vestidura, y la puso sobre la cabeza de ambos, y andando hacia atrs, cubri la desnudez de su padre; y sus rostros estaban hacia atrs, y no vieron la desnudez de su padre. Sem significa nombre o renombre, semitas son justamente quienes decienden de Sem.",cities:["Salem"]}]},{year:"2348 a.C.",events:[{name:"Emzara, las mujeres del arca",text:"Emzara, esposa de No; Sedeqetelebab, esposa de Sem; Na'eltama'uk, esposa de Cam; y Adataneses, esposa de Jafet. Se aade que los tres hijos construyeron una ciudad cada uno con el nombre de sus esposas. Segn los Orculos Sibilinos las esposas de Sem, Cam y Jafet disfrutaron de vidas increblemente largas, viviendo durante siglos, mientras hablaban con cada generacin que vean ir y venir. Segn el prefacio de los Orculos , la sibila autora era nuera de No: la sibila babilnica , Sambethe , quien, 900 aos despus del Diluvio, supuestamente se mud a Grecia y comenz a escribir los Orculos..",cities:["Salem"]}]},{year:"2348 a.C.",events:[{name:"Tamar, la hija del sacerdote",text:"En la Biblia, la hija de un sacerdote, mientras sea soltera y pertenezca a la familia paterna, se le permite comer una ofrenda elevada , as como un pecho y una pierna. Por otro lado, si comete adulterio, su castigo es ms severo que el de una hija de Israel: Si profana a su padre, ser quemada en el fuego,dice literal. Primera aparicin escrita de mujeres prendidas fuego como castigo masculino, agravado por el vinculo con la familia sacerdotal. Tamar era la hija de Sem",cities:["Salem"]}]},{year:"2248 a.C.",events:[{name:"Semitas",text:"Los 5 hijos de Sem dan origen a lo que luego sern pueblos Aram y su descendencia aramea, Arpajsad vinculado a los hebreros. Elam son Elamitas, Asur son Asiria y Lud los ldios.",cities:["Salem"]}]},{year:"2248 a.C.",events:[{name:"Apajsad el rey",text:"Arpajsad tambin se menciona en el Libro de Judit (Captulo 1) como el nombre de un rey de los medos a quien Nabucodonosor derrot. En el Corn se le llama Arfakshu",cities:["Media"]}]},{year:"2100 a.C.",events:[{name:"Apogeo de Ur",text:"Ur alcanza su esplendor, centro de culto a Sin, el dios lunar.",cities:["Ur"]}]},{year:"2100 a.C.",events:[{name:"Ishtar",text:"Diosa, mujer, temida, hermosa, sexualizada y demonizada. Multiples amantes.",cities:["Ur"]}]},{year:"2100 a.C.",events:[{name:"Selah",text:"A su hijo lo llamaron Selah es una palabra hebrea que aparece en la Biblia, especialmente en los Salmos, y generalmente se interpreta como una seal de pausa o reflexin. Se cree que indica un momento para parar, considerar lo que se acaba de leer o escuchar, y estar preparado para lo que sigue. Su esposa es nombrada como Mu'ak , hija de Kesed (otro hijo de Arphachsad).",cities:["Ur"]},{name:"Re, patriarca mesopotmico",text:"Re. El linaje desciende de esta raz por medio de Serug y Tar.",cities:["Mesopotamia"]}]},{year:"2000 a.C.",events:[{name:"Abraham nace en Ur",text:"Abraham, patriarca del monotesmo, nace en Ur y parte a Canan. Su pacto con lo divino marca el inicio de la alianza HaKohen: portar el conocimiento, an en dispora. Su esposa Sarai es figura transicional: cambia su nombre, su funcin y desafa la esterilidad impuesta.",cities:["Ur","Haran","Canan"]},{name:"Significado de Sara",text:"Sara significa 'gobernante', 'princesa'. Representa liderazgo femenino en un sistema que lo niega. Su transformacin corporal en la vejez para concebir es smbolo de lo transmutable, del cuerpo como vehculo de milagro. Sara es proto-Kohenet.",cities:[""]},{name:"Melquisedec y Abraham",text:"Melquisedec, rey de Salem y sacerdote del Dios Altsimo, bendice a Abraham. Esta figura es clave para la tradicin HaKohen: un sacerdote sin tribu, sin padre ni madre conocidos, cuyo linaje espiritual ser perpetuado por quienes viven entre mundos.",cities:["Salem"]},{name:"Descendencia patriarcal",text:"La lnea de Re a Tar, de Tar a Abraham, legitima la continuidad del linaje espiritual. Esta genealoga es conservada en la tradicin HaKohen como rbol simblico, pero tambin como red de transmisin de sabidura, justicia y mutacin.",cities:["Ur"]}]},{year:"1791 a.C.",events:[{name:"Nacimiento de Jacob y Esa",text:"Desde el vientre, Jacob y Esa luchan. La inversin del derecho de primogenitura es smbolo del cambio de paradigma. El menor, el queer, el excluido, ser el bendecido. Esta lgica ser central en el linaje HaKohen, donde lo desviado es lo sagrado.",cities:["Canan"]},{name:"Jacob engaa a Isaac",text:"Jacob, guiado por su madre Rebeca, toma la bendicin disfrazado de su hermano. El disfraz, el cruce de identidades, la actuacin performativa: todos elementos que resonarn en la forma de interpretar lo sagrado desde una perspectiva transfeminista.",cities:[""]}]},{year:"1750 a.C.",events:[{name:"Jacob en Harn",text:"Jacob trabaja para Labn y se casa con Lea y Raquel. De sus uniones nacen las 12 tribus de Israel. En el sueo de la escalera aparece la conexin entre planos. Este sueo es recuperado por los HaKohen como smbolo de ascensin espiritual a travs de los cuerpos mltiples.",cities:["Haran","Betel"]}]},{year:"1700 a.C.",events:[{name:"Declive del Imperio Babilnico",text:"La cada del Imperio marca el paso de poder hacia nuevas formas religiosas. Los HaKohen transitan este cambio como nmades del espritu, preservando secretos ancestrales mientras se adaptan al exilio constante.",cities:[""]}]},{year:"1644 a.C.",events:[{name:"Muerte de Jacob",text:"Muere Jacob, patriarca de las doce tribus. Su descendencia incluye figuras clave como Jud y Jos, portadores del linaje que derivar en los HaKohen que cruzarn Egipto y fundarn tradiciones esotricas y legales.",cities:[""]}]},{year:"1600 a.C.",events:[{name:"Agamenn y Micenas",text:"Mientras en Oriente se forman los linajes sacerdotales, en Occidente Agamenn reina en Micenas. La comparacin entre ambos mundos revela cmo lo sagrado se vincula al poder patriarcal en un lado, y al conocimiento simblico del otro.",cities:["Micenas"]}]},{year:"1575 a.C.",events:[{name:"Nacimiento de las tribus de Israel",text:"Jacob engendra a los ancestros de las doce tribus. Esta estructura ser la base del sacerdocio HaKohen, cuya funcin ser guiar, interpretar y proteger la tradicin en tiempos de opresin.",cities:[""]},{name:"Esa se convierte en Edom",text:"Esa, excluido del linaje espiritual, se convierte en Edom. Su figura marca el lmite del pacto, pero tambin lo perifrico: lo queer, lo otro, tambin forma parte del relato.",cities:[""]},{name:"Establecimiento en Egipto",text:"Jos se convierte en gobernador en Egipto. El pueblo de Jacob se asienta en Gosn. Esta estada forjar los valores del HaKohen: sabidura en la opresin, cdigos rituales, y el deber de liberar.",cities:["Egipto","Gosn"]},{name:"Jud y Tamar",text:"Tamar, mujer transgresora, se disfraza y logra gestar la lnea davdica. Este relato encierra capas de gnero, justicia y transformacin. Tamar es figura queer ancestral dentro del linaje HaKohen.",cities:[""]}]},{year:"1200 a.C.",events:[{name:"Auge de la cultura olmeca",text:"En simultneo con los patriarcas, en Amrica surge la civilizacin olmeca, con cultos solares, estructuras rituales y figuras andrginas. Estos paralelos refuerzan la nocin de una red espiritual transcontinental que tambin sostendrn los HaKohen en el exilio.",cities:["San Lorenzo","La Venta"]}]}],SC={title:yC,duration:_C,years:xC},bC="Rabino",MC="1850 - 1898",EC=[{year:"1850",events:[{name:"Arn Hacohen Sinai",text:"Aaron Hakohen Sinay (  ) era un rabino profesor en el pueblo conocido por toda la comunidad juda que rondaba las 2000 personas en Zabludow para esa poca, siendo la comunidad con ms habitantes en el pueblo. El nombre Aharon Hacohen Sinay  en s mismo explica mucho sobre este personaje. Ha-Cohen (l-Sacerdote o sumo sacerdote en algunas interpretaciones que sera Cohen Gadol o el sacerdote) y seguido con Sinay, proveniente de Sinn o Nannar, el Dios de la Luna de la ciudad de Ur o tambin el significado puede venir de la palabra odio u odiado por la envidia que provocaba la proclamacin de ser un pueblo elegido al bajar de ese monte.  Hacohen Sinay se traducira como El sacerdote del monte Sina. La y e i son indistintas en hebreo. Mi traduccin: El sacerdote del Dios de la Luna o El sacerdote odiado.",cities:["Augustw"]},{name:"Yeshiv de madera",text:" La antigua sinagoga de madera imponente con un interior un altar de madera y varios pisos y escaleras sin un clavo, dos profesorados y un colegio de varones dedicado a la formacin de rabinos, la converta en un pueblo judo finiscular habitado por rabinos consagrados y personajes cuasi biblicos,",cities:["Augustw"]},{name:"Augustw",text:"Posiblemente entre calles y casas de madera, con tierra hmeda de la lluvia y la nieve, Aarn vesta una tnica o tapado negro y usando una kip o turbante tipico. Ese ao, en ese contexto de extrema religiosidad, rigurosidad y visiones msticas, sin datos hoy de su madre, nace en 1850 en Zubludow, Reuben Hacohen Sinay, hijo de Aarn.",cities:["Augustw"]},{name:"Reuben HaKohen Sinay",text:"Nace Reuben (Revn) HaKohen Sinay en Augustw, Lituania. En este mismo perodo, surge en Europa el concepto racializado de 'ario' como contraposicin ideolgica al judasmo.",cities:["Augustw"]},{name:"Birkat-ha-kohanim",text:"A los ocho das de nacido, corresponde por su linaje sacerdotal, realizar el ritual de bendicin Birkat-ha-kohanim para santificarlo. Santo viene de sanct que significa consagrado a Dios. Este destino inalterable, sellado en este ritual para l y su estirpe, reconfirmando la misin de su padre, se hace en un ritual que requiere de 10 personas cohen, tapadas con una tnica o manta blanca, como fantasmas o al descubierto, levantan sus manos hacia su pecho y realizan la bendicin con sus manos que consiste en separar el dedo mayor y el anular. Pensando en que posiblemente se haya realizado en esa famosa sinagoga de madera, se vuelve una escena visualmente imponente.",cities:["Augustw"]}]},{year:"1855",events:[{name:"Moritz von Hirsch",text:"Moritz von Hirsch se casa con Clara Bischoffsheim, hija del banquero Jonathan-Raphal Bischoffsheim. Se asocia con la casa bancaria Bischoffsheim & Goldschmidt y comienza a acumular una vasta fortuna con concesiones ferroviarias y especulacin de azcar y cobre.",cities:["Bruselas","Pars","Viena"]},{name:"Fallecimiento de Arn Sinay",text:"Aaron, el padre de Reubn muere, quedando el nio de 5 aos completamente hurfano, no hay informacin de su madre, ni su nombre, supongo que apellido Skibelsky, es adoptado por su to Zeev Skibelsky, padre de Rifka una nia de edad parecida a Reubn. Aparentemente no tena un buen pasar y se mudan a la ciudad de Grodno donde estudia en una escuela provincial. Sin madre ni padre, pero con toda la expectativa de una comunidad puesta en l, crece en una ciudad de sinagogas e histricos rabinos, donde pocas veces da el sol y el paisaje se tie de ese blanco azulado de una noche eterna y va construyendo la historia de quin es y cul debiera ser su destino.",cities:["Grodno"]}]},{year:"1861",events:[{name:"Unificacin de Italia",text:"Se completa la unificacin italiana bajo la dinasta de los Saboya, integrando varios estados independientes, con fuerte resistencia en el sur, especialmente en el Reino de las Dos Sicilias.",cities:["Italia"]},{name:"Comentario en el Pentateuco",text:"Un primo de Reubn le adivina cualidades de rabino y lo enva a una yeshiv en Kovno. Este pueblo al igual que su lugar de nacimiento quedaba en las afueras de estas ciudades del ducado de Lituania donde vivan los judios que gozaban de los privilegios de esa zona. Las antiguas yeshivs casonas enormes, algunas de madera. En Kovno una escuela para hombres de aspirantes a rabinos estudiantes de la Tor y el Talmud. Una gran iniciacin. All crece entre rituales, alabanzas, canciones, ofrendas y conoce la corriente iluminista vigente en ese momento del judasmo, que invitaba a la integracin con la comunidad no juda y alguna serie de ideas modernas de la poca.",cities:["Grodno"]}]},{year:"1862",events:[{name:"Bartolom Mitre",text:"Lder unitario y liberal. Consolidacin nacional tras la batalla de Pavn. Se inicia la Guerra de la Triple Alianza (1865) contra Paraguay. En Buenos Aires son detenidos Dominguito Sarmiento, Mitre Jr., Casal y Britos.",cities:["Buenos Aires"]},{name:"Nacimiento de supuesto Aarn del Censo",text:"Se menciona el supuesto nacimiento de un personaje conocido como 'Aarn del Censo' en este periodo.",cities:["Varsovia"]}]},{year:"1868",events:[{name:"Domingo Faustino Sarmiento",text:"Presidente liberal (1868-1874). Promueve la educacin pblica con creacin de escuelas y formacin de maestros. Contina la Guerra de la Triple Alianza hasta su final en 1870.",cities:["Argentina"]},{name:"Se recibe de rabino",text:"A los 18 aos cumplidos, se recibe de rabino y termina su vida en Kovno. A pesar de ello decide no ejercer el rabinato y se vuelve profesor de biblia y Talmud de manera privada para ganarse la vida.",cities:["Kovno"]}]},{year:"1869",events:[{name:"Moritz von Hirsch",text:"Nombrado Barn en reconocimiento a la labor bancaria de su padre Josef von Hirsch para la corona. Su madre Caroline Wertheimer provena de familia juda ortodoxa de Frncfort del Meno.",cities:["Mnich","Frncfort del Meno"]},{name:"Isabel II de Espaa",text:"Durante su reinado se inicia la restauracin de relaciones con la dispora juda. La Constitucin espaola de 1869 permite la libertad de culto, un cambio importante tras siglos de intolerancia.",cities:["Espaa"]}]},{year:"1870",events:[{name:"Bartolom Mitre",text:"Como presidente, funda el diario La Nacin. La polica controla disturbios en fiestas y prostbulos. En la calle Crdoba se identifican cuatro madamas reconocidas por su actividad.",cities:["Buenos Aires"]}]},{year:"1871",events:[{name:"Fiebre amarilla en Buenos Aires",text:"La epidemia conocida como 'Reina el espanto' provoca cadveres en las calles. Sarmiento se retira temporalmente. La vida nocturna crece, destacndose el bar 'La Pandora'.",cities:["Buenos Aires"]}]},{year:"1872",events:[{name:"Sacerdotes conversos",text:"Ordenarse sacerdote era una estrategia adoptada por judos conversos para demostrar sinceridad religiosa. Entre ellos, D. Blas Frayle, D. Joseph Frayle y D. Benito Frayle, asesinado ese ao.",cities:["Argentina"]},{name:"Conquista del Desierto",text:"Campaas militares de exterminio contra pueblos indgenas lideradas por Julio Argentino Roca (1872-1879). Uso de tcticas brutales como envenenamiento de agua y destruccin de recursos. Vctimas: mapuches, puelches, ranqueles y tehuelches.",cities:["Patagonia","Sur de Argentina"]}]},{year:"1874",events:[{name:"Nicols Avellaneda",text:"Presidente nacionalista (1874-1880). Promueve la inmigracin europea para poblar el pas. Contina la campaa de la Conquista del Desierto bajo el liderazgo de Roca.",cities:["Argentina","Rosario"]},{name:"Normativa sobre prostitucin en Rosario",text:"Se aprueba la primera norma local para demarcar zonas de radicacin de prostbulos, respuesta a la creciente problemtica social.",cities:["Rosario"]}]},{year:"1875",events:[{name:"Trfico de mujeres en Buenos Aires",text:"Hernn Gerber vende a 12 mujeres, dos adquiridas por un rufin rosarino. Ese mismo ao, la ciudad de Buenos Aires vota la primera ordenanza sobre la problemtica de la prostitucin.",cities:["Buenos Aires","Rosario"]}]},{year:"1876",events:[{name:"Viaje por Rusia",text:"Reuben Mordejai HaKohen Sinay realiza un viaje por Rusia, dentro del contexto de la dispora juda y las restricciones de la Zona de Asentamiento. Reuben viaja por Rusia como parte de las publicaciones de Rodkinson y comienza a ejercer el periodismo en los diarios judios de la poca, los primeros en el mundo y ms importantes de la comunidad.",cities:["Rusia"]}]},{year:"1877",events:[{name:"Nace Mihl",text:"De vuelta en la ciudad de Grodno, oscura y nevada, ciudad de gigantes sinagogas, Reuben tiene un hijo con su prima y esposa Rifka llamado Mijl Hacohen Sinay. Seguramente por su apellido le corresponde el ungimiento como hacohen a los 8 das de nacido, imagino en la antigua sinagoga de Grodno, conocida en toda Europa.",cities:["Rusia"]}]},{year:"1879",events:[{name:"Masacre de la Comarca de los Andes",text:"En el marco de la Conquista del Desierto, el ejrcito argentino atac comunidades mapuches en la Comarca de los Andes, matando a cientos de indgenas y destruyendo sus comunidades, marcando una de las peores matanzas del periodo.",cities:["Comarca de los Andes"]}]},{year:"1880",events:[{name:"Julio Argentino Roca",text:"Asume la presidencia (1880-1886) con el partido Autonomista Nacional. Se federaliza Buenos Aires como capital del pas y se consolida el territorio con la Campaa del Desierto.",cities:["Buenos Aires","Argentina"]}]},{year:"1881",events:[{name:"Represin en el Imperio Zarista Ruso",text:"Tras el atentado al zar Alejandro II, el imperio implementa normas restrictivas: prohibicin de escuelas y profesiones liberales para judos, y expulsin a las afueras de la Zona de Asentamiento.",cities:["Rusia"]}]},{year:"1882",events:[{name:"Donacin de Moritz von Hirsch para judos rusos",text:"Hirsch dona 10.000 libras para repatriacin de refugiados y ofrece 2.000.000 de libras para crear un sistema de educacin secular en la Zona de Asentamiento Juda. El gobierno ruso acepta el dinero pero rechaza la participacin extranjera en su administracin.",cities:["Rusia"]}]},{year:"1883",events:[{name:"Bienvenida en Sarafand a colonos judos",text:"Los habitantes rabes de Sarafand recibieron a los colonos judos con palabras de fraternidad, destacando la convivencia histrica entre ambos pueblos.",cities:["Sarafand","Palestina"]}]},{year:"1884",events:[{name:"Sociedad Safah Brura",text:"En un contexto hostil se ponen en marcha una serie de acciones comunitarias. Reuben junto a otros 4 eruditos, crea Safah Brur traducido como lenguaje llano. La obsesin era claramente que el mensaje llegara ms fcil y ms rpido de manera oral con una misin tambin clara que era que no se pierda el legado. Al principio muy concurridas de lectura de Talmud, pero no duran mucho. Esta sera una de las agrupaciones que dara origen luego a Hovevei Zion, Amor a Zion, precursora del sionismo, de la que Reubn form parte y aparentemente invirti su dinero y vida all. . Entre sus fundadores estaban el rabino ID Miller, Leyb Yoffe, el rabino Ephraim Neimark y el rabino Reuben Hakohen Sinai. La sociedad tuvo muchos adeptos y frecuentes reuniones, pero no sobrevivi mucho tiempo. ",cities:["Grodno"]},{name:"Estudio del Talmud",text:"En un contexto hostil se ponen en marcha una serie de acciones comunitarias. Reuben junto a otros 4 eruditos, crea Safah Brur traducido como lenguaje llano. La obsesin era claramente que el mensaje llegara ms fcil y ms rpido de manera oral con una misin tambin clara que era que no se pierda el legado. Al principio muy concurridas de lectura de Talmud, pero no duran mucho. Esta sera una de las agrupaciones que dara origen luego a Hovevei Zion, Amor a Zion, precursora del sionismo, de la que Reubn form parte y aparentemente invirti su dinero y vida all. ",cities:["Grodno"]},{name:"La biblioteca de Reuben",text:"El pequeo Mijl de 7 aos en la biblioteca especial de su padre en su casa que llegaban casi todos los peridicos judios de la poca y entre libros y revistas, empieza a descubrir ciertos autores y editoriales judas de tendencias socialistas y de izquierda  a los que empieza a leer. Los precursores que retornaban a Palestina a colonizar, sumado al recuerdo idealizado y onrico de la olvidada Jerusalem tierra de Israel, generaban un entusiasmo y un movimiento que miraba la posibilidad de escapar del imperio Zarista Ruso y de las persecuciones de Europa en general. Los relatos de las ciudades empiezan a ser aterradores para la comunidad y los rabinos cargaban con el peso de la profeca de la tierra prometida.",cities:["Grodno"]}]},{year:"1885",events:[{name:"Fundacin de la Compaa Jevra Kedusha",text:"Se crea la Compaa Jevra Kedusha con la finalidad de adquirir una necrpolis privada destinada a la inhumacin de cadveres siguiendo el ritual judo, que exige tierra virgen y una ceremonia especial.",cities:["Buenos Aires"]}]},{year:"1886",events:[{name:"Miguel Jurez Celman",text:"Asume la presidencia argentina (1886-1890) representando al partido Autonomista Nacional.",cities:["Argentina"]}]},{year:"1887",events:[{name:"Muerte de Lucien Hirsch",text:"Fallece Lucien, hijo de Moritz von Hirsch."},{name:"Nacimiento de Zalman Reisen",text:"Nace Zalman Reisen el 6 de octubre en Koydenev, Gobernacin de Minsk (actual Bielorrusia). Hijo de padres influenciados por la Ilustracin juda (Haskalah), recibi educacin en casa y en cheders, y asisti a una escuela pblica rusa en Minsk.",cities:["Koydenev","Minsk"]}]},{year:"1888",events:[{name:"Nacimiento de Len Duckler",text:"La ciudad de Varsovia>> probablemente este documento sea falsificado, pero  efinitivamente hay un dato que es simblico y est puesto ah como una pista en un juego  nico y descarado. Varsovia no est lejos de Grodno. All pero por esa poca nace Len, por un lado hijo de Rifka y Reuben Hacohen Sinay y por otro lado Len Duckler o Ducker / Gutgold. Lo cierto y por registro oficial es que Len nace en Varsovia. Rubio de ojos celestes, judo. Y  ficialmente tambin el rabino y Rifka tienen un hijo llamado Aarn Leib (Len) nacido aproximadamente ese ao, hermano menor de Mijl.",persons:["Len Duckler"],cities:["Varsovia"]}]},{year:"1889",events:[{name:"El gran rabino de Paris",text:"El gran rabino de Pars, Zadoc-Kahn se comunica con la Alliance Israelite Universelle y surge la idea de Argentina como una posibilidad para el exilio de la comunidad. Una tierra libre, nueva, basta, sometida a las reglas de occidente donde se invitaba a cultivar la tierra y crear empezar una nueva vida, pero se estaba el rumor del riesgo de llegar y ser esclavo. Quedarse en Rusia o en Europa era morir.",cities:["Paris"]},{name:"Vapor Wesser",text:"As es que sale el barco vapor Wesser con 129 familias, el primer barco en zarpar a Argentina llevando judios para asentarse y formar una comunidad.  No es el viaje que lleva a los personajes de mi historia, pero explica mucho de lo que pasa despus. Llega el barco despus de cruzar todo el ocano al puerto de buenos Aires, toda la poblacin de los diferentes paises sale hacia su destino, pero los judos quedan barados en el barco 3 das sin poder bajar porque los papeles con los que entraban que le habian comprado a Rafael Hernndez figuraban como vendidos (la tipica), que supuestamente la demora del viaje y la comunicacin y bueno. Pasan 5 das en el hotel de los inmigrantes varados. Pedro Palacios les ofreci unos terrenos en Santa F.",cities:["Polonia","Buenos Aires"]},{name:"Los galpones del tren",text:"Viajan en tren y parece que otra vez no haba tal terreno y se quedan a vivir en los galpones vacos de tren, ah reciben la comida que haban arreglado, con gusanos, podrida y una carne de res. El rabino lder del grupo Haron Halevi Goldman carnea la res y la divide entre las personas como una especie de ritual. ",cities:["Santa Fe"]},{name:"El Cementetio de lxs nixs y David Lender",text:"Sin comida, sin calor, sin ropa, vagabundos y pobres, van vendiendo o perdiendo todo lo que tienen y de a uno van enfermando nios y nias y muriendo de Tifus, ms de 60 nios, toda la descendencia de las familias. David Lender se hace cargo de la situacin y de la desesperacin de la gente y con los ferroviarios y un chacarero levantar la comunidad, hacen un fuego y arman un cementerio para las infancias cadas de esa tragedia que existe ah en Santa F.",cities:["Santa Fe"]},{name:"Wilhelm Loewenthal",text:"Fue tanto el sufrimiento y el espanto que llega a odos de un mdico Wilhelm Loewenthal, que estaba a cargo de chequear la misin, mueve sus contactos para revertir la situacin, se publica una nota en La Nacin que cuenta solamente que quedan varados 3 das en el barco como un escndalo.",cities:["Santa Fe"]},{name:"Los terrenos",text:"Habla el medico Loewental con Pedro Palacios en Berln y le otorgan un terreno.",cities:["Berlin"]}]},{year:"1890",events:[{name:"Crisis econmica y Revolucin del Parque",text:"Crisis financiera en Argentina y comienzo de la Revolucin del Parque que dio origen a la Unin Cvica.",cities:["Argentina"]},{name:"Presidencia de Carlos Pellegrini",text:"Asume Carlos Pellegrini (1890-1892) con el partido Autonomista Nacional, estabilizando la economa tras la crisis.",persons:["Carlos Pellegrini"],cities:["Argentina"]},{name:"Mudanza de Miguel",text:"Miguel Sinay a los trece aos empieza sus estudios en una escuela primaria religiosa  y por otro lado en su casa de Tanakh y Talmud con su padre, aunque seguramente entre las jornadas de las agrupaciones, la escritura en los peridicos y la biblioteca de su casa era una enseanza de tiempo completo. Con ayuda de un amigo arma su primer peridico. Estaba en su sangre y su destino definitivamente, escribir. ",cities:["Zabludove"]},{name:"Von Hirsh",text:"Ac entra al juego un personaje central en esto, el Barn Von Hirsh, judo archi multimillonario, hijo de un banquero de la realeza heredero de su fortuna, con la reciente muerte de su nico hijo, toda ese potencial decide destinarlo a salvar la causa juda Uno de los hombres ms millonarios del planeta decidido a dejar todo... Lo real es que Loewenthal habla con el Von Hirsh y le cuenta de esta tragedia en Santa F. Se deciden a invertir en la aldea. Argentina sera la nueva tierra prometida, la nueva Israel. Ese era el gran plan. La otra opcin era invertir en otros lugares de Amrica como Estados Unidos y terrenos en Palestina que estaba activando esta nueva corriente. El Barn y el doctor hacen el pacto y sera el encargado de la misin.",cities:["Paris"]}]},{year:"1891",events:[{name:"El cartel.",text:"En la cuadra de la manzana de las Luces, a metros de la Casa Rosada, Loewenthal pone un cartel luminoso en su nueva sucursal llamada Colonizador Hirsh, en la calle per a 359.",cities:["Buenos Aires"]},{name:"Establecimiento en Moiss Ville",text:"Se aprueba el proyecto de asentamiento judo, con compra de tierras firmada con Palacios. Se establecen en Moiss Ville, cultivando lino. El mdico local enfrenta plagas y mala cosecha. Violencia: Ziml es asesinado por un gaucho por deudas, un almacenero es encontrado destripado, y seis personas huyen y son asesinadas en caminos cercanos.",cities:["Moiss Ville"],persons:["Ziml"]},{name:"Creacin del Banco de la Nacin Argentina",text:"Se crea el Banco de la Nacin Argentina.",cities:["Argentina"]},{name:"Oleada de inmigrantes judos en Buenos Aires",text:"Gran llegada de inmigrantes judos con vestimentas exticas y largas barbas, muchos de ellos agricultores tras haber sido comerciantes o industriales. Se instalan en barrios cntricos como Corrientes, Lavalle, Talcahuano, Cerrito y Libertad, viviendo en conventillos o piezas en condiciones precarias.",cities:["Buenos Aires"]},{name:"Gestiones para necrpolis juda en Chacarita",text:"Se realizan gestiones ante las autoridades municipales para asignar un terreno en Chacarita exclusivo para inhumaciones israelitas. El 14 de junio de 1892 se seala la manzana 6ta de la seccin 14 destinada a este fin.",cities:["Buenos Aires"]}]},{year:"1892",events:[{name:"El crimen de Moises Ville",text:"En medio de la ruta una familia juda de campesinos en las que estaba David Lender, quien haba rescatado toda la tragedia, pedan galletas o lo que sea muertos de hambre. Unos hombres a caballo gauchos llegan y sin entenderse en idioma hacen un arreglo que los judios no entienden y recin comida de esta gente. Resulta que haban vendido a sus hijas, jvenes, exticamente rubias para el lugar por la comida. El malentendido produjo una discusin que desencaden en pelea y David Lender es asesinado por el gaucho que huye a caballo que result ser un polica. Cuando van a reclamar y llega la polica queda la versin del gaucho que era la que entendan y nada pasa.",cities:["Moiss Ville"]},{name:"Crimen y violencia en Argentina",text:"En enero se registra un crimen familiar y la prensa (diario La Unin) informa sin pausa sobre casos violentos. El 3 de mayo se promulga el Reglamento Temporal acerca de los judos en Rusia, restringiendo severamente su residencia y derechos.",cities:["Argentina","Rusia"]},{name:"5 cambios de direccin de ICA en dos aos.",text:"5 cambios de direccin de ICA en dos aos.",cities:["Paris"]},{name:"Presidencia de Luis Senz Pea",text:"Asume Luis Senz Pea (1892-1895) por el partido Autonomista Nacional. El gobierno enfrenta conflictos internos y Senz Pea renuncia antes de finalizar su mandato.",persons:["Luis Senz Pea"],cities:["Argentina"]}]},{year:"1893",events:[{name:"El club de los 40 y 'Mujeres Libertadas'",text:"El club de los 40 congrega a 300 mujeres. La prensa las llama mujeres libertadas y la polica capitalina crea una Galera de sospechosos.",cities:["Buenos Aires"]},{name:"Pogrom",text:"La situacin era muy mala para los judios en ese momento. Sucede un pogrom en Grodno y otro en las afueras. Consiste por las noches, obligado a apagar sus velas en sus casas y esperando a que los ruidos y el caos, humo y olor a incendio de las casas vecinas ardiendo. Al otro da al amanecer algunos saqueaban los restos de las propiedades que todava servan para algo y para cuando los vecinos sobrevivientes se animaban a salir a la calle, se encontraban que los terrenos eran solo ceniza y sus vctimas masacradas completamente.",cities:["Grodno"]}]},{year:"1894",events:[{name:"Fundacin de la AMIA",text:"Se funda la AMIA por inmigrantes judos, que se convierte en la principal institucin de la comunidad juda en Argentina.",cities:["Buenos Aires"]},{name:"Estudios y publicaciones de Zalman Reisen",text:'Zalman Reisen estudia en ieshiv y escuela municipal rusa en Grodno. Lee obras en yiddish, incluyendo la antologa de Mortkhe Spektor "Der hoyz-fraynd". Publica con amigos varios nmeros del folleto impreso en hebreo "Hanitsanim" (Los brotes).',persons:["Zalman Reisen"],cities:["Grodno"]}]},{year:"1891",events:[{name:"Fundacin de YICO",text:"Se crea YICO, una organizacin clave en la comunidad juda.",persons:[],cities:[]},{name:"Expulsin de judos de San Petersburgo",text:"Se produce la expulsin de los judos de San Petersburgo en el marco de las polticas restrictivas del Imperio Ruso.",cities:["San Petersburgo"]}]},{year:"1892",events:[{name:"Tragedia en Moiss Ville",text:"Una familia juda de campesinos, entre ellos David Lender, intercambia a sus hijas por comida sin entender el trato con gauchos. El malentendido termina en pelea y el asesinato de David Lender por un polica que huye a caballo. La versin del polica es la que prevalece y no hay consecuencias.",cities:["Moiss Ville"]},{name:"Violencia constante",text:"El diario La Unin reporta que no pasa un solo da sin un asesinato en la regin.",cities:["Moiss Ville"]},{name:"Inestabilidad institucional en la ICA",text:"En solo dos aos, la ICA atraviesa cinco cambios de direccin.",cities:["Buenos Aires","Pars"]}]},{year:"1893",events:[{name:"Pogrom en Grodno",text:"Pogrom nocturno obliga a las familias judas a apagar sus velas y esperar en silencio. Al amanecer, saqueadores irrumpen en los hogares devastados. Las propiedades quedan reducidas a cenizas y muchas vctimas son masacradas.",cities:["Grodno"]}]},{year:"1894",events:[{name:"Visita de Herr Faiberg a Grodno",text:"En julio, Herr Faiberg, enviado de la JCA y del Barn Hirsch, visita Grodno tras los pogroms. Tras generar desconfianza por su apariencia de ciudad, el rabino local lo respalda. Faiberg visita las tumbas, viviendas arrasadas y hurfanos. Luego, propone en la sinagoga viajar a Argentina para fundar la colonia Kiriath Moshe (Moiss Ville), concebida como una nueva Jerusaln.",cities:["Grodno"]},{name:"Segundo viaje de Faiberg",text:"En noviembre, Faiberg regresa a Grodno.",cities:["Grodno"]},{name:"Partida de la familia Sinay",text:"El 11 de noviembre de 1894, Faiberg entrega un telegrama de Abraham Frumkin a Reuben HaKohen Sinay bendiciendo su viaje a Argentina. Tambin entrega dos Sifrei Tor y un Aarn HaKodesh. Reuben viaja con su esposa Rebecca y sus seis hijos en el barco Corania, desde el puerto de Liepja. Van a Moiss Ville como educadores, con Reuben como lder espiritual.",cities:["Grodno","Liepja","Moiss Ville"]}]},{year:"1895",events:[{name:"Rebelin y represin en Villaguay",text:"En febrero de 1895, el padre de familia lidera una rebelin en Villaguay. Hay allanamientos en Lavalle 1236/1241 y disturbios en la Plaza del Teatro Coln. Se arresta a varias personas, incluyendo a No Trauman, Adolfo Dikenfaden y Salomn Goldstein. La polica los identifica en la galera de sospechosos.",cities:["Villaguay","Buenos Aires"]},{name:"Censo nacional",text:"El censo nacional de 1895 registra 753 judos en Argentina.",cities:["Buenos Aires"]},{name:"Presidencia de Jos Evaristo Uriburu",text:"Jos Evaristo Uriburu (1895-1898), del partido Autonomista Nacional, asume la presidencia. Se caracteriza por una gobernabilidad pacfica tras la renuncia de Senz Pea y un crecimiento de la economa agroexportadora.",persons:["Jos Evaristo Uriburu"],cities:["Argentina"]}]},{year:"1896",events:[{name:"Cita de Teodoro Herzl sobre el sionismo",text:"El fundador del sionismo, Teodoro Herzl, escribi en su obra La edificacin del Estado Judo: La edificacin del Estado Judo no puede hacerse por mtodos arcaicos. Supongamos que queremos exterminar los animales salvajes de una regin. Es evidente que no iremos con arco y flecha a seguir la pista de las fieras, como se haca en el siglo XV. Organizaremos una gran cacera colectiva, bien preparada, y mataremos las fieras lanzando entre ellas bombas de alto poder explosivo. (Walsh, cita de El Estado Judo).",cities:["Buenos Aires"]},{name:"Muerte del Barn Hirsch",text:"El Barn Hirsch muere en 1896. Deja fondos millonarios para colonias agrcolas judas en Argentina, Amrica del Norte y, tras su muerte, tambin en Palestina. La Asociacin de Colonizacin Juda administra el fideicomiso benfico ms grande del mundo.",cities:["Pars","Buenos Aires","Palestina"]},{name:"Reuben se convierte en profesor",text:"En 1896, Reuben Sinai se convierte en profesor en la primera escuela YIKO de Moiss Ville. Luego se muda con su familia a Buenos Aires.",cities:["Moiss Ville","Buenos Aires"]},{name:"Publicaciones en prensa internacional",text:"Reuben publica artculos sobre la vida en Moiss Ville en Hamelits (San Petersburgo) y en Di Yudishe Gazetten (Nueva York).",cities:["San Petersburgo","Nueva York"]},{name:"Debates sobre el Estado Judo",text:'Theodor Herzl publica "El Estado Judo". Se debate si fundarlo en Palestina o Argentina.',cities:["Viena","Palestina","Argentina"]},{name:"Trauman y el bastn de Varsovia",text:"No Trauman denuncia el robo de su bastn de Varsovia.",cities:["Buenos Aires"]}]}],AC={title:bC,duration:MC,years:EC},TC="Indeseables",wC="1898 - 1931",CC=[{year:"1897",events:[{name:"Misin de recaudacin en Buenos Aires",text:"Juran ante un rollo de la Tor y el rabino es enviado a Buenos Aires a buscar fondos y vuelve. Compaeros designados Nute Gruer y Abraham Braumnsetein. Mandato en hebreo firmado por los colonos certifica la misin.",cities:["Buenos Aires"]},{name:"Viaje a Pars",text:"Parten a Pars de madrugada, recin terminado el Pesaj, ni amaneca.",cities:["Pars"]},{name:"Rechazo en la JCA en Pars",text:"El director general de la JCA en Pars, Sigismund Sonnenfled, recibe a los tres delegados gracias a su primo Judah Lubetzky, rabino de los rusos en Pars (primo lejano de Sinay). Les dice que no. La Sociedad de Beneficencia ayuda a volver a Nute y Abraham.",cities:["Pars"]},{name:"Ola de desalojos en San Cristbal",text:"Cohan llama a la polica de San Cristbal y provoca ola de desalojos. Planeaban robar la caja y fueron arrestados y torturados.",cities:["San Cristbal","Buenos Aires"]},{name:"Escndalos en la prensa",text:"La prensa y La Nacin publican escndalos relacionados con los desalojos y arrestos.",cities:["Buenos Aires"]}]},{year:"1898",events:[{name:"Fundacin de Der Viderkol",text:"Mihl llega a Buenos Aires cansado, sin dinero y triste. El 8 de marzo de 1898 (14 de Adar) aparece el primer nmero de Der Viderkol (El Eco). Se vuelve un xito y Mihl famoso. Vermont se convierte en asesor de Mihl.",cities:["Buenos Aires"]},{name:"Borok y la impresin en Buenos Aires",text:"Borok, millonario fabricante de goma para policas, invita a Mihl a su casa, le muestra peridicos internacionales y le financia la primera caja de letras en idish para imprimir en Buenos Aires.",cities:["Buenos Aires"]},{name:"Rechazo sionista y conflictos en Palestina",text:"Herzl prepara un informe sobre Palestina sin mencionar a los rabes, afirmando que es 'una tierra sin pueblo para un pueblo sin tierra'. Mx Nordau advierte que hay rabes en Palestina.",cities:["Palestina","Budapest"]}]},{year:"1899",events:[{name:"Publicacin de Di Folks Shtime",text:"Vermont y Einstein publican Di Folks Shtime (La Voz del Pueblo). En julio, un artculo largo sobre Rosa Manguel, joven de Galitzia engaada y escapada. Vermont recibe amenazas de Jos Gothieb.",cities:["Buenos Aires"]}]},{year:"1900",events:[{name:"Der Kolonist",text:"Sinai publica cuatro nmeros del semanario Der Kolonist (El Colono), aunque el cuarto no sali a la venta por su enfermedad.",cities:["Buenos Aires"]}]},{year:"1901",events:[{name:"Len y Ana Niejmad",text:"Len y Ana Niejmad en la comunidad juda.",cities:[]}]},{year:"1903",events:[{name:"Nacimiento de Samuel",text:"Nace Samuel (Abraham?) hijo de Len Sinay y Anita.",cities:[]}]},{year:"1904",events:[{name:"Presidencia de Manuel Quintana",text:"Manuel Quintana asume la presidencia (1904-1906). Se producen protestas obreras y primeras huelgas generales. Su salud se deteriora y delega el mando.",cities:["Argentina"]}]},{year:"1905",events:[{name:"Nacimiento de Rosita y Antonio Berni",text:"Nace Rosita. Antonio Berni tambin nace este ao. Atentado en Galitzia con bomba a 10 oficiales, se registra una revolucin en Odesa y Pine Katz licencia militar.",cities:["Galitzia","Odesa"]}]},{year:"1906",events:[{name:"Sociedad Varsovia y llegada de Pine Katz",text:"Asume Alcorta. Pine Katz llega en el barco Campana a Buenos Aires. Se forma la Sociedad Israelita de Socorros Mutuos Varsovia de Barracas al Sud y Buenos Aires. Votan 21 miembros a No Trauman. Se disputan el control de las sociedades los rufianes polacos y los rusos-rumanos, estos ltimos controlan burdeles en San Fernando.",cities:["Buenos Aires","Barracas al Sud","San Fernando"]},{name:"Nacimiento de ngel Borlenghi",text:"Nace ngel Gabriel Borlenghi en Buenos Aires, hijo de Pilade Borlenghi y Rosario Massaldi.",cities:["Buenos Aires"]}]},{year:"1907",events:[{name:"Relacin entre sociedades judas",text:"Adems de la Sociedad Varsovia, exista la Sociedad Israelita de Socorros Mutuos Askenazi. Trabajaban en conjunto, compartiendo cementerio en Avellaneda desde 1907. La inmigracin continu pese a prohibiciones oficiales.",cities:["Buenos Aires","Avellaneda"]}]},{year:"1909",events:[{name:"Censo judo en Argentina y negocio de prostbulos",text:"Censo interno judo registra 30,000 judos en Argentina. Buenos Aires era reconocido en Europa por su negocio de prostbulos, 199 en total, 102 judos. Juan Ruggerio acta como matn y guardaespaldas.",cities:["Buenos Aires"]}]},{year:"1910",events:[{name:"Presidencia de Roque Senz Pea",text:"Roque Senz Pea asume (1910-1914). Se sanciona la Ley Senz Pea (1912) que instaur el voto secreto, obligatorio y masculino, fomentando la participacin poltica popular.",cities:["Argentina"]},{name:"Censo de prostbulos",text:"Haba 42 casas de prostbulos en Buenos Aires, 39 pertenecan a judos rusos.",cities:["Buenos Aires"]}]},{year:"1911",events:[{name:"Publicacin de Dos Peyekh-Blat",text:"Junto con Hillel Davidovitsh, publica la obra Dos Peyekh-Blat (Hoja de Pascua).",cities:["Buenos Aires"]}]},{year:"1913",events:[{name:"Publicacin de Foterland",text:"Edita el peridico Foterland (Patria), del que slo se public un nmero.",cities:["Buenos Aires"]}]},{year:"1914",events:[{name:"Presidencia de Victorino de la Plaza y Primera Guerra Mundial",text:"Victorino de la Plaza asume (1914-1916). Argentina mantiene neutralidad durante la Primera Guerra Mundial. Se funda Di Yiddish Zeitung, que se unir a Pine Katz.",cities:["Argentina"]},{name:"Censo en Palestina",text:"Turcos hacen censo en Palestina: 690,000 habitantes, 60,000 judos. La guerra mundial da al sionismo su gran oportunidad.",cities:["Palestina"]}]},{year:"1915",events:[{name:"Cierre de casas de tolerancia",text:"Cierran casas de tolerancia y cambian horarios de 16hs a 3hs. Vermont critica la violencia entre hermanos judos en sus columnas.",cities:["Buenos Aires"]}]},{year:"1916",events:[{name:"Presidencia de Hiplito Yrigoyen",text:"Hiplito Yrigoyen asume (1916-1922), primer presidente elegido con voto secreto y universal masculino. Comienza reformas sociales.",cities:["Argentina"]}]},{year:"1917",events:[{name:"Decaimiento y muerte de Mordejai Sinay",text:"Sinay enferma, su hijo Samuel se vuelve su asistente. Mordejai fallece el 20 de marzo de 1918. Se enterr en el cementerio israelita de La Tablada.",cities:["Buenos Aires"]}]},{year:"1918",events:[{name:"Cementerio israelita La Tablada",text:"Mordejai Sinay es enterrado en el cementerio israelita de La Tablada.",cities:["Buenos Aires"]}]},{year:"1920",events:[{name:"Rechazo de la comunidad juda a Zwi Migdal",text:"La organizacin Zwi Migdal intent ganar aceptacin mediante donaciones para sinagogas y financiamiento del culto. Cuando se revel el origen ilcito del dinero, la comunidad juda inici una campaa contra ellos, impidiendo su ingreso a sinagogas, teatros y negndoles sepultura en cementerios judos. El rabino Reuben Hacohen Sinai expres: 'Prefiero yacer entre gentiles honorables que entre nuestros tmeim (impuros)'.",cities:["Buenos Aires"]},{name:"Diversidad y vida social de la colectividad juda en Buenos Aires",text:"En los barrios porteos convivan ortodoxos, obreros anarquistas y socialistas, comerciantes de origen ruso y turco, adems de otros oficios y clases sociales. Esta pluralidad cultural se expresaba en cementerios, sinagogas, bibliotecas, publicaciones y las primeras escuelas.",cities:["Buenos Aires"]}]},{year:"1921",events:[{name:"Fundacin de cementerio y sinagogas propias por proxenetas",text:"Los proxenetas expulsados de la comunidad juda crearon sus propias sinagogas, teatros y fundaron un cementerio en Avellaneda. El terreno fue gestionado por Salomn Klein y bendecido por el rabino Reuben Hacohen Sinay, quien viaj desde Buenos Aires para la inauguracin. Klein administr el cementerio estableciendo fosas para rufianes 'puros' y 'impuros'. La sociedad rusa Asquenasum se institucionaliz ese ao.",cities:["Avellaneda","Buenos Aires"]}]},{year:"1922",events:[{name:"Asuncin de Marcelo T. de Alvear y contexto internacional",text:"Marcelo T. de Alvear asume la presidencia de Argentina, con consolidacin econmica y creacin de YPF. En Palestina, la poblacin alcanzaba 760,000 habitantes, de los cuales 11% eran judos.",cities:["Buenos Aires","Palestina"]}]},{year:"1924",events:[{name:"Publicaciones y compras de propiedades",text:"Se publica el dcimo aniversario de 'Di idishe tsaytung' (peridico judo) en Buenos Aires. Wolf Brown, Jos Leib, Zytnisky, Wolf Sinhge, Simn Brut, Salomn Ghost, Max Wa y otros compran la propiedad en Mitre 400, Avellaneda.",cities:["Buenos Aires","Avellaneda"]}]},{year:"1925",events:[{name:"Nacimiento de Lidia y YIVO",text:"Nace Lidia y se pierde un documento importante relacionado con YIVO (Instituto de Investigacin Juda).",cities:[]}]},{year:"1926",events:[{name:"Rescate de Perla Pezelorska",text:"Perla Pezelorska logr enviar un mensaje de auxilio en dish desde un burdel en el barrio de Once y fue rescatada. La Sociedad Varsovia compr la propiedad en Mitre 400, Avellaneda, para actividades sociales y ostentacin.",cities:["Buenos Aires","Avellaneda"]}]},{year:"1927",events:[{name:"Dominio polaco en trata de blancas",text:"La trata de blancas en Buenos Aires estaba dominada por polacos, quienes mantenan mltiples mujeres bajo una disciplina servil aceptada socialmente.",cities:["Buenos Aires"]}]},{year:"1928",events:[{name:"Fundacin del archivo y presidencia de Yrigoyen",text:"Se funda un archivo y se registra el captulo argentino de IWO. Hiplito Yrigoyen asume la presidencia, representando a la Unin Cvica Radical.",cities:["Buenos Aires"]}]},{year:"1929",events:[{name:"Cambio de nombre de organizacin y primeras acciones contra narcotrfico",text:"La organizacin Varsovia cambi su nombre a Zwi Migdal tras quejas de la embajada de Polonia. Se registra la captura de un traficante de cocana, Juan Martn, en Buenos Aires. Se produce la crisis econmica mundial por la Gran Depresin y un golpe de Estado en Argentina.",cities:["Buenos Aires"]}]},{year:"1930",events:[{name:"Golpe de Estado de Uriburu y persecucin a Zwi Migdal",text:"Jos Flix Uriburu derroc a Yrigoyen en un golpe de Estado que inici la Dcada Infame, con polticas autoritarias. Uriburu expuls a los 'cafishios' judos, que fundaron la mutual Varsovia para disimular su actividad. En Rosario se allan la sede de Zwi Migdal; muchos rufianes escaparon. Se procesaron 108 socios en septiembre, aunque luego fueron liberados. Se detuvo a personajes vinculados a mafias, incluyendo a Simn Rubinstein. La colectividad segua prohibiendo el ingreso y sepultura a proxenetas en cementerios e instituciones judas.",cities:["Buenos Aires","Rosario"]},{name:"Redes escolares idishistas de izquierda en Buenos Aires",text:"Se consolidaron tres redes escolares: las del Partido Obrero Judo Bund (autonomistas y socialistas), las de Linke Poale Sion (sionistas-marxistas) y las vinculadas a la Komintern y al Partido Comunista Argentino (escuelas obreras, marxistas y leninistas).",cities:["Buenos Aires"]}]}],RC={title:TC,duration:wC,years:CC};var S0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cg=Ea.createContext&&Ea.createContext(S0),PC=["attr","size","title"];function LC(t,e){if(t==null)return{};var n=IC(t,e),a,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function IC(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function ec(){return ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ec.apply(this,arguments)}function ug(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function tc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ug(Object(n),!0).forEach(function(a){DC(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ug(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function DC(t,e,n){return e=NC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NC(t){var e=UC(t,"string");return typeof e=="symbol"?e:e+""}function UC(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b0(t){return t&&t.map((e,n)=>Ea.createElement(e.tag,tc({key:n},e.attr),b0(e.child)))}function nn(t){return e=>Ea.createElement(zC,ec({attr:tc({},t.attr)},e),b0(t.child))}function zC(t){var e=n=>{var{attr:a,size:i,title:r}=t,o=LC(t,PC),s=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Ea.createElement("svg",ec({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,o,{className:l,style:tc(tc({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),r&&Ea.createElement("title",null,r),t.children)};return cg!==void 0?Ea.createElement(cg.Consumer,null,n=>e(n)):e(S0)}function FC(t){return nn({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M198.91,128l30.3-53A6,6,0,0,0,224,66H163.49L133.21,13a6,6,0,0,0-10.42,0L92.5,66H32a6,6,0,0,0-5.21,9l30.28,53L26.79,181A6,6,0,0,0,32,190H92.5l30.29,53a6,6,0,0,0,10.42,0l30.28-53H224a6,6,0,0,0,5.21-9Zm14.75-50L192,115.91,170.34,78Zm-28.57,50-28.56,50-57.07,0L70.9,128,99.46,78l57.07,0ZM128,28.09,149.67,66H106.32ZM42.34,78h43.3L64,115.91Zm0,99.92L64,140.09,85.64,178ZM128,227.91,106.32,190h43.35ZM170.34,178,192,140.09,213.66,178Z"},child:[]}]})(t)}function OC(t){return nn({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"},child:[]}]})(t)}function BC(t){return nn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M13 6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V9H7C6.44772 9 6 9.44772 6 10C6 10.5523 6.44772 11 7 11H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V11H17C17.5523 11 18 10.5523 18 10C18 9.44772 17.5523 9 17 9H13V6Z",fill:"currentColor"},child:[]}]})(t)}function kC({size:t=62}){const e="#000000";return ee.jsxs("div",{style:{position:"relative",width:t,height:t*1.5,margin:"auto",textAlign:"center"},"aria-label":"Logo con luna islmica, estrella de David y cruz de Jess",children:[ee.jsx(OC,{size:t*.6,color:e,style:{marginBottom:-t*.15},"aria-label":"Luna islmica"}),ee.jsxs("div",{style:{position:"relative",width:t,height:t,marginTop:t*.1,display:"inline-block"},children:[ee.jsx(FC,{size:t,color:e,"aria-label":"Estrella de David"}),ee.jsx(BC,{size:t*1.5,color:e,style:{position:"absolute",top:"46%",left:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},"aria-label":"Cruz de Jess"})]})]})}function HC(t){return nn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.5 504C117.2 504 9 387.8 13.2 249.9 16 170.7 56.4 97.7 129.7 49.5c.3 0 1.9-.6 1.1.8-5.8 5.5-111.3 129.8-14.1 226.4 49.8 49.5 90 2.5 90 2.5 38.5-50.1-.6-125.9-.6-125.9-10-24.9-45.7-40.1-45.7-40.1l28.8-31.8c24.4 10.5 43.2 38.7 43.2 38.7.8-29.6-21.9-61.4-21.9-61.4L255.1 8l44.3 50.1c-20.5 28.8-21.9 62.6-21.9 62.6 13.8-23 43.5-39.3 43.5-39.3l28.5 31.8c-27.4 8.9-45.4 39.9-45.4 39.9-15.8 28.5-27.1 89.4.6 127.3 32.4 44.6 87.7-2.8 87.7-2.8 102.7-91.9-10.5-225-10.5-225-6.1-5.5.8-2.8.8-2.8 50.1 36.5 114.6 84.4 116.2 204.8C500.9 400.2 399 504 256.5 504z"},child:[]}]})(t)}function jC(t){return nn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M272 136c8.8 0 16-7.2 16-16s-7.2-16-16-16-16 7.2-16 16 7.2 16 16 16zm176 222.4V25.6c0-16-9.6-25.6-25.6-25.6H96C41.6 0 0 41.6 0 96v320c0 54.4 41.6 96 96 96h326.4c12.8 0 25.6-9.6 25.6-25.6v-16c0-6.4-3.2-12.8-9.6-19.2-3.2-16-3.2-60.8 0-73.6 6.4-3.2 9.6-9.6 9.6-19.2zM240 56c44.2 0 80 28.7 80 64 0 20.9-12.7 39.2-32 50.9V184c0 8.8-7.2 16-16 16h-64c-8.8 0-16-7.2-16-16v-13.1c-19.3-11.7-32-30-32-50.9 0-35.3 35.8-64 80-64zM124.8 223.3l6.3-14.7c1.7-4.1 6.4-5.9 10.5-4.2l98.3 42.1 98.4-42.1c4.1-1.7 8.8.1 10.5 4.2l6.3 14.7c1.7 4.1-.1 8.8-4.2 10.5L280.6 264l70.3 30.1c4.1 1.7 5.9 6.4 4.2 10.5l-6.3 14.7c-1.7 4.1-6.4 5.9-10.5 4.2L240 281.4l-98.3 42.2c-4.1 1.7-8.8-.1-10.5-4.2l-6.3-14.7c-1.7-4.1.1-8.8 4.2-10.5l70.4-30.1-70.5-30.3c-4.1-1.7-5.9-6.4-4.2-10.5zm256 224.7H96c-19.2 0-32-12.8-32-32s16-32 32-32h284.8zM208 136c8.8 0 16-7.2 16-16s-7.2-16-16-16-16 7.2-16 16 7.2 16 16 16z"},child:[]}]})(t)}function VC(t){return nn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 448H48a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h352a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm16-288H256v-48h40a8 8 0 0 0 8-8V56a8 8 0 0 0-8-8h-40V8a8 8 0 0 0-8-8h-48a8 8 0 0 0-8 8v40h-40a8 8 0 0 0-8 8v48a8 8 0 0 0 8 8h40v48H32a32 32 0 0 0-30.52 41.54L74.56 416h298.88l73.08-214.46A32 32 0 0 0 416 160z"},child:[]}]})(t)}function GC(t){return nn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(t)}function qC(t){return nn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function dg(t){return nn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(t)}function WC(t){return nn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.92 462.7l-288-448C341.03 5.54 330.89 0 320 0s-21.03 5.54-26.92 14.7l-288 448a32.001 32.001 0 0 0-1.17 32.64A32.004 32.004 0 0 0 32 512h576c11.71 0 22.48-6.39 28.09-16.67a31.983 31.983 0 0 0-1.17-32.63zM320 91.18L405.39 224H320l-64 64-38.06-38.06L320 91.18z"},child:[]}]})(t)}function XC(t){return nn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 224c-79.41 0-192 122.76-192 200.25 0 34.9 26.81 55.75 71.74 55.75 48.84 0 81.09-25.08 120.26-25.08 39.51 0 71.85 25.08 120.26 25.08 44.93 0 71.74-20.85 71.74-55.75C448 346.76 335.41 224 256 224zm-147.28-12.61c-10.4-34.65-42.44-57.09-71.56-50.13-29.12 6.96-44.29 40.69-33.89 75.34 10.4 34.65 42.44 57.09 71.56 50.13 29.12-6.96 44.29-40.69 33.89-75.34zm84.72-20.78c30.94-8.14 46.42-49.94 34.58-93.36s-46.52-72.01-77.46-63.87-46.42 49.94-34.58 93.36c11.84 43.42 46.53 72.02 77.46 63.87zm281.39-29.34c-29.12-6.96-61.15 15.48-71.56 50.13-10.4 34.65 4.77 68.38 33.89 75.34 29.12 6.96 61.15-15.48 71.56-50.13 10.4-34.65-4.77-68.38-33.89-75.34zm-156.27 29.34c30.94 8.14 65.62-20.45 77.46-63.87 11.84-43.42-3.64-85.21-34.58-93.36s-65.62 20.45-77.46 63.87c-11.84 43.42 3.64 85.22 34.58 93.36z"},child:[]}]})(t)}function JC(t){return nn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M184.561 261.903c3.232 13.997-12.123 24.635-24.068 17.168l-40.736-25.455-50.867 81.402C55.606 356.273 70.96 384 96.012 384H148c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12H96.115c-75.334 0-121.302-83.048-81.408-146.88l50.822-81.388-40.725-25.448c-12.081-7.547-8.966-25.961 4.879-29.158l110.237-25.45c8.611-1.988 17.201 3.381 19.189 11.99l25.452 110.237zm98.561-182.915l41.289 66.076-40.74 25.457c-12.051 7.528-9 25.953 4.879 29.158l110.237 25.45c8.672 1.999 17.215-3.438 19.189-11.99l25.45-110.237c3.197-13.844-11.99-24.719-24.068-17.168l-40.687 25.424-41.263-66.082c-37.521-60.033-125.209-60.171-162.816 0l-17.963 28.766c-3.51 5.62-1.8 13.021 3.82 16.533l33.919 21.195c5.62 3.512 13.024 1.803 16.536-3.817l17.961-28.743c12.712-20.341 41.973-19.676 54.257-.022zM497.288 301.12l-27.515-44.065c-3.511-5.623-10.916-7.334-16.538-3.821l-33.861 21.159c-5.62 3.512-7.33 10.915-3.818 16.536l27.564 44.112c13.257 21.211-2.057 48.96-27.136 48.96H320V336.02c0-14.213-17.242-21.383-27.313-11.313l-80 79.981c-6.249 6.248-6.249 16.379 0 22.627l80 79.989C302.689 517.308 320 510.3 320 495.989V448h95.88c75.274 0 121.335-82.997 81.408-146.88z"},child:[]}]})(t)}function KC(t){return nn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M48 0C21.53 0 0 21.53 0 48v64c0 8.84 7.16 16 16 16h80V48C96 21.53 74.47 0 48 0zm208 412.57V352h288V96c0-52.94-43.06-96-96-96H111.59C121.74 13.41 128 29.92 128 48v368c0 38.87 34.65 69.65 74.75 63.12C234.22 474 256 444.46 256 412.57zM288 384v32c0 52.93-43.06 96-96 96h336c61.86 0 112-50.14 112-112 0-8.84-7.16-16-16-16H288z"},child:[]}]})(t)}function YC(t){return nn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M439.15 453.06L297.17 384l141.99-69.06c7.9-3.95 11.11-13.56 7.15-21.46L432 264.85c-3.95-7.9-13.56-11.11-21.47-7.16L224 348.41 37.47 257.69c-7.9-3.95-17.51-.75-21.47 7.16L1.69 293.48c-3.95 7.9-.75 17.51 7.15 21.46L150.83 384 8.85 453.06c-7.9 3.95-11.11 13.56-7.15 21.47l14.31 28.63c3.95 7.9 13.56 11.11 21.47 7.15L224 419.59l186.53 90.72c7.9 3.95 17.51.75 21.47-7.15l14.31-28.63c3.95-7.91.74-17.52-7.16-21.47zM150 237.28l-5.48 25.87c-2.67 12.62 5.42 24.85 16.45 24.85h126.08c11.03 0 19.12-12.23 16.45-24.85l-5.5-25.87c41.78-22.41 70-62.75 70-109.28C368 57.31 303.53 0 224 0S80 57.31 80 128c0 46.53 28.22 86.87 70 109.28zM280 112c17.65 0 32 14.35 32 32s-14.35 32-32 32-32-14.35-32-32 14.35-32 32-32zm-112 0c17.65 0 32 14.35 32 32s-14.35 32-32 32-32-14.35-32-32 14.35-32 32-32z"},child:[]}]})(t)}function fg(t){return nn({tag:"svg",attr:{viewBox:"0 0 464 512"},child:[{tag:"path",attr:{d:"M405.68 256l53.21-89.39C473.3 142.4 455.48 112 426.88 112H319.96l-55.95-93.98C256.86 6.01 244.43 0 232 0s-24.86 6.01-32.01 18.02L144.04 112H37.11c-28.6 0-46.42 30.4-32.01 54.61L58.32 256 5.1 345.39C-9.31 369.6 8.51 400 37.11 400h106.93l55.95 93.98C207.14 505.99 219.57 512 232 512s24.86-6.01 32.01-18.02L319.96 400h106.93c28.6 0 46.42-30.4 32.01-54.61L405.68 256zm-12.78-88l-19.8 33.26L353.3 168h39.6zm-52.39 88l-52.39 88H175.88l-52.39-88 52.38-88h112.25l52.39 88zM232 73.72L254.79 112h-45.57L232 73.72zM71.1 168h39.6l-19.8 33.26L71.1 168zm0 176l19.8-33.26L110.7 344H71.1zM232 438.28L209.21 400h45.57L232 438.28zM353.29 344l19.8-33.26L392.9 344h-39.61z"},child:[]}]})(t)}function $C(t){return nn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 336c-48.6 0-88 39.4-88 88s39.4 88 88 88 88-39.4 88-88-39.4-88-88-88zm0 112c-13.23 0-24-10.77-24-24s10.77-24 24-24 24 10.77 24 24-10.77 24-24 24zm80-288h-64v-40.2c0-14.12 4.7-27.76 13.15-38.84 4.42-5.8 3.55-14.06-1.32-19.49L534.2 37.3c-6.66-7.45-18.32-6.92-24.7.78C490.58 60.9 480 89.81 480 119.8V160H377.67L321.58 29.14A47.914 47.914 0 0 0 277.45 0H144c-26.47 0-48 21.53-48 48v146.52c-8.63-6.73-20.96-6.46-28.89 1.47L36 227.1c-8.59 8.59-8.59 22.52 0 31.11l5.06 5.06c-4.99 9.26-8.96 18.82-11.91 28.72H22c-12.15 0-22 9.85-22 22v44c0 12.15 9.85 22 22 22h7.14c2.96 9.91 6.92 19.46 11.91 28.73l-5.06 5.06c-8.59 8.59-8.59 22.52 0 31.11L67.1 476c8.59 8.59 22.52 8.59 31.11 0l5.06-5.06c9.26 4.99 18.82 8.96 28.72 11.91V490c0 12.15 9.85 22 22 22h44c12.15 0 22-9.85 22-22v-7.14c9.9-2.95 19.46-6.92 28.72-11.91l5.06 5.06c8.59 8.59 22.52 8.59 31.11 0l31.11-31.11c8.59-8.59 8.59-22.52 0-31.11l-5.06-5.06c4.99-9.26 8.96-18.82 11.91-28.72H330c12.15 0 22-9.85 22-22v-6h80.54c21.91-28.99 56.32-48 95.46-48 18.64 0 36.07 4.61 51.8 12.2l50.82-50.82c6-6 9.37-14.14 9.37-22.63V192c.01-17.67-14.32-32-31.99-32zM176 416c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm22-256h-38V64h106.89l41.15 96H198z"},child:[]}]})(t)}const ZC="_container_njd1s_2",QC="_titleSection_njd1s_13",eR="_SecondSection_njd1s_30",tR="_bounceDown_njd1s_1",nR="_hidden_njd1s_104",aR="_sidebarNav_njd1s_110",iR="_navButton_njd1s_120",rR="_yearFixedLabel_njd1s_153",oR="_chapter_njd1s_168",sR="_chapterTitle_njd1s_172",lR="_chapterDuration_njd1s_178",cR="_yearSection_njd1s_185",uR="_yearSectionActive_njd1s_191",dR="_yearTitle_njd1s_195",fR="_eventsList_njd1s_202",hR="_eventsListActive_njd1s_209",pR="_eventItem_njd1s_215",mR="_eventItemActive_njd1s_238",gR="_eventBullet_njd1s_250",vR="_eventContentStrong_njd1s_264",yR="_eventContentCities_njd1s_270",_R="_eventContentText_njd1s_276",xR="_timelineLine_njd1s_283",SR="_three_njd1s_295",bR="_title_njd1s_13",MR="_bounce_njd1s_1",Ct={container:ZC,titleSection:QC,SecondSection:eR,bounceDown:tR,hidden:nR,sidebarNav:aR,navButton:iR,yearFixedLabel:rR,chapter:oR,chapterTitle:sR,chapterDuration:lR,yearSection:cR,yearSectionActive:uR,yearTitle:dR,eventsList:fR,eventsListActive:hR,eventItem:pR,eventItemActive:mR,eventBullet:gR,eventContentStrong:vR,eventContentCities:yR,eventContentText:_R,timelineLine:xR,three:SR,title:bR,bounce:MR},ER=()=>{var m;const t=Z.useRef([]),[e,n]=Z.useState(null),a=[SC,Aw,Rw,Dw,Fw,Hw,Kw,qw,aC,Qw,AC,RC,vC,hC,cC],i=[ee.jsx(fg,{}),ee.jsx(fg,{}),ee.jsx(GC,{}),ee.jsx(HC,{}),ee.jsx(qC,{}),ee.jsx(VC,{}),ee.jsx(KC,{}),ee.jsx(jC,{}),ee.jsx(WC,{}),ee.jsx(dg,{}),ee.jsx(dg,{}),ee.jsx(XC,{}),ee.jsx($C,{}),ee.jsx(JC,{}),ee.jsx(YC,{})],r=Z.useRef([]),o=d=>{const g=r.current[d];g&&g.scrollIntoView({behavior:"smooth",block:"start"})},s=d=>{const g=new SpeechSynthesisUtterance(d);g.lang="es-AR",speechSynthesis.speak(g)},[l,c]=Z.useState(!0);Z.useEffect(()=>{const d=()=>{c(window.scrollY<50)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]);const u=()=>{const d=document.getElementById("timeline-section");d&&d.scrollIntoView({behavior:"smooth"})},f={};iC.forEach(({year:d,male:g,female:v})=>{f[d]={male:g,female:v}});const h=d=>{const g=Object.keys(f).sort();let v=null;for(let b=0;b<g.length&&g[b]<=d;b++)v=g[b];return v?f[v]:{male:"Desconocido",female:"Desconocida"}},p=a.flatMap(d=>d.years.flatMap(g=>g.events.map(v=>({...v,year:g.year,chapterTitle:d.title}))));Z.useEffect(()=>{const d=()=>{const g=t.current.map(w=>w?Math.abs(w.getBoundingClientRect().top-window.innerHeight/2):1/0),v=Math.min(...g),b=g.indexOf(v);if(p[b]){const w=h(p[b].year);n({year:p[b].year,text:p[b].text,hakohenProtagonist:w.male,hakohenProtagonistFemale:w.female})}};return window.addEventListener("scroll",d,{passive:!0}),d(),()=>window.removeEventListener("scroll",d)},[p,h]);let y=0;const _=(m=a.flatMap(d=>d.years).find(d=>d.year===(e==null?void 0:e.year)))==null?void 0:m.backgroundUrl;return ee.jsxs("section",{children:[ee.jsxs("section",{className:Ct.titleSection,style:{display:l?"flex":"none"},onClick:u,role:"button",tabIndex:0,onKeyDown:d=>{d.key==="Enter"&&u()},children:[ee.jsx(kC,{}),ee.jsx("h1",{children:"TECNOBIBLIA"}),ee.jsx("h2",{children:"CREO QUE LAS BIBLIAS HABLAN SOBRE M"}),ee.jsx("h3",{children:"Siempre tuve la intuicin que tena que indagar en la historia del apellido Sinay, hasta me obsesion. Mi chosno materno, Mordejai Reuben HaKoen Sinay, de un linaje santo judo, fue uno de los primeros rabinos en llegar a la Argentina, pero nunca sospech que iba a encontrarme con este thriller proftico policial y con una carga y un dolor tan difciles de procesar."}),ee.jsx("h4",{children:"Lidiador Sinay"})]}),ee.jsxs("section",{className:Ct.SecondSection,children:[ee.jsx("h3",{children:"LA PALABRA"}),ee.jsx("h4",{children:"#Hakohen #TrataDePersonas #Len #Sionismo #AMIA #IdishColonizationAsossiation #LaVarsovia #ZwiMigdal #Inteligencia #Jueces #Polica #MapaDelPoderEconomico #Argentina #MoisesVille #Rosario #Dinastia #Astrologa #rbolGenealgico #ConstelacinFamiliar #Reiki #Talmud #Piratas"})]}),ee.jsx("div",{className:Ct.sidebarNav,children:a.map((d,g)=>ee.jsx("button",{onClick:()=>o(g),className:Ct.navButton,title:a[g].title,children:i[g]},g))}),ee.jsxs("section",{className:Ct.container,style:{backgroundImage:_?`url(${_})`:void 0,backgroundSize:"contain",backgroundRepeat:"repeat",backgroundPosition:"center",transition:"background-image 0.5s ease-in-out"},children:[e&&ee.jsx("div",{className:Ct.yearFixedLabel,children:e.year}),a.map((d,g)=>ee.jsxs("div",{ref:v=>r.current[g]=v,className:Ct.chapter,children:[ee.jsxs("h2",{className:Ct.chapterTitle,children:[d.title," ",ee.jsxs("span",{className:Ct.chapterDuration,children:["(",d.duration,")"]})]}),d.years.map((v,b)=>{const w=(e==null?void 0:e.year)===v.year;return ee.jsxs("div",{className:`${Ct.yearSection} ${w?Ct.yearSectionActive:""}`,children:[ee.jsx("h3",{className:Ct.yearTitle,children:v.year}),ee.jsx("ul",{className:`${Ct.eventsList} ${w?Ct.eventsListActive:""}`,children:v.events.map((T,x)=>{const P=e&&e.year===v.year&&e.text===T.text,E=y++;return ee.jsx("li",{ref:S=>t.current[E]=S,className:`${Ct.eventItem} ${P?Ct.eventItemActive:""}`,children:ee.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[ee.jsx("span",{className:`${Ct.eventBullet} ${P?Ct.eventBulletActive:""}`}),ee.jsxs("div",{children:[ee.jsx("strong",{className:Ct.eventContentStrong,children:T.name}),ee.jsx("div",{className:Ct.eventContentCities,children:Array.isArray(T.cities)?T.cities.join(", "):""}),ee.jsx("p",{className:Ct.eventContentText,children:T.text}),ee.jsx("button",{onClick:()=>s(T.text),children:" Escuchar"})]})]})},x)})})]},b)})]},g)),ee.jsx("div",{className:Ct.timelineLine})]}),e&&ee.jsx(rC,{year:e.year,male:e.hakohenProtagonist,female:e.hakohenProtagonistFemale})]})};function AR(){return ee.jsx(ee.Fragment,{children:ee.jsx("section",{children:ee.jsx(d1,{})})})}const TR=_1([{path:"/",element:ee.jsx(AR,{}),children:[{path:"/",element:ee.jsx(q1,{})},{path:"/crear",element:ee.jsx(Bu,{})},{path:"/conoceme",element:ee.jsx(Bu,{})},{path:"/creemos",element:ee.jsx(Bu,{})},{path:"/tecnobiblia",element:ee.jsx(ER,{})}]}]);ku.createRoot(document.getElementById("root")).render(ee.jsx(Ea.StrictMode,{children:ee.jsx(C1,{router:TR})}));
