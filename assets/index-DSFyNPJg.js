function hg(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const r=Object.getOwnPropertyDescriptor(i,a);r&&Object.defineProperty(t,a,r.get?r:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();function pg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mg={exports:{}},nc={},gg={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=Symbol.for("react.element"),by=Symbol.for("react.portal"),Ay=Symbol.for("react.fragment"),Ty=Symbol.for("react.strict_mode"),wy=Symbol.for("react.profiler"),Cy=Symbol.for("react.provider"),Ry=Symbol.for("react.context"),Py=Symbol.for("react.forward_ref"),Ly=Symbol.for("react.suspense"),Dy=Symbol.for("react.memo"),Iy=Symbol.for("react.lazy"),oh=Symbol.iterator;function Ny(t){return t===null||typeof t!="object"?null:(t=oh&&t[oh]||t["@@iterator"],typeof t=="function"?t:null)}var vg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yg=Object.assign,_g={};function $r(t,e,n){this.props=t,this.context=e,this.refs=_g,this.updater=n||vg}$r.prototype.isReactComponent={};$r.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$r.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xg(){}xg.prototype=$r.prototype;function Xd(t,e,n){this.props=t,this.context=e,this.refs=_g,this.updater=n||vg}var Kd=Xd.prototype=new xg;Kd.constructor=Xd;yg(Kd,$r.prototype);Kd.isPureReactComponent=!0;var sh=Array.isArray,Sg=Object.prototype.hasOwnProperty,Jd={current:null},Mg={key:!0,ref:!0,__self:!0,__source:!0};function Eg(t,e,n){var i,a={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)Sg.call(e,i)&&!Mg.hasOwnProperty(i)&&(a[i]=e[i]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(t&&t.defaultProps)for(i in s=t.defaultProps,s)a[i]===void 0&&(a[i]=s[i]);return{$$typeof:rs,type:t,key:r,ref:o,props:a,_owner:Jd.current}}function Uy(t,e){return{$$typeof:rs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yd(t){return typeof t=="object"&&t!==null&&t.$$typeof===rs}function zy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lh=/\/+/g;function Cc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zy(""+t.key):e.toString(36)}function ll(t,e,n,i,a){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rs:case by:o=!0}}if(o)return o=t,a=a(o),t=i===""?"."+Cc(o,0):i,sh(a)?(n="",t!=null&&(n=t.replace(lh,"$&/")+"/"),ll(a,e,n,"",function(c){return c})):a!=null&&(Yd(a)&&(a=Uy(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(lh,"$&/")+"/")+t)),e.push(a)),1;if(o=0,i=i===""?".":i+":",sh(t))for(var s=0;s<t.length;s++){r=t[s];var l=i+Cc(r,s);o+=ll(r,e,n,l,a)}else if(l=Ny(t),typeof l=="function")for(t=l.call(t),s=0;!(r=t.next()).done;)r=r.value,l=i+Cc(r,s++),o+=ll(r,e,n,l,a);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vs(t,e,n){if(t==null)return t;var i=[],a=0;return ll(t,i,"","",function(r){return e.call(n,r,a++)}),i}function Fy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cn={current:null},cl={transition:null},Oy={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:cl,ReactCurrentOwner:Jd};function bg(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:vs,forEach:function(t,e,n){vs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vs(t,function(){e++}),e},toArray:function(t){return vs(t,function(e){return e})||[]},only:function(t){if(!Yd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ze.Component=$r;Ze.Fragment=Ay;Ze.Profiler=wy;Ze.PureComponent=Xd;Ze.StrictMode=Ty;Ze.Suspense=Ly;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oy;Ze.act=bg;Ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=yg({},t.props),a=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=Jd.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)Sg.call(e,l)&&!Mg.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:rs,type:t.type,key:a,ref:r,props:i,_owner:o}};Ze.createContext=function(t){return t={$$typeof:Ry,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cy,_context:t},t.Consumer=t};Ze.createElement=Eg;Ze.createFactory=function(t){var e=Eg.bind(null,t);return e.type=t,e};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(t){return{$$typeof:Py,render:t}};Ze.isValidElement=Yd;Ze.lazy=function(t){return{$$typeof:Iy,_payload:{_status:-1,_result:t},_init:Fy}};Ze.memo=function(t,e){return{$$typeof:Dy,type:t,compare:e===void 0?null:e}};Ze.startTransition=function(t){var e=cl.transition;cl.transition={};try{t()}finally{cl.transition=e}};Ze.unstable_act=bg;Ze.useCallback=function(t,e){return cn.current.useCallback(t,e)};Ze.useContext=function(t){return cn.current.useContext(t)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(t){return cn.current.useDeferredValue(t)};Ze.useEffect=function(t,e){return cn.current.useEffect(t,e)};Ze.useId=function(){return cn.current.useId()};Ze.useImperativeHandle=function(t,e,n){return cn.current.useImperativeHandle(t,e,n)};Ze.useInsertionEffect=function(t,e){return cn.current.useInsertionEffect(t,e)};Ze.useLayoutEffect=function(t,e){return cn.current.useLayoutEffect(t,e)};Ze.useMemo=function(t,e){return cn.current.useMemo(t,e)};Ze.useReducer=function(t,e,n){return cn.current.useReducer(t,e,n)};Ze.useRef=function(t){return cn.current.useRef(t)};Ze.useState=function(t){return cn.current.useState(t)};Ze.useSyncExternalStore=function(t,e,n){return cn.current.useSyncExternalStore(t,e,n)};Ze.useTransition=function(){return cn.current.useTransition()};Ze.version="18.3.1";gg.exports=Ze;var Z=gg.exports;const bi=pg(Z),By=hg({__proto__:null,default:bi},[Z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky=Z,Hy=Symbol.for("react.element"),Vy=Symbol.for("react.fragment"),jy=Object.prototype.hasOwnProperty,Gy=ky.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wy={key:!0,ref:!0,__self:!0,__source:!0};function Ag(t,e,n){var i,a={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)jy.call(e,i)&&!Wy.hasOwnProperty(i)&&(a[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)a[i]===void 0&&(a[i]=e[i]);return{$$typeof:Hy,type:t,key:r,ref:o,props:a,_owner:Gy.current}}nc.Fragment=Vy;nc.jsx=Ag;nc.jsxs=Ag;mg.exports=nc;var ee=mg.exports,ku={},Tg={exports:{}},An={},wg={exports:{}},Cg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,q){var X=R.length;R.push(q);e:for(;0<X;){var ce=X-1>>>1,Ee=R[ce];if(0<a(Ee,q))R[ce]=q,R[X]=Ee,X=ce;else break e}}function n(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var q=R[0],X=R.pop();if(X!==q){R[0]=X;e:for(var ce=0,Ee=R.length,Ke=Ee>>>1;ce<Ke;){var j=2*(ce+1)-1,ie=R[j],ge=j+1,le=R[ge];if(0>a(ie,X))ge<Ee&&0>a(le,ie)?(R[ce]=le,R[ge]=X,ce=ge):(R[ce]=ie,R[j]=X,ce=j);else if(ge<Ee&&0>a(le,X))R[ce]=le,R[ge]=X,ce=ge;else break e}}return q}function a(R,q){var X=R.sortIndex-q.sortIndex;return X!==0?X:R.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,f=null,h=3,p=!1,y=!1,_=!1,m=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var q=n(c);q!==null;){if(q.callback===null)i(c);else if(q.startTime<=R)i(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function M(R){if(_=!1,v(R),!y)if(n(l)!==null)y=!0,se(w);else{var q=n(c);q!==null&&re(M,q.startTime-R)}}function w(R,q){y=!1,_&&(_=!1,d(P),P=-1),p=!0;var X=h;try{for(v(q),f=n(l);f!==null&&(!(f.expirationTime>q)||R&&!N());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,h=f.priorityLevel;var Ee=ce(f.expirationTime<=q);q=t.unstable_now(),typeof Ee=="function"?f.callback=Ee:f===n(l)&&i(l),v(q)}else i(l);f=n(l)}if(f!==null)var Ke=!0;else{var j=n(c);j!==null&&re(M,j.startTime-q),Ke=!1}return Ke}finally{f=null,h=X,p=!1}}var T=!1,x=null,P=-1,b=5,S=-1;function N(){return!(t.unstable_now()-S<b)}function W(){if(x!==null){var R=t.unstable_now();S=R;var q=!0;try{q=x(!0,R)}finally{q?D():(T=!1,x=null)}}else T=!1}var D;if(typeof g=="function")D=function(){g(W)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,J=K.port2;K.port1.onmessage=W,D=function(){J.postMessage(null)}}else D=function(){m(W,0)};function se(R){x=R,T||(T=!0,D())}function re(R,q){P=m(function(){R(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,se(w))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var X=h;h=q;try{return R()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,q){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var X=h;h=R;try{return q()}finally{h=X}},t.unstable_scheduleCallback=function(R,q,X){var ce=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ce+X:ce):X=ce,R){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=X+Ee,R={id:u++,callback:q,priorityLevel:R,startTime:X,expirationTime:Ee,sortIndex:-1},X>ce?(R.sortIndex=X,e(c,R),n(l)===null&&R===n(c)&&(_?(d(P),P=-1):_=!0,re(M,X-ce))):(R.sortIndex=Ee,e(l,R),y||p||(y=!0,se(w))),R},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(R){var q=h;return function(){var X=h;h=q;try{return R.apply(this,arguments)}finally{h=X}}}})(Cg);wg.exports=Cg;var qy=wg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy=Z,bn=qy;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rg=new Set,Oo={};function Ka(t,e){kr(t,e),kr(t+"Capture",e)}function kr(t,e){for(Oo[t]=e,t=0;t<e.length;t++)Rg.add(e[t])}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hu=Object.prototype.hasOwnProperty,Ky=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ch={},uh={};function Jy(t){return Hu.call(uh,t)?!0:Hu.call(ch,t)?!1:Ky.test(t)?uh[t]=!0:(ch[t]=!0,!1)}function Yy(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $y(t,e,n,i){if(e===null||typeof e>"u"||Yy(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function un(t,e,n,i,a,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kt[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kt[e]=new un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kt[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kt[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kt[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kt[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kt[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kt[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kt[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var $d=/[\-:]([a-z])/g;function Zd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($d,Zd);Kt[e]=new un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($d,Zd);Kt[e]=new un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($d,Zd);Kt[e]=new un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kt[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kt[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qd(t,e,n,i){var a=Kt.hasOwnProperty(e)?Kt[e]:null;(a!==null?a.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($y(e,n,a,i)&&(n=null),i||a===null?Jy(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):a.mustUseProperty?t[a.propertyName]=n===null?a.type===3?!1:"":n:(e=a.attributeName,i=a.attributeNamespace,n===null?t.removeAttribute(e):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Li=Xy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ys=Symbol.for("react.element"),vr=Symbol.for("react.portal"),yr=Symbol.for("react.fragment"),ef=Symbol.for("react.strict_mode"),Vu=Symbol.for("react.profiler"),Pg=Symbol.for("react.provider"),Lg=Symbol.for("react.context"),tf=Symbol.for("react.forward_ref"),ju=Symbol.for("react.suspense"),Gu=Symbol.for("react.suspense_list"),nf=Symbol.for("react.memo"),ji=Symbol.for("react.lazy"),Dg=Symbol.for("react.offscreen"),dh=Symbol.iterator;function ro(t){return t===null||typeof t!="object"?null:(t=dh&&t[dh]||t["@@iterator"],typeof t=="function"?t:null)}var Tt=Object.assign,Rc;function Eo(t){if(Rc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rc=e&&e[1]||""}return`
`+Rc+t}var Pc=!1;function Lc(t,e){if(!t||Pc)return"";Pc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),r=i.stack.split(`
`),o=a.length-1,s=r.length-1;1<=o&&0<=s&&a[o]!==r[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==r[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==r[s]){var l=`
`+a[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{Pc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Eo(t):""}function Zy(t){switch(t.tag){case 5:return Eo(t.type);case 16:return Eo("Lazy");case 13:return Eo("Suspense");case 19:return Eo("SuspenseList");case 0:case 2:case 15:return t=Lc(t.type,!1),t;case 11:return t=Lc(t.type.render,!1),t;case 1:return t=Lc(t.type,!0),t;default:return""}}function Wu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yr:return"Fragment";case vr:return"Portal";case Vu:return"Profiler";case ef:return"StrictMode";case ju:return"Suspense";case Gu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lg:return(t.displayName||"Context")+".Consumer";case Pg:return(t._context.displayName||"Context")+".Provider";case tf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nf:return e=t.displayName||null,e!==null?e:Wu(t.type)||"Memo";case ji:e=t._payload,t=t._init;try{return Wu(t(e))}catch{}}return null}function Qy(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wu(e);case 8:return e===ef?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ig(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function e_(t){var e=Ig(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _s(t){t._valueTracker||(t._valueTracker=e_(t))}function Ng(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Ig(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Sl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qu(t,e){var n=e.checked;return Tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fh(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=sa(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ug(t,e){e=e.checked,e!=null&&Qd(t,"checked",e,!1)}function Xu(t,e){Ug(t,e);var n=sa(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ku(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ku(t,e.type,sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ku(t,e,n){(e!=="number"||Sl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bo=Array.isArray;function Lr(t,e,n,i){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&i&&(t[n].defaultSelected=!0)}else{for(n=""+sa(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,i&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function Ju(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ph(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(bo(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:sa(n)}}function zg(t,e){var n=sa(e.value),i=sa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function mh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Fg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Fg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xs,Og=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,a){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xs=xs||document.createElement("div"),xs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t_=["Webkit","ms","Moz","O"];Object.keys(Co).forEach(function(t){t_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Co[e]=Co[t]})});function Bg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Co.hasOwnProperty(t)&&Co[t]?(""+e).trim():e+"px"}function kg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,a=Bg(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,a):t[n]=a}}var n_=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $u(t,e){if(e){if(n_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function Zu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=null;function af(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ed=null,Dr=null,Ir=null;function gh(t){if(t=ls(t)){if(typeof ed!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=sc(e),ed(t.stateNode,t.type,e))}}function Hg(t){Dr?Ir?Ir.push(t):Ir=[t]:Dr=t}function Vg(){if(Dr){var t=Dr,e=Ir;if(Ir=Dr=null,gh(t),e)for(t=0;t<e.length;t++)gh(e[t])}}function jg(t,e){return t(e)}function Gg(){}var Dc=!1;function Wg(t,e,n){if(Dc)return t(e,n);Dc=!0;try{return jg(t,e,n)}finally{Dc=!1,(Dr!==null||Ir!==null)&&(Gg(),Vg())}}function ko(t,e){var n=t.stateNode;if(n===null)return null;var i=sc(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var td=!1;if(wi)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){td=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{td=!1}function i_(t,e,n,i,a,r,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ro=!1,Ml=null,El=!1,nd=null,a_={onError:function(t){Ro=!0,Ml=t}};function r_(t,e,n,i,a,r,o,s,l){Ro=!1,Ml=null,i_.apply(a_,arguments)}function o_(t,e,n,i,a,r,o,s,l){if(r_.apply(this,arguments),Ro){if(Ro){var c=Ml;Ro=!1,Ml=null}else throw Error(oe(198));El||(El=!0,nd=c)}}function Ja(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vh(t){if(Ja(t)!==t)throw Error(oe(188))}function s_(t){var e=t.alternate;if(!e){if(e=Ja(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,i=e;;){var a=n.return;if(a===null)break;var r=a.alternate;if(r===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===n)return vh(a),t;if(r===i)return vh(a),e;r=r.sibling}throw Error(oe(188))}if(n.return!==i.return)n=a,i=r;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,i=r;break}if(s===i){o=!0,i=a,n=r;break}s=s.sibling}if(!o){for(s=r.child;s;){if(s===n){o=!0,n=r,i=a;break}if(s===i){o=!0,i=r,n=a;break}s=s.sibling}if(!o)throw Error(oe(189))}}if(n.alternate!==i)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function Xg(t){return t=s_(t),t!==null?Kg(t):null}function Kg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Kg(t);if(e!==null)return e;t=t.sibling}return null}var Jg=bn.unstable_scheduleCallback,yh=bn.unstable_cancelCallback,l_=bn.unstable_shouldYield,c_=bn.unstable_requestPaint,Pt=bn.unstable_now,u_=bn.unstable_getCurrentPriorityLevel,rf=bn.unstable_ImmediatePriority,Yg=bn.unstable_UserBlockingPriority,bl=bn.unstable_NormalPriority,d_=bn.unstable_LowPriority,$g=bn.unstable_IdlePriority,ic=null,li=null;function f_(t){if(li&&typeof li.onCommitFiberRoot=="function")try{li.onCommitFiberRoot(ic,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:m_,h_=Math.log,p_=Math.LN2;function m_(t){return t>>>=0,t===0?32:31-(h_(t)/p_|0)|0}var Ss=64,Ms=4194304;function Ao(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Al(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,a=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~a;s!==0?i=Ao(s):(r&=o,r!==0&&(i=Ao(r)))}else o=n&~a,o!==0?i=Ao(o):r!==0&&(i=Ao(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&a)&&(a=i&-i,r=e&-e,a>=r||a===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Yn(e),a=1<<n,i|=t[n],e&=~a;return i}function g_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v_(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-Yn(r),s=1<<o,l=a[o];l===-1?(!(s&n)||s&i)&&(a[o]=g_(s,e)):l<=e&&(t.expiredLanes|=s),r&=~s}}function id(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Zg(){var t=Ss;return Ss<<=1,!(Ss&4194240)&&(Ss=64),t}function Ic(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function os(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=n}function y_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var a=31-Yn(n),r=1<<a;e[a]=0,i[a]=-1,t[a]=-1,n&=~r}}function of(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Yn(n),a=1<<i;a&e|t[i]&e&&(t[i]|=e),n&=~a}}var st=0;function Qg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ev,sf,tv,nv,iv,ad=!1,Es=[],$i=null,Zi=null,Qi=null,Ho=new Map,Vo=new Map,Wi=[],__="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _h(t,e){switch(t){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":Ho.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(e.pointerId)}}function so(t,e,n,i,a,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[a]},e!==null&&(e=ls(e),e!==null&&sf(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function x_(t,e,n,i,a){switch(e){case"focusin":return $i=so($i,t,e,n,i,a),!0;case"dragenter":return Zi=so(Zi,t,e,n,i,a),!0;case"mouseover":return Qi=so(Qi,t,e,n,i,a),!0;case"pointerover":var r=a.pointerId;return Ho.set(r,so(Ho.get(r)||null,t,e,n,i,a)),!0;case"gotpointercapture":return r=a.pointerId,Vo.set(r,so(Vo.get(r)||null,t,e,n,i,a)),!0}return!1}function av(t){var e=La(t.target);if(e!==null){var n=Ja(e);if(n!==null){if(e=n.tag,e===13){if(e=qg(n),e!==null){t.blockedOn=e,iv(t.priority,function(){tv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ul(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Qu=i,n.target.dispatchEvent(i),Qu=null}else return e=ls(n),e!==null&&sf(e),t.blockedOn=n,!1;e.shift()}return!0}function xh(t,e,n){ul(t)&&n.delete(e)}function S_(){ad=!1,$i!==null&&ul($i)&&($i=null),Zi!==null&&ul(Zi)&&(Zi=null),Qi!==null&&ul(Qi)&&(Qi=null),Ho.forEach(xh),Vo.forEach(xh)}function lo(t,e){t.blockedOn===e&&(t.blockedOn=null,ad||(ad=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,S_)))}function jo(t){function e(a){return lo(a,t)}if(0<Es.length){lo(Es[0],t);for(var n=1;n<Es.length;n++){var i=Es[n];i.blockedOn===t&&(i.blockedOn=null)}}for($i!==null&&lo($i,t),Zi!==null&&lo(Zi,t),Qi!==null&&lo(Qi,t),Ho.forEach(e),Vo.forEach(e),n=0;n<Wi.length;n++)i=Wi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Wi.length&&(n=Wi[0],n.blockedOn===null);)av(n),n.blockedOn===null&&Wi.shift()}var Nr=Li.ReactCurrentBatchConfig,Tl=!0;function M_(t,e,n,i){var a=st,r=Nr.transition;Nr.transition=null;try{st=1,lf(t,e,n,i)}finally{st=a,Nr.transition=r}}function E_(t,e,n,i){var a=st,r=Nr.transition;Nr.transition=null;try{st=4,lf(t,e,n,i)}finally{st=a,Nr.transition=r}}function lf(t,e,n,i){if(Tl){var a=rd(t,e,n,i);if(a===null)jc(t,e,i,wl,n),_h(t,i);else if(x_(a,t,e,n,i))i.stopPropagation();else if(_h(t,i),e&4&&-1<__.indexOf(t)){for(;a!==null;){var r=ls(a);if(r!==null&&ev(r),r=rd(t,e,n,i),r===null&&jc(t,e,i,wl,n),r===a)break;a=r}a!==null&&i.stopPropagation()}else jc(t,e,i,null,n)}}var wl=null;function rd(t,e,n,i){if(wl=null,t=af(i),t=La(t),t!==null)if(e=Ja(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wl=t,null}function rv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u_()){case rf:return 1;case Yg:return 4;case bl:case d_:return 16;case $g:return 536870912;default:return 16}default:return 16}}var Ki=null,cf=null,dl=null;function ov(){if(dl)return dl;var t,e=cf,n=e.length,i,a="value"in Ki?Ki.value:Ki.textContent,r=a.length;for(t=0;t<n&&e[t]===a[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===a[r-i];i++);return dl=a.slice(t,1<i?1-i:void 0)}function fl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bs(){return!0}function Sh(){return!1}function Tn(t){function e(n,i,a,r,o){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(r):r[s]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?bs:Sh,this.isPropagationStopped=Sh,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),e}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uf=Tn(Zr),ss=Tt({},Zr,{view:0,detail:0}),b_=Tn(ss),Nc,Uc,co,ac=Tt({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:df,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==co&&(co&&t.type==="mousemove"?(Nc=t.screenX-co.screenX,Uc=t.screenY-co.screenY):Uc=Nc=0,co=t),Nc)},movementY:function(t){return"movementY"in t?t.movementY:Uc}}),Mh=Tn(ac),A_=Tt({},ac,{dataTransfer:0}),T_=Tn(A_),w_=Tt({},ss,{relatedTarget:0}),zc=Tn(w_),C_=Tt({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),R_=Tn(C_),P_=Tt({},Zr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),L_=Tn(P_),D_=Tt({},Zr,{data:0}),Eh=Tn(D_),I_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=U_[t])?!!e[t]:!1}function df(){return z_}var F_=Tt({},ss,{key:function(t){if(t.key){var e=I_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:df,charCode:function(t){return t.type==="keypress"?fl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),O_=Tn(F_),B_=Tt({},ac,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bh=Tn(B_),k_=Tt({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:df}),H_=Tn(k_),V_=Tt({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),j_=Tn(V_),G_=Tt({},ac,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W_=Tn(G_),q_=[9,13,27,32],ff=wi&&"CompositionEvent"in window,Po=null;wi&&"documentMode"in document&&(Po=document.documentMode);var X_=wi&&"TextEvent"in window&&!Po,sv=wi&&(!ff||Po&&8<Po&&11>=Po),Ah=" ",Th=!1;function lv(t,e){switch(t){case"keyup":return q_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _r=!1;function K_(t,e){switch(t){case"compositionend":return cv(e);case"keypress":return e.which!==32?null:(Th=!0,Ah);case"textInput":return t=e.data,t===Ah&&Th?null:t;default:return null}}function J_(t,e){if(_r)return t==="compositionend"||!ff&&lv(t,e)?(t=ov(),dl=cf=Ki=null,_r=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sv&&e.locale!=="ko"?null:e.data;default:return null}}var Y_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y_[t.type]:e==="textarea"}function uv(t,e,n,i){Hg(i),e=Cl(e,"onChange"),0<e.length&&(n=new uf("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Lo=null,Go=null;function $_(t){Sv(t,0)}function rc(t){var e=Mr(t);if(Ng(e))return t}function Z_(t,e){if(t==="change")return e}var dv=!1;if(wi){var Fc;if(wi){var Oc="oninput"in document;if(!Oc){var Ch=document.createElement("div");Ch.setAttribute("oninput","return;"),Oc=typeof Ch.oninput=="function"}Fc=Oc}else Fc=!1;dv=Fc&&(!document.documentMode||9<document.documentMode)}function Rh(){Lo&&(Lo.detachEvent("onpropertychange",fv),Go=Lo=null)}function fv(t){if(t.propertyName==="value"&&rc(Go)){var e=[];uv(e,Go,t,af(t)),Wg($_,e)}}function Q_(t,e,n){t==="focusin"?(Rh(),Lo=e,Go=n,Lo.attachEvent("onpropertychange",fv)):t==="focusout"&&Rh()}function ex(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rc(Go)}function tx(t,e){if(t==="click")return rc(e)}function nx(t,e){if(t==="input"||t==="change")return rc(e)}function ix(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qn=typeof Object.is=="function"?Object.is:ix;function Wo(t,e){if(Qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!Hu.call(e,a)||!Qn(t[a],e[a]))return!1}return!0}function Ph(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lh(t,e){var n=Ph(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ph(n)}}function hv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pv(){for(var t=window,e=Sl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sl(t.document)}return e}function hf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ax(t){var e=pv(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hv(n.ownerDocument.documentElement,n)){if(i!==null&&hf(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=n.textContent.length,r=Math.min(i.start,a);i=i.end===void 0?r:Math.min(i.end,a),!t.extend&&r>i&&(a=i,i=r,r=a),a=Lh(n,r);var o=Lh(n,i);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rx=wi&&"documentMode"in document&&11>=document.documentMode,xr=null,od=null,Do=null,sd=!1;function Dh(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sd||xr==null||xr!==Sl(i)||(i=xr,"selectionStart"in i&&hf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Do&&Wo(Do,i)||(Do=i,i=Cl(od,"onSelect"),0<i.length&&(e=new uf("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=xr)))}function As(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sr={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionend:As("Transition","TransitionEnd")},Bc={},mv={};wi&&(mv=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function oc(t){if(Bc[t])return Bc[t];if(!Sr[t])return t;var e=Sr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mv)return Bc[t]=e[n];return t}var gv=oc("animationend"),vv=oc("animationiteration"),yv=oc("animationstart"),_v=oc("transitionend"),xv=new Map,Ih="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fa(t,e){xv.set(t,e),Ka(e,[t])}for(var kc=0;kc<Ih.length;kc++){var Hc=Ih[kc],ox=Hc.toLowerCase(),sx=Hc[0].toUpperCase()+Hc.slice(1);fa(ox,"on"+sx)}fa(gv,"onAnimationEnd");fa(vv,"onAnimationIteration");fa(yv,"onAnimationStart");fa("dblclick","onDoubleClick");fa("focusin","onFocus");fa("focusout","onBlur");fa(_v,"onTransitionEnd");kr("onMouseEnter",["mouseout","mouseover"]);kr("onMouseLeave",["mouseout","mouseover"]);kr("onPointerEnter",["pointerout","pointerover"]);kr("onPointerLeave",["pointerout","pointerover"]);Ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ka("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lx=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function Nh(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,o_(i,e,void 0,t),t.currentTarget=null}function Sv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],a=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var s=i[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==r&&a.isPropagationStopped())break e;Nh(a,s,c),r=l}else for(o=0;o<i.length;o++){if(s=i[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==r&&a.isPropagationStopped())break e;Nh(a,s,c),r=l}}}if(El)throw t=nd,El=!1,nd=null,t}function pt(t,e){var n=e[fd];n===void 0&&(n=e[fd]=new Set);var i=t+"__bubble";n.has(i)||(Mv(e,t,2,!1),n.add(i))}function Vc(t,e,n){var i=0;e&&(i|=4),Mv(n,t,i,e)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function qo(t){if(!t[Ts]){t[Ts]=!0,Rg.forEach(function(n){n!=="selectionchange"&&(lx.has(n)||Vc(n,!1,t),Vc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ts]||(e[Ts]=!0,Vc("selectionchange",!1,e))}}function Mv(t,e,n,i){switch(rv(e)){case 1:var a=M_;break;case 4:a=E_;break;default:a=lf}n=a.bind(null,e,n,t),a=void 0,!td||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),i?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function jc(t,e,n,i,a){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var s=i.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=La(s),o===null)return;if(l=o.tag,l===5||l===6){i=r=o;continue e}s=s.parentNode}}i=i.return}Wg(function(){var c=r,u=af(n),f=[];e:{var h=xv.get(t);if(h!==void 0){var p=uf,y=t;switch(t){case"keypress":if(fl(n)===0)break e;case"keydown":case"keyup":p=O_;break;case"focusin":y="focus",p=zc;break;case"focusout":y="blur",p=zc;break;case"beforeblur":case"afterblur":p=zc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=T_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=H_;break;case gv:case vv:case yv:p=R_;break;case _v:p=j_;break;case"scroll":p=b_;break;case"wheel":p=W_;break;case"copy":case"cut":case"paste":p=L_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bh}var _=(e&4)!==0,m=!_&&t==="scroll",d=_?h!==null?h+"Capture":null:h;_=[];for(var g=c,v;g!==null;){v=g;var M=v.stateNode;if(v.tag===5&&M!==null&&(v=M,d!==null&&(M=ko(g,d),M!=null&&_.push(Xo(g,M,v)))),m)break;g=g.return}0<_.length&&(h=new p(h,y,null,n,u),f.push({event:h,listeners:_}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Qu&&(y=n.relatedTarget||n.fromElement)&&(La(y)||y[Ci]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?La(y):null,y!==null&&(m=Ja(y),y!==m||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(_=Mh,M="onMouseLeave",d="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=bh,M="onPointerLeave",d="onPointerEnter",g="pointer"),m=p==null?h:Mr(p),v=y==null?h:Mr(y),h=new _(M,g+"leave",p,n,u),h.target=m,h.relatedTarget=v,M=null,La(u)===c&&(_=new _(d,g+"enter",y,n,u),_.target=v,_.relatedTarget=m,M=_),m=M,p&&y)t:{for(_=p,d=y,g=0,v=_;v;v=Za(v))g++;for(v=0,M=d;M;M=Za(M))v++;for(;0<g-v;)_=Za(_),g--;for(;0<v-g;)d=Za(d),v--;for(;g--;){if(_===d||d!==null&&_===d.alternate)break t;_=Za(_),d=Za(d)}_=null}else _=null;p!==null&&Uh(f,h,p,_,!1),y!==null&&m!==null&&Uh(f,m,y,_,!0)}}e:{if(h=c?Mr(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=Z_;else if(wh(h))if(dv)w=nx;else{w=ex;var T=Q_}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=tx);if(w&&(w=w(t,c))){uv(f,w,n,u);break e}T&&T(t,h,c),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Ku(h,"number",h.value)}switch(T=c?Mr(c):window,t){case"focusin":(wh(T)||T.contentEditable==="true")&&(xr=T,od=c,Do=null);break;case"focusout":Do=od=xr=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,Dh(f,n,u);break;case"selectionchange":if(rx)break;case"keydown":case"keyup":Dh(f,n,u)}var x;if(ff)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else _r?lv(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(sv&&n.locale!=="ko"&&(_r||P!=="onCompositionStart"?P==="onCompositionEnd"&&_r&&(x=ov()):(Ki=u,cf="value"in Ki?Ki.value:Ki.textContent,_r=!0)),T=Cl(c,P),0<T.length&&(P=new Eh(P,t,null,n,u),f.push({event:P,listeners:T}),x?P.data=x:(x=cv(n),x!==null&&(P.data=x)))),(x=X_?K_(t,n):J_(t,n))&&(c=Cl(c,"onBeforeInput"),0<c.length&&(u=new Eh("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=x))}Sv(f,e)})}function Xo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cl(t,e){for(var n=e+"Capture",i=[];t!==null;){var a=t,r=a.stateNode;a.tag===5&&r!==null&&(a=r,r=ko(t,n),r!=null&&i.unshift(Xo(t,r,a)),r=ko(t,e),r!=null&&i.push(Xo(t,r,a))),t=t.return}return i}function Za(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uh(t,e,n,i,a){for(var r=e._reactName,o=[];n!==null&&n!==i;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===i)break;s.tag===5&&c!==null&&(s=c,a?(l=ko(n,r),l!=null&&o.unshift(Xo(n,l,s))):a||(l=ko(n,r),l!=null&&o.push(Xo(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cx=/\r\n?/g,ux=/\u0000|\uFFFD/g;function zh(t){return(typeof t=="string"?t:""+t).replace(cx,`
`).replace(ux,"")}function ws(t,e,n){if(e=zh(e),zh(t)!==e&&n)throw Error(oe(425))}function Rl(){}var ld=null,cd=null;function ud(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dd=typeof setTimeout=="function"?setTimeout:void 0,dx=typeof clearTimeout=="function"?clearTimeout:void 0,Fh=typeof Promise=="function"?Promise:void 0,fx=typeof queueMicrotask=="function"?queueMicrotask:typeof Fh<"u"?function(t){return Fh.resolve(null).then(t).catch(hx)}:dd;function hx(t){setTimeout(function(){throw t})}function Gc(t,e){var n=e,i=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(i===0){t.removeChild(a),jo(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=a}while(n);jo(e)}function ea(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Oh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qr=Math.random().toString(36).slice(2),ai="__reactFiber$"+Qr,Ko="__reactProps$"+Qr,Ci="__reactContainer$"+Qr,fd="__reactEvents$"+Qr,px="__reactListeners$"+Qr,mx="__reactHandles$"+Qr;function La(t){var e=t[ai];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ci]||n[ai]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Oh(t);t!==null;){if(n=t[ai])return n;t=Oh(t)}return e}t=n,n=t.parentNode}return null}function ls(t){return t=t[ai]||t[Ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function sc(t){return t[Ko]||null}var hd=[],Er=-1;function ha(t){return{current:t}}function gt(t){0>Er||(t.current=hd[Er],hd[Er]=null,Er--)}function ht(t,e){Er++,hd[Er]=t.current,t.current=e}var la={},tn=ha(la),mn=ha(!1),ka=la;function Hr(t,e){var n=t.type.contextTypes;if(!n)return la;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var a={},r;for(r in n)a[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function gn(t){return t=t.childContextTypes,t!=null}function Pl(){gt(mn),gt(tn)}function Bh(t,e,n){if(tn.current!==la)throw Error(oe(168));ht(tn,e),ht(mn,n)}function Ev(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var a in i)if(!(a in e))throw Error(oe(108,Qy(t)||"Unknown",a));return Tt({},n,i)}function Ll(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||la,ka=tn.current,ht(tn,t),ht(mn,mn.current),!0}function kh(t,e,n){var i=t.stateNode;if(!i)throw Error(oe(169));n?(t=Ev(t,e,ka),i.__reactInternalMemoizedMergedChildContext=t,gt(mn),gt(tn),ht(tn,t)):gt(mn),ht(mn,n)}var _i=null,lc=!1,Wc=!1;function bv(t){_i===null?_i=[t]:_i.push(t)}function gx(t){lc=!0,bv(t)}function pa(){if(!Wc&&_i!==null){Wc=!0;var t=0,e=st;try{var n=_i;for(st=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}_i=null,lc=!1}catch(a){throw _i!==null&&(_i=_i.slice(t+1)),Jg(rf,pa),a}finally{st=e,Wc=!1}}return null}var br=[],Ar=0,Dl=null,Il=0,Pn=[],Ln=0,Ha=null,Si=1,Mi="";function Aa(t,e){br[Ar++]=Il,br[Ar++]=Dl,Dl=t,Il=e}function Av(t,e,n){Pn[Ln++]=Si,Pn[Ln++]=Mi,Pn[Ln++]=Ha,Ha=t;var i=Si;t=Mi;var a=32-Yn(i)-1;i&=~(1<<a),n+=1;var r=32-Yn(e)+a;if(30<r){var o=a-a%5;r=(i&(1<<o)-1).toString(32),i>>=o,a-=o,Si=1<<32-Yn(e)+a|n<<a|i,Mi=r+t}else Si=1<<r|n<<a|i,Mi=t}function pf(t){t.return!==null&&(Aa(t,1),Av(t,1,0))}function mf(t){for(;t===Dl;)Dl=br[--Ar],br[Ar]=null,Il=br[--Ar],br[Ar]=null;for(;t===Ha;)Ha=Pn[--Ln],Pn[Ln]=null,Mi=Pn[--Ln],Pn[Ln]=null,Si=Pn[--Ln],Pn[Ln]=null}var En=null,Mn=null,St=!1,Kn=null;function Tv(t,e){var n=Nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,Mn=ea(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,Mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ha!==null?{id:Si,overflow:Mi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,En=t,Mn=null,!0):!1;default:return!1}}function pd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function md(t){if(St){var e=Mn;if(e){var n=e;if(!Hh(t,e)){if(pd(t))throw Error(oe(418));e=ea(n.nextSibling);var i=En;e&&Hh(t,e)?Tv(i,n):(t.flags=t.flags&-4097|2,St=!1,En=t)}}else{if(pd(t))throw Error(oe(418));t.flags=t.flags&-4097|2,St=!1,En=t}}}function Vh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function Cs(t){if(t!==En)return!1;if(!St)return Vh(t),St=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ud(t.type,t.memoizedProps)),e&&(e=Mn)){if(pd(t))throw wv(),Error(oe(418));for(;e;)Tv(t,e),e=ea(e.nextSibling)}if(Vh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mn=ea(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mn=null}}else Mn=En?ea(t.stateNode.nextSibling):null;return!0}function wv(){for(var t=Mn;t;)t=ea(t.nextSibling)}function Vr(){Mn=En=null,St=!1}function gf(t){Kn===null?Kn=[t]:Kn.push(t)}var vx=Li.ReactCurrentBatchConfig;function uo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var i=n.stateNode}if(!i)throw Error(oe(147,t));var a=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var s=a.refs;o===null?delete s[r]:s[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function Rs(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jh(t){var e=t._init;return e(t._payload)}function Cv(t){function e(d,g){if(t){var v=d.deletions;v===null?(d.deletions=[g],d.flags|=16):v.push(g)}}function n(d,g){if(!t)return null;for(;g!==null;)e(d,g),g=g.sibling;return null}function i(d,g){for(d=new Map;g!==null;)g.key!==null?d.set(g.key,g):d.set(g.index,g),g=g.sibling;return d}function a(d,g){return d=aa(d,g),d.index=0,d.sibling=null,d}function r(d,g,v){return d.index=v,t?(v=d.alternate,v!==null?(v=v.index,v<g?(d.flags|=2,g):v):(d.flags|=2,g)):(d.flags|=1048576,g)}function o(d){return t&&d.alternate===null&&(d.flags|=2),d}function s(d,g,v,M){return g===null||g.tag!==6?(g=Zc(v,d.mode,M),g.return=d,g):(g=a(g,v),g.return=d,g)}function l(d,g,v,M){var w=v.type;return w===yr?u(d,g,v.props.children,M,v.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ji&&jh(w)===g.type)?(M=a(g,v.props),M.ref=uo(d,g,v),M.return=d,M):(M=_l(v.type,v.key,v.props,null,d.mode,M),M.ref=uo(d,g,v),M.return=d,M)}function c(d,g,v,M){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Qc(v,d.mode,M),g.return=d,g):(g=a(g,v.children||[]),g.return=d,g)}function u(d,g,v,M,w){return g===null||g.tag!==7?(g=Ba(v,d.mode,M,w),g.return=d,g):(g=a(g,v),g.return=d,g)}function f(d,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Zc(""+g,d.mode,v),g.return=d,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ys:return v=_l(g.type,g.key,g.props,null,d.mode,v),v.ref=uo(d,null,g),v.return=d,v;case vr:return g=Qc(g,d.mode,v),g.return=d,g;case ji:var M=g._init;return f(d,M(g._payload),v)}if(bo(g)||ro(g))return g=Ba(g,d.mode,v,null),g.return=d,g;Rs(d,g)}return null}function h(d,g,v,M){var w=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:s(d,g,""+v,M);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ys:return v.key===w?l(d,g,v,M):null;case vr:return v.key===w?c(d,g,v,M):null;case ji:return w=v._init,h(d,g,w(v._payload),M)}if(bo(v)||ro(v))return w!==null?null:u(d,g,v,M,null);Rs(d,v)}return null}function p(d,g,v,M,w){if(typeof M=="string"&&M!==""||typeof M=="number")return d=d.get(v)||null,s(g,d,""+M,w);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ys:return d=d.get(M.key===null?v:M.key)||null,l(g,d,M,w);case vr:return d=d.get(M.key===null?v:M.key)||null,c(g,d,M,w);case ji:var T=M._init;return p(d,g,v,T(M._payload),w)}if(bo(M)||ro(M))return d=d.get(v)||null,u(g,d,M,w,null);Rs(g,M)}return null}function y(d,g,v,M){for(var w=null,T=null,x=g,P=g=0,b=null;x!==null&&P<v.length;P++){x.index>P?(b=x,x=null):b=x.sibling;var S=h(d,x,v[P],M);if(S===null){x===null&&(x=b);break}t&&x&&S.alternate===null&&e(d,x),g=r(S,g,P),T===null?w=S:T.sibling=S,T=S,x=b}if(P===v.length)return n(d,x),St&&Aa(d,P),w;if(x===null){for(;P<v.length;P++)x=f(d,v[P],M),x!==null&&(g=r(x,g,P),T===null?w=x:T.sibling=x,T=x);return St&&Aa(d,P),w}for(x=i(d,x);P<v.length;P++)b=p(x,d,P,v[P],M),b!==null&&(t&&b.alternate!==null&&x.delete(b.key===null?P:b.key),g=r(b,g,P),T===null?w=b:T.sibling=b,T=b);return t&&x.forEach(function(N){return e(d,N)}),St&&Aa(d,P),w}function _(d,g,v,M){var w=ro(v);if(typeof w!="function")throw Error(oe(150));if(v=w.call(v),v==null)throw Error(oe(151));for(var T=w=null,x=g,P=g=0,b=null,S=v.next();x!==null&&!S.done;P++,S=v.next()){x.index>P?(b=x,x=null):b=x.sibling;var N=h(d,x,S.value,M);if(N===null){x===null&&(x=b);break}t&&x&&N.alternate===null&&e(d,x),g=r(N,g,P),T===null?w=N:T.sibling=N,T=N,x=b}if(S.done)return n(d,x),St&&Aa(d,P),w;if(x===null){for(;!S.done;P++,S=v.next())S=f(d,S.value,M),S!==null&&(g=r(S,g,P),T===null?w=S:T.sibling=S,T=S);return St&&Aa(d,P),w}for(x=i(d,x);!S.done;P++,S=v.next())S=p(x,d,P,S.value,M),S!==null&&(t&&S.alternate!==null&&x.delete(S.key===null?P:S.key),g=r(S,g,P),T===null?w=S:T.sibling=S,T=S);return t&&x.forEach(function(W){return e(d,W)}),St&&Aa(d,P),w}function m(d,g,v,M){if(typeof v=="object"&&v!==null&&v.type===yr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ys:e:{for(var w=v.key,T=g;T!==null;){if(T.key===w){if(w=v.type,w===yr){if(T.tag===7){n(d,T.sibling),g=a(T,v.props.children),g.return=d,d=g;break e}}else if(T.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ji&&jh(w)===T.type){n(d,T.sibling),g=a(T,v.props),g.ref=uo(d,T,v),g.return=d,d=g;break e}n(d,T);break}else e(d,T);T=T.sibling}v.type===yr?(g=Ba(v.props.children,d.mode,M,v.key),g.return=d,d=g):(M=_l(v.type,v.key,v.props,null,d.mode,M),M.ref=uo(d,g,v),M.return=d,d=M)}return o(d);case vr:e:{for(T=v.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(d,g.sibling),g=a(g,v.children||[]),g.return=d,d=g;break e}else{n(d,g);break}else e(d,g);g=g.sibling}g=Qc(v,d.mode,M),g.return=d,d=g}return o(d);case ji:return T=v._init,m(d,g,T(v._payload),M)}if(bo(v))return y(d,g,v,M);if(ro(v))return _(d,g,v,M);Rs(d,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(d,g.sibling),g=a(g,v),g.return=d,d=g):(n(d,g),g=Zc(v,d.mode,M),g.return=d,d=g),o(d)):n(d,g)}return m}var jr=Cv(!0),Rv=Cv(!1),Nl=ha(null),Ul=null,Tr=null,vf=null;function yf(){vf=Tr=Ul=null}function _f(t){var e=Nl.current;gt(Nl),t._currentValue=e}function gd(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ur(t,e){Ul=t,vf=Tr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pn=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(vf!==t)if(t={context:t,memoizedValue:e,next:null},Tr===null){if(Ul===null)throw Error(oe(308));Tr=t,Ul.dependencies={lanes:0,firstContext:t}}else Tr=Tr.next=t;return e}var Da=null;function xf(t){Da===null?Da=[t]:Da.push(t)}function Pv(t,e,n,i){var a=e.interleaved;return a===null?(n.next=n,xf(e)):(n.next=a.next,a.next=n),e.interleaved=n,Ri(t,i)}function Ri(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gi=!1;function Sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ai(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ta(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,it&2){var a=i.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),i.pending=e,Ri(t,n)}return a=i.interleaved,a===null?(e.next=e,xf(i)):(e.next=a.next,a.next=e),i.interleaved=e,Ri(t,n)}function hl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,of(t,n)}}function Gh(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?a=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?a=r=e:r=r.next=e}else a=r=e;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zl(t,e,n,i){var a=t.updateQueue;Gi=!1;var r=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(r!==null){var f=a.baseState;o=0,u=c=l=null,s=r;do{var h=s.lane,p=s.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,_=s;switch(h=e,p=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=Tt({},f,h);break e;case 2:Gi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,e=a.shared.interleaved,e!==null){a=e;do o|=a.lane,a=a.next;while(a!==e)}else r===null&&(a.shared.lanes=0);ja|=o,t.lanes=o,t.memoizedState=f}}function Wh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],a=i.callback;if(a!==null){if(i.callback=null,i=n,typeof a!="function")throw Error(oe(191,a));a.call(i)}}}var cs={},ci=ha(cs),Jo=ha(cs),Yo=ha(cs);function Ia(t){if(t===cs)throw Error(oe(174));return t}function Mf(t,e){switch(ht(Yo,e),ht(Jo,t),ht(ci,cs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yu(e,t)}gt(ci),ht(ci,e)}function Gr(){gt(ci),gt(Jo),gt(Yo)}function Dv(t){Ia(Yo.current);var e=Ia(ci.current),n=Yu(e,t.type);e!==n&&(ht(Jo,t),ht(ci,n))}function Ef(t){Jo.current===t&&(gt(ci),gt(Jo))}var Et=ha(0);function Fl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qc=[];function bf(){for(var t=0;t<qc.length;t++)qc[t]._workInProgressVersionPrimary=null;qc.length=0}var pl=Li.ReactCurrentDispatcher,Xc=Li.ReactCurrentBatchConfig,Va=0,bt=null,Ft=null,Vt=null,Ol=!1,Io=!1,$o=0,yx=0;function Yt(){throw Error(oe(321))}function Af(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qn(t[n],e[n]))return!1;return!0}function Tf(t,e,n,i,a,r){if(Va=r,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pl.current=t===null||t.memoizedState===null?Mx:Ex,t=n(i,a),Io){r=0;do{if(Io=!1,$o=0,25<=r)throw Error(oe(301));r+=1,Vt=Ft=null,e.updateQueue=null,pl.current=bx,t=n(i,a)}while(Io)}if(pl.current=Bl,e=Ft!==null&&Ft.next!==null,Va=0,Vt=Ft=bt=null,Ol=!1,e)throw Error(oe(300));return t}function wf(){var t=$o!==0;return $o=0,t}function ti(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?bt.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Bn(){if(Ft===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Vt===null?bt.memoizedState:Vt.next;if(e!==null)Vt=e,Ft=t;else{if(t===null)throw Error(oe(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Vt===null?bt.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Zo(t,e){return typeof e=="function"?e(t):e}function Kc(t){var e=Bn(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var i=Ft,a=i.baseQueue,r=n.pending;if(r!==null){if(a!==null){var o=a.next;a.next=r.next,r.next=o}i.baseQueue=a=r,n.pending=null}if(a!==null){r=a.next,i=i.baseState;var s=o=null,l=null,c=r;do{var u=c.lane;if((Va&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=i):l=l.next=f,bt.lanes|=u,ja|=u}c=c.next}while(c!==null&&c!==r);l===null?o=i:l.next=s,Qn(i,e.memoizedState)||(pn=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){a=t;do r=a.lane,bt.lanes|=r,ja|=r,a=a.next;while(a!==t)}else a===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jc(t){var e=Bn(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var i=n.dispatch,a=n.pending,r=e.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do r=t(r,o.action),o=o.next;while(o!==a);Qn(r,e.memoizedState)||(pn=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function Iv(){}function Nv(t,e){var n=bt,i=Bn(),a=e(),r=!Qn(i.memoizedState,a);if(r&&(i.memoizedState=a,pn=!0),i=i.queue,Cf(Fv.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||Vt!==null&&Vt.memoizedState.tag&1){if(n.flags|=2048,Qo(9,zv.bind(null,n,i,a,e),void 0,null),Gt===null)throw Error(oe(349));Va&30||Uv(n,e,a)}return a}function Uv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zv(t,e,n,i){e.value=n,e.getSnapshot=i,Ov(e)&&Bv(t)}function Fv(t,e,n){return n(function(){Ov(e)&&Bv(t)})}function Ov(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qn(t,n)}catch{return!0}}function Bv(t){var e=Ri(t,1);e!==null&&$n(e,t,1,-1)}function qh(t){var e=ti();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:t},e.queue=t,t=t.dispatch=Sx.bind(null,bt,t),[e.memoizedState,t]}function Qo(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function kv(){return Bn().memoizedState}function ml(t,e,n,i){var a=ti();bt.flags|=t,a.memoizedState=Qo(1|e,n,void 0,i===void 0?null:i)}function cc(t,e,n,i){var a=Bn();i=i===void 0?null:i;var r=void 0;if(Ft!==null){var o=Ft.memoizedState;if(r=o.destroy,i!==null&&Af(i,o.deps)){a.memoizedState=Qo(e,n,r,i);return}}bt.flags|=t,a.memoizedState=Qo(1|e,n,r,i)}function Xh(t,e){return ml(8390656,8,t,e)}function Cf(t,e){return cc(2048,8,t,e)}function Hv(t,e){return cc(4,2,t,e)}function Vv(t,e){return cc(4,4,t,e)}function jv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gv(t,e,n){return n=n!=null?n.concat([t]):null,cc(4,4,jv.bind(null,e,t),n)}function Rf(){}function Wv(t,e){var n=Bn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Af(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function qv(t,e){var n=Bn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Af(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Xv(t,e,n){return Va&21?(Qn(n,e)||(n=Zg(),bt.lanes|=n,ja|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pn=!0),t.memoizedState=n)}function _x(t,e){var n=st;st=n!==0&&4>n?n:4,t(!0);var i=Xc.transition;Xc.transition={};try{t(!1),e()}finally{st=n,Xc.transition=i}}function Kv(){return Bn().memoizedState}function xx(t,e,n){var i=ia(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Jv(t))Yv(e,n);else if(n=Pv(t,e,n,i),n!==null){var a=sn();$n(n,t,i,a),$v(n,e,i)}}function Sx(t,e,n){var i=ia(t),a={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jv(t))Yv(e,a);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,s=r(o,n);if(a.hasEagerState=!0,a.eagerState=s,Qn(s,o)){var l=e.interleaved;l===null?(a.next=a,xf(e)):(a.next=l.next,l.next=a),e.interleaved=a;return}}catch{}finally{}n=Pv(t,e,a,i),n!==null&&(a=sn(),$n(n,t,i,a),$v(n,e,i))}}function Jv(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function Yv(t,e){Io=Ol=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $v(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,of(t,n)}}var Bl={readContext:On,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},Mx={readContext:On,useCallback:function(t,e){return ti().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:Xh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ml(4194308,4,jv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ml(4194308,4,t,e)},useInsertionEffect:function(t,e){return ml(4,2,t,e)},useMemo:function(t,e){var n=ti();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=ti();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=xx.bind(null,bt,t),[i.memoizedState,t]},useRef:function(t){var e=ti();return t={current:t},e.memoizedState=t},useState:qh,useDebugValue:Rf,useDeferredValue:function(t){return ti().memoizedState=t},useTransition:function(){var t=qh(!1),e=t[0];return t=_x.bind(null,t[1]),ti().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=bt,a=ti();if(St){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),Gt===null)throw Error(oe(349));Va&30||Uv(i,e,n)}a.memoizedState=n;var r={value:n,getSnapshot:e};return a.queue=r,Xh(Fv.bind(null,i,r,t),[t]),i.flags|=2048,Qo(9,zv.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=ti(),e=Gt.identifierPrefix;if(St){var n=Mi,i=Si;n=(i&~(1<<32-Yn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=$o++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ex={readContext:On,useCallback:Wv,useContext:On,useEffect:Cf,useImperativeHandle:Gv,useInsertionEffect:Hv,useLayoutEffect:Vv,useMemo:qv,useReducer:Kc,useRef:kv,useState:function(){return Kc(Zo)},useDebugValue:Rf,useDeferredValue:function(t){var e=Bn();return Xv(e,Ft.memoizedState,t)},useTransition:function(){var t=Kc(Zo)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:Iv,useSyncExternalStore:Nv,useId:Kv,unstable_isNewReconciler:!1},bx={readContext:On,useCallback:Wv,useContext:On,useEffect:Cf,useImperativeHandle:Gv,useInsertionEffect:Hv,useLayoutEffect:Vv,useMemo:qv,useReducer:Jc,useRef:kv,useState:function(){return Jc(Zo)},useDebugValue:Rf,useDeferredValue:function(t){var e=Bn();return Ft===null?e.memoizedState=t:Xv(e,Ft.memoizedState,t)},useTransition:function(){var t=Jc(Zo)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:Iv,useSyncExternalStore:Nv,useId:Kv,unstable_isNewReconciler:!1};function Wn(t,e){if(t&&t.defaultProps){e=Tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vd(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uc={isMounted:function(t){return(t=t._reactInternals)?Ja(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=sn(),a=ia(t),r=Ai(i,a);r.payload=e,n!=null&&(r.callback=n),e=ta(t,r,a),e!==null&&($n(e,t,a,i),hl(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=sn(),a=ia(t),r=Ai(i,a);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=ta(t,r,a),e!==null&&($n(e,t,a,i),hl(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),i=ia(t),a=Ai(n,i);a.tag=2,e!=null&&(a.callback=e),e=ta(t,a,i),e!==null&&($n(e,t,i,n),hl(e,t,i))}};function Kh(t,e,n,i,a,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!Wo(n,i)||!Wo(a,r):!0}function Zv(t,e,n){var i=!1,a=la,r=e.contextType;return typeof r=="object"&&r!==null?r=On(r):(a=gn(e)?ka:tn.current,i=e.contextTypes,r=(i=i!=null)?Hr(t,a):la),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uc,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=r),e}function Jh(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&uc.enqueueReplaceState(e,e.state,null)}function yd(t,e,n,i){var a=t.stateNode;a.props=n,a.state=t.memoizedState,a.refs={},Sf(t);var r=e.contextType;typeof r=="object"&&r!==null?a.context=On(r):(r=gn(e)?ka:tn.current,a.context=Hr(t,r)),a.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(vd(t,e,r,n),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&uc.enqueueReplaceState(a,a.state,null),zl(t,n,a,i),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Wr(t,e){try{var n="",i=e;do n+=Zy(i),i=i.return;while(i);var a=n}catch(r){a=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:a,digest:null}}function Yc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _d(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ax=typeof WeakMap=="function"?WeakMap:Map;function Qv(t,e,n){n=Ai(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Hl||(Hl=!0,Rd=i),_d(t,e)},n}function e0(t,e,n){n=Ai(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var a=e.value;n.payload=function(){return i(a)},n.callback=function(){_d(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){_d(t,e),typeof i!="function"&&(na===null?na=new Set([this]):na.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Yh(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Ax;var a=new Set;i.set(e,a)}else a=i.get(e),a===void 0&&(a=new Set,i.set(e,a));a.has(n)||(a.add(n),t=Bx.bind(null,t,e,n),e.then(t,t))}function $h(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zh(t,e,n,i,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ai(-1,1),e.tag=2,ta(n,e,1))),n.lanes|=1),t)}var Tx=Li.ReactCurrentOwner,pn=!1;function on(t,e,n,i){e.child=t===null?Rv(e,null,n,i):jr(e,t.child,n,i)}function Qh(t,e,n,i,a){n=n.render;var r=e.ref;return Ur(e,a),i=Tf(t,e,n,i,r,a),n=wf(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Pi(t,e,a)):(St&&n&&pf(e),e.flags|=1,on(t,e,i,a),e.child)}function ep(t,e,n,i,a){if(t===null){var r=n.type;return typeof r=="function"&&!Ff(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,t0(t,e,r,i,a)):(t=_l(n.type,null,i,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&a)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:Wo,n(o,i)&&t.ref===e.ref)return Pi(t,e,a)}return e.flags|=1,t=aa(r,i),t.ref=e.ref,t.return=e,e.child=t}function t0(t,e,n,i,a){if(t!==null){var r=t.memoizedProps;if(Wo(r,i)&&t.ref===e.ref)if(pn=!1,e.pendingProps=i=r,(t.lanes&a)!==0)t.flags&131072&&(pn=!0);else return e.lanes=t.lanes,Pi(t,e,a)}return xd(t,e,n,i,a)}function n0(t,e,n){var i=e.pendingProps,a=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Cr,Sn),Sn|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ht(Cr,Sn),Sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,ht(Cr,Sn),Sn|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,ht(Cr,Sn),Sn|=i;return on(t,e,a,n),e.child}function i0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xd(t,e,n,i,a){var r=gn(n)?ka:tn.current;return r=Hr(e,r),Ur(e,a),n=Tf(t,e,n,i,r,a),i=wf(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Pi(t,e,a)):(St&&i&&pf(e),e.flags|=1,on(t,e,n,a),e.child)}function tp(t,e,n,i,a){if(gn(n)){var r=!0;Ll(e)}else r=!1;if(Ur(e,a),e.stateNode===null)gl(t,e),Zv(e,n,i),yd(e,n,i,a),i=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=On(c):(c=gn(n)?ka:tn.current,c=Hr(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==i||l!==c)&&Jh(e,o,i,c),Gi=!1;var h=e.memoizedState;o.state=h,zl(e,i,o,a),l=e.memoizedState,s!==i||h!==l||mn.current||Gi?(typeof u=="function"&&(vd(e,n,u,i),l=e.memoizedState),(s=Gi||Kh(e,n,s,i,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Lv(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Wn(e.type,s),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=On(l):(l=gn(n)?ka:tn.current,l=Hr(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&Jh(e,o,i,l),Gi=!1,h=e.memoizedState,o.state=h,zl(e,i,o,a);var y=e.memoizedState;s!==f||h!==y||mn.current||Gi?(typeof p=="function"&&(vd(e,n,p,i),y=e.memoizedState),(c=Gi||Kh(e,n,c,i,h,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return Sd(t,e,n,i,r,a)}function Sd(t,e,n,i,a,r){i0(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return a&&kh(e,n,!1),Pi(t,e,r);i=e.stateNode,Tx.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=jr(e,t.child,null,r),e.child=jr(e,null,s,r)):on(t,e,s,r),e.memoizedState=i.state,a&&kh(e,n,!0),e.child}function a0(t){var e=t.stateNode;e.pendingContext?Bh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Bh(t,e.context,!1),Mf(t,e.containerInfo)}function np(t,e,n,i,a){return Vr(),gf(a),e.flags|=256,on(t,e,n,i),e.child}var Md={dehydrated:null,treeContext:null,retryLane:0};function Ed(t){return{baseLanes:t,cachePool:null,transitions:null}}function r0(t,e,n){var i=e.pendingProps,a=Et.current,r=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(a&2)!==0),s?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),ht(Et,a&1),t===null)return md(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=hc(o,i,0,null),t=Ba(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Ed(n),e.memoizedState=Md,t):Pf(e,o));if(a=t.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return wx(t,e,o,i,s,a,n);if(r){r=i.fallback,o=e.mode,a=t.child,s=a.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==a?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=aa(a,l),i.subtreeFlags=a.subtreeFlags&14680064),s!==null?r=aa(s,r):(r=Ba(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o=o===null?Ed(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=Md,i}return r=t.child,t=r.sibling,i=aa(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Pf(t,e){return e=hc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ps(t,e,n,i){return i!==null&&gf(i),jr(e,t.child,null,n),t=Pf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wx(t,e,n,i,a,r,o){if(n)return e.flags&256?(e.flags&=-257,i=Yc(Error(oe(422))),Ps(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,a=e.mode,i=hc({mode:"visible",children:i.children},a,0,null),r=Ba(r,a,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&jr(e,t.child,null,o),e.child.memoizedState=Ed(o),e.memoizedState=Md,r);if(!(e.mode&1))return Ps(t,e,o,null);if(a.data==="$!"){if(i=a.nextSibling&&a.nextSibling.dataset,i)var s=i.dgst;return i=s,r=Error(oe(419)),i=Yc(r,i,void 0),Ps(t,e,o,i)}if(s=(o&t.childLanes)!==0,pn||s){if(i=Gt,i!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(i.suspendedLanes|o)?0:a,a!==0&&a!==r.retryLane&&(r.retryLane=a,Ri(t,a),$n(i,t,a,-1))}return zf(),i=Yc(Error(oe(421))),Ps(t,e,o,i)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=kx.bind(null,t),a._reactRetry=e,null):(t=r.treeContext,Mn=ea(a.nextSibling),En=e,St=!0,Kn=null,t!==null&&(Pn[Ln++]=Si,Pn[Ln++]=Mi,Pn[Ln++]=Ha,Si=t.id,Mi=t.overflow,Ha=e),e=Pf(e,i.children),e.flags|=4096,e)}function ip(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),gd(t.return,e,n)}function $c(t,e,n,i,a){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=a)}function o0(t,e,n){var i=e.pendingProps,a=i.revealOrder,r=i.tail;if(on(t,e,i.children,n),i=Et.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ip(t,n,e);else if(t.tag===19)ip(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ht(Et,i),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&Fl(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),$c(e,!1,a,n,r);break;case"backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Fl(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}$c(e,!0,n,null,r);break;case"together":$c(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ja|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=aa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=aa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Cx(t,e,n){switch(e.tag){case 3:a0(e),Vr();break;case 5:Dv(e);break;case 1:gn(e.type)&&Ll(e);break;case 4:Mf(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,a=e.memoizedProps.value;ht(Nl,i._currentValue),i._currentValue=a;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ht(Et,Et.current&1),e.flags|=128,null):n&e.child.childLanes?r0(t,e,n):(ht(Et,Et.current&1),t=Pi(t,e,n),t!==null?t.sibling:null);ht(Et,Et.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return o0(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ht(Et,Et.current),i)break;return null;case 22:case 23:return e.lanes=0,n0(t,e,n)}return Pi(t,e,n)}var s0,bd,l0,c0;s0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bd=function(){};l0=function(t,e,n,i){var a=t.memoizedProps;if(a!==i){t=e.stateNode,Ia(ci.current);var r=null;switch(n){case"input":a=qu(t,a),i=qu(t,i),r=[];break;case"select":a=Tt({},a,{value:void 0}),i=Tt({},i,{value:void 0}),r=[];break;case"textarea":a=Ju(t,a),i=Ju(t,i),r=[];break;default:typeof a.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Rl)}$u(n,i);var o;n=null;for(c in a)if(!i.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Oo.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in i){var l=i[c];if(s=a!=null?a[c]:void 0,i.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Oo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&pt("scroll",t),r||s===l||(r=[])):(r=r||[]).push(c,l))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};c0=function(t,e,n,i){n!==i&&(e.flags|=4)};function fo(t,e){if(!St)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&14680064,i|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Rx(t,e,n){var i=e.pendingProps;switch(mf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return gn(e.type)&&Pl(),$t(e),null;case 3:return i=e.stateNode,Gr(),gt(mn),gt(tn),bf(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Cs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kn!==null&&(Dd(Kn),Kn=null))),bd(t,e),$t(e),null;case 5:Ef(e);var a=Ia(Yo.current);if(n=e.type,t!==null&&e.stateNode!=null)l0(t,e,n,i,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(oe(166));return $t(e),null}if(t=Ia(ci.current),Cs(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[ai]=e,i[Ko]=r,t=(e.mode&1)!==0,n){case"dialog":pt("cancel",i),pt("close",i);break;case"iframe":case"object":case"embed":pt("load",i);break;case"video":case"audio":for(a=0;a<To.length;a++)pt(To[a],i);break;case"source":pt("error",i);break;case"img":case"image":case"link":pt("error",i),pt("load",i);break;case"details":pt("toggle",i);break;case"input":fh(i,r),pt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},pt("invalid",i);break;case"textarea":ph(i,r),pt("invalid",i)}$u(n,r),a=null;for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];o==="children"?typeof s=="string"?i.textContent!==s&&(r.suppressHydrationWarning!==!0&&ws(i.textContent,s,t),a=["children",s]):typeof s=="number"&&i.textContent!==""+s&&(r.suppressHydrationWarning!==!0&&ws(i.textContent,s,t),a=["children",""+s]):Oo.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&pt("scroll",i)}switch(n){case"input":_s(i),hh(i,r,!0);break;case"textarea":_s(i),mh(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=Rl)}i=a,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[ai]=e,t[Ko]=i,s0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zu(n,i),n){case"dialog":pt("cancel",t),pt("close",t),a=i;break;case"iframe":case"object":case"embed":pt("load",t),a=i;break;case"video":case"audio":for(a=0;a<To.length;a++)pt(To[a],t);a=i;break;case"source":pt("error",t),a=i;break;case"img":case"image":case"link":pt("error",t),pt("load",t),a=i;break;case"details":pt("toggle",t),a=i;break;case"input":fh(t,i),a=qu(t,i),pt("invalid",t);break;case"option":a=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},a=Tt({},i,{value:void 0}),pt("invalid",t);break;case"textarea":ph(t,i),a=Ju(t,i),pt("invalid",t);break;default:a=i}$u(n,a),s=a;for(r in s)if(s.hasOwnProperty(r)){var l=s[r];r==="style"?kg(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Og(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bo(t,l):typeof l=="number"&&Bo(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Oo.hasOwnProperty(r)?l!=null&&r==="onScroll"&&pt("scroll",t):l!=null&&Qd(t,r,l,o))}switch(n){case"input":_s(t),hh(t,i,!1);break;case"textarea":_s(t),mh(t);break;case"option":i.value!=null&&t.setAttribute("value",""+sa(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?Lr(t,!!i.multiple,r,!1):i.defaultValue!=null&&Lr(t,!!i.multiple,i.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Rl)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)c0(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(oe(166));if(n=Ia(Yo.current),Ia(ci.current),Cs(e)){if(i=e.stateNode,n=e.memoizedProps,i[ai]=e,(r=i.nodeValue!==n)&&(t=En,t!==null))switch(t.tag){case 3:ws(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ws(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[ai]=e,e.stateNode=i}return $t(e),null;case 13:if(gt(Et),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(St&&Mn!==null&&e.mode&1&&!(e.flags&128))wv(),Vr(),e.flags|=98560,r=!1;else if(r=Cs(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(oe(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(oe(317));r[ai]=e}else Vr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),r=!1}else Kn!==null&&(Dd(Kn),Kn=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?Ot===0&&(Ot=3):zf())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return Gr(),bd(t,e),t===null&&qo(e.stateNode.containerInfo),$t(e),null;case 10:return _f(e.type._context),$t(e),null;case 17:return gn(e.type)&&Pl(),$t(e),null;case 19:if(gt(Et),r=e.memoizedState,r===null)return $t(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)fo(r,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Fl(t),o!==null){for(e.flags|=128,fo(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ht(Et,Et.current&1|2),e.child}t=t.sibling}r.tail!==null&&Pt()>qr&&(e.flags|=128,i=!0,fo(r,!1),e.lanes=4194304)}else{if(!i)if(t=Fl(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!St)return $t(e),null}else 2*Pt()-r.renderingStartTime>qr&&n!==1073741824&&(e.flags|=128,i=!0,fo(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Pt(),e.sibling=null,n=Et.current,ht(Et,i?n&1|2:n&1),e):($t(e),null);case 22:case 23:return Uf(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Sn&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function Px(t,e){switch(mf(e),e.tag){case 1:return gn(e.type)&&Pl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gr(),gt(mn),gt(tn),bf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ef(e),null;case 13:if(gt(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));Vr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gt(Et),null;case 4:return Gr(),null;case 10:return _f(e.type._context),null;case 22:case 23:return Uf(),null;case 24:return null;default:return null}}var Ls=!1,en=!1,Lx=typeof WeakSet=="function"?WeakSet:Set,Me=null;function wr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Rt(t,e,i)}else n.current=null}function Ad(t,e,n){try{n()}catch(i){Rt(t,e,i)}}var ap=!1;function Dx(t,e){if(ld=Tl,t=pv(),hf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==n||a!==0&&f.nodeType!==3||(s=o+a),f!==r||i!==0&&f.nodeType!==3||(l=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===a&&(s=o),h===r&&++u===i&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cd={focusedElem:t,selectionRange:n},Tl=!1,Me=e;Me!==null;)if(e=Me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Me=t;else for(;Me!==null;){e=Me;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,m=y.memoizedState,d=e.stateNode,g=d.getSnapshotBeforeUpdate(e.elementType===e.type?_:Wn(e.type,_),m);d.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(M){Rt(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Me=t;break}Me=e.return}return y=ap,ap=!1,y}function No(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&t)===t){var r=a.destroy;a.destroy=void 0,r!==void 0&&Ad(e,n,r)}a=a.next}while(a!==i)}}function dc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Td(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function u0(t){var e=t.alternate;e!==null&&(t.alternate=null,u0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ai],delete e[Ko],delete e[fd],delete e[px],delete e[mx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function d0(t){return t.tag===5||t.tag===3||t.tag===4}function rp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||d0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rl));else if(i!==4&&(t=t.child,t!==null))for(wd(t,e,n),t=t.sibling;t!==null;)wd(t,e,n),t=t.sibling}function Cd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Cd(t,e,n),t=t.sibling;t!==null;)Cd(t,e,n),t=t.sibling}var qt=null,qn=!1;function Ui(t,e,n){for(n=n.child;n!==null;)f0(t,e,n),n=n.sibling}function f0(t,e,n){if(li&&typeof li.onCommitFiberUnmount=="function")try{li.onCommitFiberUnmount(ic,n)}catch{}switch(n.tag){case 5:en||wr(n,e);case 6:var i=qt,a=qn;qt=null,Ui(t,e,n),qt=i,qn=a,qt!==null&&(qn?(t=qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(qn?(t=qt,n=n.stateNode,t.nodeType===8?Gc(t.parentNode,n):t.nodeType===1&&Gc(t,n),jo(t)):Gc(qt,n.stateNode));break;case 4:i=qt,a=qn,qt=n.stateNode.containerInfo,qn=!0,Ui(t,e,n),qt=i,qn=a;break;case 0:case 11:case 14:case 15:if(!en&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){a=i=i.next;do{var r=a,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Ad(n,e,o),a=a.next}while(a!==i)}Ui(t,e,n);break;case 1:if(!en&&(wr(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){Rt(n,e,s)}Ui(t,e,n);break;case 21:Ui(t,e,n);break;case 22:n.mode&1?(en=(i=en)||n.memoizedState!==null,Ui(t,e,n),en=i):Ui(t,e,n);break;default:Ui(t,e,n)}}function op(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Lx),e.forEach(function(i){var a=Hx.bind(null,t,i);n.has(i)||(n.add(i),i.then(a,a))})}}function Hn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];try{var r=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:qt=s.stateNode,qn=!1;break e;case 3:qt=s.stateNode.containerInfo,qn=!0;break e;case 4:qt=s.stateNode.containerInfo,qn=!0;break e}s=s.return}if(qt===null)throw Error(oe(160));f0(r,o,a),qt=null,qn=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){Rt(a,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)h0(e,t),e=e.sibling}function h0(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hn(e,t),ei(t),i&4){try{No(3,t,t.return),dc(3,t)}catch(_){Rt(t,t.return,_)}try{No(5,t,t.return)}catch(_){Rt(t,t.return,_)}}break;case 1:Hn(e,t),ei(t),i&512&&n!==null&&wr(n,n.return);break;case 5:if(Hn(e,t),ei(t),i&512&&n!==null&&wr(n,n.return),t.flags&32){var a=t.stateNode;try{Bo(a,"")}catch(_){Rt(t,t.return,_)}}if(i&4&&(a=t.stateNode,a!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&r.type==="radio"&&r.name!=null&&Ug(a,r),Zu(s,o);var c=Zu(s,r);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?kg(a,f):u==="dangerouslySetInnerHTML"?Og(a,f):u==="children"?Bo(a,f):Qd(a,u,f,c)}switch(s){case"input":Xu(a,r);break;case"textarea":zg(a,r);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?Lr(a,!!r.multiple,p,!1):h!==!!r.multiple&&(r.defaultValue!=null?Lr(a,!!r.multiple,r.defaultValue,!0):Lr(a,!!r.multiple,r.multiple?[]:"",!1))}a[Ko]=r}catch(_){Rt(t,t.return,_)}}break;case 6:if(Hn(e,t),ei(t),i&4){if(t.stateNode===null)throw Error(oe(162));a=t.stateNode,r=t.memoizedProps;try{a.nodeValue=r}catch(_){Rt(t,t.return,_)}}break;case 3:if(Hn(e,t),ei(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{jo(e.containerInfo)}catch(_){Rt(t,t.return,_)}break;case 4:Hn(e,t),ei(t);break;case 13:Hn(e,t),ei(t),a=t.child,a.flags&8192&&(r=a.memoizedState!==null,a.stateNode.isHidden=r,!r||a.alternate!==null&&a.alternate.memoizedState!==null||(If=Pt())),i&4&&op(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(en=(c=en)||u,Hn(e,t),en=c):Hn(e,t),ei(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Me=t,u=t.child;u!==null;){for(f=Me=u;Me!==null;){switch(h=Me,p=h.child,h.tag){case 0:case 11:case 14:case 15:No(4,h,h.return);break;case 1:wr(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){Rt(i,n,_)}}break;case 5:wr(h,h.return);break;case 22:if(h.memoizedState!==null){lp(f);continue}}p!==null?(p.return=h,Me=p):lp(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(r=a.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Bg("display",o))}catch(_){Rt(t,t.return,_)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(_){Rt(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hn(e,t),ei(t),i&4&&op(t);break;case 21:break;default:Hn(e,t),ei(t)}}function ei(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(d0(n)){var i=n;break e}n=n.return}throw Error(oe(160))}switch(i.tag){case 5:var a=i.stateNode;i.flags&32&&(Bo(a,""),i.flags&=-33);var r=rp(t);Cd(t,r,a);break;case 3:case 4:var o=i.stateNode.containerInfo,s=rp(t);wd(t,s,o);break;default:throw Error(oe(161))}}catch(l){Rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ix(t,e,n){Me=t,p0(t)}function p0(t,e,n){for(var i=(t.mode&1)!==0;Me!==null;){var a=Me,r=a.child;if(a.tag===22&&i){var o=a.memoizedState!==null||Ls;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||en;s=Ls;var c=en;if(Ls=o,(en=l)&&!c)for(Me=a;Me!==null;)o=Me,l=o.child,o.tag===22&&o.memoizedState!==null?cp(a):l!==null?(l.return=o,Me=l):cp(a);for(;r!==null;)Me=r,p0(r),r=r.sibling;Me=a,Ls=s,en=c}sp(t)}else a.subtreeFlags&8772&&r!==null?(r.return=a,Me=r):sp(t)}}function sp(t){for(;Me!==null;){var e=Me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:en||dc(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!en)if(n===null)i.componentDidMount();else{var a=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Wh(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Wh(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&jo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}en||e.flags&512&&Td(e)}catch(h){Rt(e,e.return,h)}}if(e===t){Me=null;break}if(n=e.sibling,n!==null){n.return=e.return,Me=n;break}Me=e.return}}function lp(t){for(;Me!==null;){var e=Me;if(e===t){Me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Me=n;break}Me=e.return}}function cp(t){for(;Me!==null;){var e=Me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dc(4,e)}catch(l){Rt(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var a=e.return;try{i.componentDidMount()}catch(l){Rt(e,a,l)}}var r=e.return;try{Td(e)}catch(l){Rt(e,r,l)}break;case 5:var o=e.return;try{Td(e)}catch(l){Rt(e,o,l)}}}catch(l){Rt(e,e.return,l)}if(e===t){Me=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Me=s;break}Me=e.return}}var Nx=Math.ceil,kl=Li.ReactCurrentDispatcher,Lf=Li.ReactCurrentOwner,zn=Li.ReactCurrentBatchConfig,it=0,Gt=null,Ut=null,Xt=0,Sn=0,Cr=ha(0),Ot=0,es=null,ja=0,fc=0,Df=0,Uo=null,fn=null,If=0,qr=1/0,yi=null,Hl=!1,Rd=null,na=null,Ds=!1,Ji=null,Vl=0,zo=0,Pd=null,vl=-1,yl=0;function sn(){return it&6?Pt():vl!==-1?vl:vl=Pt()}function ia(t){return t.mode&1?it&2&&Xt!==0?Xt&-Xt:vx.transition!==null?(yl===0&&(yl=Zg()),yl):(t=st,t!==0||(t=window.event,t=t===void 0?16:rv(t.type)),t):1}function $n(t,e,n,i){if(50<zo)throw zo=0,Pd=null,Error(oe(185));os(t,n,i),(!(it&2)||t!==Gt)&&(t===Gt&&(!(it&2)&&(fc|=n),Ot===4&&qi(t,Xt)),vn(t,i),n===1&&it===0&&!(e.mode&1)&&(qr=Pt()+500,lc&&pa()))}function vn(t,e){var n=t.callbackNode;v_(t,e);var i=Al(t,t===Gt?Xt:0);if(i===0)n!==null&&yh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&yh(n),e===1)t.tag===0?gx(up.bind(null,t)):bv(up.bind(null,t)),fx(function(){!(it&6)&&pa()}),n=null;else{switch(Qg(i)){case 1:n=rf;break;case 4:n=Yg;break;case 16:n=bl;break;case 536870912:n=$g;break;default:n=bl}n=M0(n,m0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function m0(t,e){if(vl=-1,yl=0,it&6)throw Error(oe(327));var n=t.callbackNode;if(zr()&&t.callbackNode!==n)return null;var i=Al(t,t===Gt?Xt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=jl(t,i);else{e=i;var a=it;it|=2;var r=v0();(Gt!==t||Xt!==e)&&(yi=null,qr=Pt()+500,Oa(t,e));do try{Fx();break}catch(s){g0(t,s)}while(!0);yf(),kl.current=r,it=a,Ut!==null?e=0:(Gt=null,Xt=0,e=Ot)}if(e!==0){if(e===2&&(a=id(t),a!==0&&(i=a,e=Ld(t,a))),e===1)throw n=es,Oa(t,0),qi(t,i),vn(t,Pt()),n;if(e===6)qi(t,i);else{if(a=t.current.alternate,!(i&30)&&!Ux(a)&&(e=jl(t,i),e===2&&(r=id(t),r!==0&&(i=r,e=Ld(t,r))),e===1))throw n=es,Oa(t,0),qi(t,i),vn(t,Pt()),n;switch(t.finishedWork=a,t.finishedLanes=i,e){case 0:case 1:throw Error(oe(345));case 2:Ta(t,fn,yi);break;case 3:if(qi(t,i),(i&130023424)===i&&(e=If+500-Pt(),10<e)){if(Al(t,0)!==0)break;if(a=t.suspendedLanes,(a&i)!==i){sn(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=dd(Ta.bind(null,t,fn,yi),e);break}Ta(t,fn,yi);break;case 4:if(qi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,a=-1;0<i;){var o=31-Yn(i);r=1<<o,o=e[o],o>a&&(a=o),i&=~r}if(i=a,i=Pt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Nx(i/1960))-i,10<i){t.timeoutHandle=dd(Ta.bind(null,t,fn,yi),i);break}Ta(t,fn,yi);break;case 5:Ta(t,fn,yi);break;default:throw Error(oe(329))}}}return vn(t,Pt()),t.callbackNode===n?m0.bind(null,t):null}function Ld(t,e){var n=Uo;return t.current.memoizedState.isDehydrated&&(Oa(t,e).flags|=256),t=jl(t,e),t!==2&&(e=fn,fn=n,e!==null&&Dd(e)),t}function Dd(t){fn===null?fn=t:fn.push.apply(fn,t)}function Ux(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var a=n[i],r=a.getSnapshot;a=a.value;try{if(!Qn(r(),a))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qi(t,e){for(e&=~Df,e&=~fc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yn(e),i=1<<n;t[n]=-1,e&=~i}}function up(t){if(it&6)throw Error(oe(327));zr();var e=Al(t,0);if(!(e&1))return vn(t,Pt()),null;var n=jl(t,e);if(t.tag!==0&&n===2){var i=id(t);i!==0&&(e=i,n=Ld(t,i))}if(n===1)throw n=es,Oa(t,0),qi(t,e),vn(t,Pt()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ta(t,fn,yi),vn(t,Pt()),null}function Nf(t,e){var n=it;it|=1;try{return t(e)}finally{it=n,it===0&&(qr=Pt()+500,lc&&pa())}}function Ga(t){Ji!==null&&Ji.tag===0&&!(it&6)&&zr();var e=it;it|=1;var n=zn.transition,i=st;try{if(zn.transition=null,st=1,t)return t()}finally{st=i,zn.transition=n,it=e,!(it&6)&&pa()}}function Uf(){Sn=Cr.current,gt(Cr)}function Oa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dx(n)),Ut!==null)for(n=Ut.return;n!==null;){var i=n;switch(mf(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Pl();break;case 3:Gr(),gt(mn),gt(tn),bf();break;case 5:Ef(i);break;case 4:Gr();break;case 13:gt(Et);break;case 19:gt(Et);break;case 10:_f(i.type._context);break;case 22:case 23:Uf()}n=n.return}if(Gt=t,Ut=t=aa(t.current,null),Xt=Sn=e,Ot=0,es=null,Df=fc=ja=0,fn=Uo=null,Da!==null){for(e=0;e<Da.length;e++)if(n=Da[e],i=n.interleaved,i!==null){n.interleaved=null;var a=i.next,r=n.pending;if(r!==null){var o=r.next;r.next=a,i.next=o}n.pending=i}Da=null}return t}function g0(t,e){do{var n=Ut;try{if(yf(),pl.current=Bl,Ol){for(var i=bt.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Ol=!1}if(Va=0,Vt=Ft=bt=null,Io=!1,$o=0,Lf.current=null,n===null||n.return===null){Ot=1,es=e,Ut=null;break}e:{var r=t,o=n.return,s=n,l=e;if(e=Xt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=$h(o);if(p!==null){p.flags&=-257,Zh(p,o,s,r,e),p.mode&1&&Yh(r,c,e),e=p,l=c;var y=e.updateQueue;if(y===null){var _=new Set;_.add(l),e.updateQueue=_}else y.add(l);break e}else{if(!(e&1)){Yh(r,c,e),zf();break e}l=Error(oe(426))}}else if(St&&s.mode&1){var m=$h(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),Zh(m,o,s,r,e),gf(Wr(l,s));break e}}r=l=Wr(l,s),Ot!==4&&(Ot=2),Uo===null?Uo=[r]:Uo.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var d=Qv(r,l,e);Gh(r,d);break e;case 1:s=l;var g=r.type,v=r.stateNode;if(!(r.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(na===null||!na.has(v)))){r.flags|=65536,e&=-e,r.lanes|=e;var M=e0(r,s,e);Gh(r,M);break e}}r=r.return}while(r!==null)}_0(n)}catch(w){e=w,Ut===n&&n!==null&&(Ut=n=n.return);continue}break}while(!0)}function v0(){var t=kl.current;return kl.current=Bl,t===null?Bl:t}function zf(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Gt===null||!(ja&268435455)&&!(fc&268435455)||qi(Gt,Xt)}function jl(t,e){var n=it;it|=2;var i=v0();(Gt!==t||Xt!==e)&&(yi=null,Oa(t,e));do try{zx();break}catch(a){g0(t,a)}while(!0);if(yf(),it=n,kl.current=i,Ut!==null)throw Error(oe(261));return Gt=null,Xt=0,Ot}function zx(){for(;Ut!==null;)y0(Ut)}function Fx(){for(;Ut!==null&&!l_();)y0(Ut)}function y0(t){var e=S0(t.alternate,t,Sn);t.memoizedProps=t.pendingProps,e===null?_0(t):Ut=e,Lf.current=null}function _0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Px(n,e),n!==null){n.flags&=32767,Ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,Ut=null;return}}else if(n=Rx(n,e,Sn),n!==null){Ut=n;return}if(e=e.sibling,e!==null){Ut=e;return}Ut=e=t}while(e!==null);Ot===0&&(Ot=5)}function Ta(t,e,n){var i=st,a=zn.transition;try{zn.transition=null,st=1,Ox(t,e,n,i)}finally{zn.transition=a,st=i}return null}function Ox(t,e,n,i){do zr();while(Ji!==null);if(it&6)throw Error(oe(327));n=t.finishedWork;var a=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(y_(t,r),t===Gt&&(Ut=Gt=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ds||(Ds=!0,M0(bl,function(){return zr(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=zn.transition,zn.transition=null;var o=st;st=1;var s=it;it|=4,Lf.current=null,Dx(t,n),h0(n,t),ax(cd),Tl=!!ld,cd=ld=null,t.current=n,Ix(n),c_(),it=s,st=o,zn.transition=r}else t.current=n;if(Ds&&(Ds=!1,Ji=t,Vl=a),r=t.pendingLanes,r===0&&(na=null),f_(n.stateNode),vn(t,Pt()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)a=e[n],i(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,t=Rd,Rd=null,t;return Vl&1&&t.tag!==0&&zr(),r=t.pendingLanes,r&1?t===Pd?zo++:(zo=0,Pd=t):zo=0,pa(),null}function zr(){if(Ji!==null){var t=Qg(Vl),e=zn.transition,n=st;try{if(zn.transition=null,st=16>t?16:t,Ji===null)var i=!1;else{if(t=Ji,Ji=null,Vl=0,it&6)throw Error(oe(331));var a=it;for(it|=4,Me=t.current;Me!==null;){var r=Me,o=r.child;if(Me.flags&16){var s=r.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(Me=c;Me!==null;){var u=Me;switch(u.tag){case 0:case 11:case 15:No(8,u,r)}var f=u.child;if(f!==null)f.return=u,Me=f;else for(;Me!==null;){u=Me;var h=u.sibling,p=u.return;if(u0(u),u===c){Me=null;break}if(h!==null){h.return=p,Me=h;break}Me=p}}}var y=r.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var m=_.sibling;_.sibling=null,_=m}while(_!==null)}}Me=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,Me=o;else e:for(;Me!==null;){if(r=Me,r.flags&2048)switch(r.tag){case 0:case 11:case 15:No(9,r,r.return)}var d=r.sibling;if(d!==null){d.return=r.return,Me=d;break e}Me=r.return}}var g=t.current;for(Me=g;Me!==null;){o=Me;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Me=v;else e:for(o=g;Me!==null;){if(s=Me,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:dc(9,s)}}catch(w){Rt(s,s.return,w)}if(s===o){Me=null;break e}var M=s.sibling;if(M!==null){M.return=s.return,Me=M;break e}Me=s.return}}if(it=a,pa(),li&&typeof li.onPostCommitFiberRoot=="function")try{li.onPostCommitFiberRoot(ic,t)}catch{}i=!0}return i}finally{st=n,zn.transition=e}}return!1}function dp(t,e,n){e=Wr(n,e),e=Qv(t,e,1),t=ta(t,e,1),e=sn(),t!==null&&(os(t,1,e),vn(t,e))}function Rt(t,e,n){if(t.tag===3)dp(t,t,n);else for(;e!==null;){if(e.tag===3){dp(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(na===null||!na.has(i))){t=Wr(n,t),t=e0(e,t,1),e=ta(e,t,1),t=sn(),e!==null&&(os(e,1,t),vn(e,t));break}}e=e.return}}function Bx(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,Gt===t&&(Xt&n)===n&&(Ot===4||Ot===3&&(Xt&130023424)===Xt&&500>Pt()-If?Oa(t,0):Df|=n),vn(t,e)}function x0(t,e){e===0&&(t.mode&1?(e=Ms,Ms<<=1,!(Ms&130023424)&&(Ms=4194304)):e=1);var n=sn();t=Ri(t,e),t!==null&&(os(t,e,n),vn(t,n))}function kx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),x0(t,n)}function Hx(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(oe(314))}i!==null&&i.delete(e),x0(t,n)}var S0;S0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pn=!1,Cx(t,e,n);pn=!!(t.flags&131072)}else pn=!1,St&&e.flags&1048576&&Av(e,Il,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;gl(t,e),t=e.pendingProps;var a=Hr(e,tn.current);Ur(e,n),a=Tf(null,e,i,t,a,n);var r=wf();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(i)?(r=!0,Ll(e)):r=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Sf(e),a.updater=uc,e.stateNode=a,a._reactInternals=e,yd(e,i,t,n),e=Sd(null,e,i,!0,r,n)):(e.tag=0,St&&r&&pf(e),on(null,e,a,n),e=e.child),e;case 16:i=e.elementType;e:{switch(gl(t,e),t=e.pendingProps,a=i._init,i=a(i._payload),e.type=i,a=e.tag=jx(i),t=Wn(i,t),a){case 0:e=xd(null,e,i,t,n);break e;case 1:e=tp(null,e,i,t,n);break e;case 11:e=Qh(null,e,i,t,n);break e;case 14:e=ep(null,e,i,Wn(i.type,t),n);break e}throw Error(oe(306,i,""))}return e;case 0:return i=e.type,a=e.pendingProps,a=e.elementType===i?a:Wn(i,a),xd(t,e,i,a,n);case 1:return i=e.type,a=e.pendingProps,a=e.elementType===i?a:Wn(i,a),tp(t,e,i,a,n);case 3:e:{if(a0(e),t===null)throw Error(oe(387));i=e.pendingProps,r=e.memoizedState,a=r.element,Lv(t,e),zl(e,i,null,n);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){a=Wr(Error(oe(423)),e),e=np(t,e,i,n,a);break e}else if(i!==a){a=Wr(Error(oe(424)),e),e=np(t,e,i,n,a);break e}else for(Mn=ea(e.stateNode.containerInfo.firstChild),En=e,St=!0,Kn=null,n=Rv(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vr(),i===a){e=Pi(t,e,n);break e}on(t,e,i,n)}e=e.child}return e;case 5:return Dv(e),t===null&&md(e),i=e.type,a=e.pendingProps,r=t!==null?t.memoizedProps:null,o=a.children,ud(i,a)?o=null:r!==null&&ud(i,r)&&(e.flags|=32),i0(t,e),on(t,e,o,n),e.child;case 6:return t===null&&md(e),null;case 13:return r0(t,e,n);case 4:return Mf(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=jr(e,null,i,n):on(t,e,i,n),e.child;case 11:return i=e.type,a=e.pendingProps,a=e.elementType===i?a:Wn(i,a),Qh(t,e,i,a,n);case 7:return on(t,e,e.pendingProps,n),e.child;case 8:return on(t,e,e.pendingProps.children,n),e.child;case 12:return on(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,a=e.pendingProps,r=e.memoizedProps,o=a.value,ht(Nl,i._currentValue),i._currentValue=o,r!==null)if(Qn(r.value,o)){if(r.children===a.children&&!mn.current){e=Pi(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){o=r.child;for(var l=s.firstContext;l!==null;){if(l.context===i){if(r.tag===1){l=Ai(-1,n&-n),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),gd(r.return,n,e),s.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(oe(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),gd(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}on(t,e,a.children,n),e=e.child}return e;case 9:return a=e.type,i=e.pendingProps.children,Ur(e,n),a=On(a),i=i(a),e.flags|=1,on(t,e,i,n),e.child;case 14:return i=e.type,a=Wn(i,e.pendingProps),a=Wn(i.type,a),ep(t,e,i,a,n);case 15:return t0(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,a=e.pendingProps,a=e.elementType===i?a:Wn(i,a),gl(t,e),e.tag=1,gn(i)?(t=!0,Ll(e)):t=!1,Ur(e,n),Zv(e,i,a),yd(e,i,a,n),Sd(null,e,i,!0,t,n);case 19:return o0(t,e,n);case 22:return n0(t,e,n)}throw Error(oe(156,e.tag))};function M0(t,e){return Jg(t,e)}function Vx(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,e,n,i){return new Vx(t,e,n,i)}function Ff(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jx(t){if(typeof t=="function")return Ff(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tf)return 11;if(t===nf)return 14}return 2}function aa(t,e){var n=t.alternate;return n===null?(n=Nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _l(t,e,n,i,a,r){var o=2;if(i=t,typeof t=="function")Ff(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yr:return Ba(n.children,a,r,e);case ef:o=8,a|=8;break;case Vu:return t=Nn(12,n,e,a|2),t.elementType=Vu,t.lanes=r,t;case ju:return t=Nn(13,n,e,a),t.elementType=ju,t.lanes=r,t;case Gu:return t=Nn(19,n,e,a),t.elementType=Gu,t.lanes=r,t;case Dg:return hc(n,a,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pg:o=10;break e;case Lg:o=9;break e;case tf:o=11;break e;case nf:o=14;break e;case ji:o=16,i=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=Nn(o,n,e,a),e.elementType=t,e.type=i,e.lanes=r,e}function Ba(t,e,n,i){return t=Nn(7,t,i,e),t.lanes=n,t}function hc(t,e,n,i){return t=Nn(22,t,i,e),t.elementType=Dg,t.lanes=n,t.stateNode={isHidden:!1},t}function Zc(t,e,n){return t=Nn(6,t,null,e),t.lanes=n,t}function Qc(t,e,n){return e=Nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gx(t,e,n,i,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ic(0),this.expirationTimes=Ic(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ic(0),this.identifierPrefix=i,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Of(t,e,n,i,a,r,o,s,l){return t=new Gx(t,e,n,s,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Nn(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sf(r),t}function Wx(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vr,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function E0(t){if(!t)return la;t=t._reactInternals;e:{if(Ja(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(gn(n))return Ev(t,n,e)}return e}function b0(t,e,n,i,a,r,o,s,l){return t=Of(n,i,!0,t,a,r,o,s,l),t.context=E0(null),n=t.current,i=sn(),a=ia(n),r=Ai(i,a),r.callback=e??null,ta(n,r,a),t.current.lanes=a,os(t,a,i),vn(t,i),t}function pc(t,e,n,i){var a=e.current,r=sn(),o=ia(a);return n=E0(n),e.context===null?e.context=n:e.pendingContext=n,e=Ai(r,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=ta(a,e,o),t!==null&&($n(t,a,o,r),hl(t,a,o)),o}function Gl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bf(t,e){fp(t,e),(t=t.alternate)&&fp(t,e)}function qx(){return null}var A0=typeof reportError=="function"?reportError:function(t){console.error(t)};function kf(t){this._internalRoot=t}mc.prototype.render=kf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));pc(t,e,null,null)};mc.prototype.unmount=kf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ga(function(){pc(null,t,null,null)}),e[Ci]=null}};function mc(t){this._internalRoot=t}mc.prototype.unstable_scheduleHydration=function(t){if(t){var e=nv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wi.length&&e!==0&&e<Wi[n].priority;n++);Wi.splice(n,0,t),n===0&&av(t)}};function Hf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hp(){}function Xx(t,e,n,i,a){if(a){if(typeof i=="function"){var r=i;i=function(){var c=Gl(o);r.call(c)}}var o=b0(e,i,t,0,null,!1,!1,"",hp);return t._reactRootContainer=o,t[Ci]=o.current,qo(t.nodeType===8?t.parentNode:t),Ga(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof i=="function"){var s=i;i=function(){var c=Gl(l);s.call(c)}}var l=Of(t,0,!1,null,null,!1,!1,"",hp);return t._reactRootContainer=l,t[Ci]=l.current,qo(t.nodeType===8?t.parentNode:t),Ga(function(){pc(e,l,n,i)}),l}function vc(t,e,n,i,a){var r=n._reactRootContainer;if(r){var o=r;if(typeof a=="function"){var s=a;a=function(){var l=Gl(o);s.call(l)}}pc(e,o,t,a)}else o=Xx(n,e,t,a,i);return Gl(o)}ev=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ao(e.pendingLanes);n!==0&&(of(e,n|1),vn(e,Pt()),!(it&6)&&(qr=Pt()+500,pa()))}break;case 13:Ga(function(){var i=Ri(t,1);if(i!==null){var a=sn();$n(i,t,1,a)}}),Bf(t,1)}};sf=function(t){if(t.tag===13){var e=Ri(t,134217728);if(e!==null){var n=sn();$n(e,t,134217728,n)}Bf(t,134217728)}};tv=function(t){if(t.tag===13){var e=ia(t),n=Ri(t,e);if(n!==null){var i=sn();$n(n,t,e,i)}Bf(t,e)}};nv=function(){return st};iv=function(t,e){var n=st;try{return st=t,e()}finally{st=n}};ed=function(t,e,n){switch(e){case"input":if(Xu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var a=sc(i);if(!a)throw Error(oe(90));Ng(i),Xu(i,a)}}}break;case"textarea":zg(t,n);break;case"select":e=n.value,e!=null&&Lr(t,!!n.multiple,e,!1)}};jg=Nf;Gg=Ga;var Kx={usingClientEntryPoint:!1,Events:[ls,Mr,sc,Hg,Vg,Nf]},ho={findFiberByHostInstance:La,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jx={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Li.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xg(t),t===null?null:t.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||qx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Is.isDisabled&&Is.supportsFiber)try{ic=Is.inject(Jx),li=Is}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kx;An.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hf(e))throw Error(oe(200));return Wx(t,e,null,n)};An.createRoot=function(t,e){if(!Hf(t))throw Error(oe(299));var n=!1,i="",a=A0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Of(t,1,!1,null,null,n,!1,i,a),t[Ci]=e.current,qo(t.nodeType===8?t.parentNode:t),new kf(e)};An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=Xg(e),t=t===null?null:t.stateNode,t};An.flushSync=function(t){return Ga(t)};An.hydrate=function(t,e,n){if(!gc(e))throw Error(oe(200));return vc(null,t,e,!0,n)};An.hydrateRoot=function(t,e,n){if(!Hf(t))throw Error(oe(405));var i=n!=null&&n.hydratedSources||null,a=!1,r="",o=A0;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=b0(e,null,t,1,n??null,a,!1,r,o),t[Ci]=e.current,qo(t),i)for(t=0;t<i.length;t++)n=i[t],a=n._getVersion,a=a(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,a]:e.mutableSourceEagerHydrationData.push(n,a);return new mc(e)};An.render=function(t,e,n){if(!gc(e))throw Error(oe(200));return vc(null,t,e,!1,n)};An.unmountComponentAtNode=function(t){if(!gc(t))throw Error(oe(40));return t._reactRootContainer?(Ga(function(){vc(null,null,t,!1,function(){t._reactRootContainer=null,t[Ci]=null})}),!0):!1};An.unstable_batchedUpdates=Nf;An.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!gc(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return vc(t,e,n,!1,i)};An.version="18.3.1-next-f1338f8080-20240426";function T0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T0)}catch(t){console.error(t)}}T0(),Tg.exports=An;var Vf=Tg.exports;const Yx=pg(Vf),$x=hg({__proto__:null,default:Yx},[Vf]);var pp=Vf;ku.createRoot=pp.createRoot,ku.hydrateRoot=pp.hydrateRoot;/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mt(){return Mt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Mt.apply(this,arguments)}var Nt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Nt||(Nt={}));const mp="popstate";function Zx(t){t===void 0&&(t={});function e(a,r){let{pathname:o="/",search:s="",hash:l=""}=Di(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ts("",{pathname:o,search:s,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(a,r){let o=a.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let l=a.location.href,c=l.indexOf("#");s=c===-1?l:l.slice(0,c)}return s+"#"+(typeof r=="string"?r:qa(r))}function i(a,r){Wa(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(r)+")")}return e1(e,n,i,t)}function $e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Qx(){return Math.random().toString(36).substr(2,8)}function gp(t,e){return{usr:t.state,key:t.key,idx:e}}function ts(t,e,n,i){return n===void 0&&(n=null),Mt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Di(e):e,{state:n,key:e&&e.key||i||Qx()})}function qa(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Di(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function e1(t,e,n,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:r=!1}=i,o=a.history,s=Nt.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Mt({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){s=Nt.Pop;let m=u(),d=m==null?null:m-c;c=m,l&&l({action:s,location:_.location,delta:d})}function h(m,d){s=Nt.Push;let g=ts(_.location,m,d);n&&n(g,m),c=u()+1;let v=gp(g,c),M=_.createHref(g);try{o.pushState(v,"",M)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(M)}r&&l&&l({action:s,location:_.location,delta:1})}function p(m,d){s=Nt.Replace;let g=ts(_.location,m,d);n&&n(g,m),c=u();let v=gp(g,c),M=_.createHref(g);o.replaceState(v,"",M),r&&l&&l({action:s,location:_.location,delta:0})}function y(m){let d=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof m=="string"?m:qa(m);return g=g.replace(/ $/,"%20"),$e(d,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,d)}let _={get action(){return s},get location(){return t(a,o)},listen(m){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(mp,f),l=m,()=>{a.removeEventListener(mp,f),l=null}},createHref(m){return e(a,m)},createURL:y,encodeLocation(m){let d=y(m);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:h,replace:p,go(m){return o.go(m)}};return _}var xt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xt||(xt={}));const t1=new Set(["lazy","caseSensitive","path","id","index","children"]);function n1(t){return t.index===!0}function Id(t,e,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),t.map((a,r)=>{let o=[...n,r],s=typeof a.id=="string"?a.id:o.join("-");if($e(a.index!==!0||!a.children,"Cannot specify children on an index route"),$e(!i[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),n1(a)){let l=Mt({},a,e(a),{id:s});return i[s]=l,l}else{let l=Mt({},a,e(a),{id:s,children:void 0});return i[s]=l,a.children&&(l.children=Id(a.children,e,o,i)),l}})}function Rr(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?Di(e):e,a=eo(i.pathname||"/",n);if(a==null)return null;let r=w0(t);a1(r);let o=null;for(let s=0;o==null&&s<r.length;++s){let l=g1(a);o=h1(r[s],l)}return o}function i1(t,e){let{route:n,pathname:i,params:a}=t;return{id:n.id,pathname:i,params:a,data:e[n.id],handle:n.handle}}function w0(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let a=(r,o,s)=>{let l={relativePath:s===void 0?r.path||"":s,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};l.relativePath.startsWith("/")&&($e(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Ti([i,l.relativePath]),u=n.concat(l);r.children&&r.children.length>0&&($e(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),w0(r.children,e,u,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:d1(c,r.index),routesMeta:u})};return t.forEach((r,o)=>{var s;if(r.path===""||!((s=r.path)!=null&&s.includes("?")))a(r,o);else for(let l of C0(r.path))a(r,o,l)}),e}function C0(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return a?[r,""]:[r];let o=C0(i.join("/")),s=[];return s.push(...o.map(l=>l===""?r:[r,l].join("/"))),a&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function a1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:f1(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const r1=/^:[\w-]+$/,o1=3,s1=2,l1=1,c1=10,u1=-2,vp=t=>t==="*";function d1(t,e){let n=t.split("/"),i=n.length;return n.some(vp)&&(i+=u1),e&&(i+=s1),n.filter(a=>!vp(a)).reduce((a,r)=>a+(r1.test(r)?o1:r===""?l1:c1),i)}function f1(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function h1(t,e){let{routesMeta:n}=t,i={},a="/",r=[];for(let o=0;o<n.length;++o){let s=n[o],l=o===n.length-1,c=a==="/"?e:e.slice(a.length)||"/",u=p1({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!u)return null;Object.assign(i,u.params);let f=s.route;r.push({params:i,pathname:Ti([a,u.pathname]),pathnameBase:_1(Ti([a,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(a=Ti([a,u.pathnameBase]))}return r}function p1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=m1(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let r=a[0],o=r.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:i.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let _=s[f]||"";o=r.slice(0,r.length-_.length).replace(/(.)\/+$/,"$1")}const y=s[f];return p&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:o,pattern:t}}function m1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Wa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(i.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function g1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function eo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function v1(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Di(t):t;return{pathname:n?n.startsWith("/")?n:y1(n,e):e,search:x1(i),hash:S1(a)}}function y1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function eu(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function R0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jf(t,e){let n=R0(t);return e?n.map((i,a)=>a===t.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Gf(t,e,n,i){i===void 0&&(i=!1);let a;typeof t=="string"?a=Di(t):(a=Mt({},t),$e(!a.pathname||!a.pathname.includes("?"),eu("?","pathname","search",a)),$e(!a.pathname||!a.pathname.includes("#"),eu("#","pathname","hash",a)),$e(!a.search||!a.search.includes("#"),eu("#","search","hash",a)));let r=t===""||a.pathname==="",o=r?"/":a.pathname,s;if(o==null)s=n;else{let f=e.length-1;if(!i&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=v1(a,s),c=o&&o!=="/"&&o.endsWith("/"),u=(r||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ti=t=>t.join("/").replace(/\/\/+/g,"/"),_1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),x1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,S1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Wf{constructor(e,n,i,a){a===void 0&&(a=!1),this.status=e,this.statusText=n||"",this.internal=a,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function qf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const P0=["post","put","patch","delete"],M1=new Set(P0),E1=["get",...P0],b1=new Set(E1),A1=new Set([301,302,303,307,308]),T1=new Set([307,308]),tu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},w1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},po={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Xf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,C1=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),L0="remix-router-transitions";function R1(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!n;$e(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(t.mapRouteProperties)a=t.mapRouteProperties;else if(t.detectErrorBoundary){let L=t.detectErrorBoundary;a=z=>({hasErrorBoundary:L(z)})}else a=C1;let r={},o=Id(t.routes,a,void 0,r),s,l=t.basename||"/",c=t.unstable_dataStrategy||I1,u=Mt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),f=null,h=new Set,p=null,y=null,_=null,m=t.hydrationData!=null,d=Rr(o,t.history.location,l),g=null;if(d==null){let L=Rn(404,{pathname:t.history.location.pathname}),{matches:z,route:H}=wp(o);d=z,g={[H.id]:L}}let v,M=d.some(L=>L.route.lazy),w=d.some(L=>L.route.loader);if(M)v=!1;else if(!w)v=!0;else if(u.v7_partialHydration){let L=t.hydrationData?t.hydrationData.loaderData:null,z=t.hydrationData?t.hydrationData.errors:null,H=ne=>ne.route.loader?typeof ne.route.loader=="function"&&ne.route.loader.hydrate===!0?!1:L&&L[ne.route.id]!==void 0||z&&z[ne.route.id]!==void 0:!0;if(z){let ne=d.findIndex(fe=>z[fe.route.id]!==void 0);v=d.slice(0,ne+1).every(H)}else v=d.every(H)}else v=t.hydrationData!=null;let T,x={historyAction:t.history.action,location:t.history.location,matches:d,initialized:v,navigation:tu,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||g,fetchers:new Map,blockers:new Map},P=Nt.Pop,b=!1,S,N=!1,W=new Map,D=null,K=!1,J=!1,se=[],re=[],R=new Map,q=0,X=-1,ce=new Map,Ee=new Set,Ke=new Map,j=new Map,ie=new Set,ge=new Map,le=new Map,Xe=!1;function Je(){if(f=t.history.listen(L=>{let{action:z,location:H,delta:ne}=L;if(Xe){Xe=!1;return}Wa(le.size===0||ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=I({currentLocation:x.location,nextLocation:H,historyAction:z});if(fe&&ne!=null){Xe=!0,t.history.go(ne*-1),ke(fe,{state:"blocked",location:H,proceed(){ke(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),t.history.go(ne)},reset(){let Be=new Map(x.blockers);Be.set(fe,po),Ae({blockers:Be})}});return}return Fe(z,H)}),n){W1(e,W);let L=()=>q1(e,W);e.addEventListener("pagehide",L),D=()=>e.removeEventListener("pagehide",L)}return x.initialized||Fe(Nt.Pop,x.location,{initialHydration:!0}),T}function F(){f&&f(),D&&D(),h.clear(),S&&S.abort(),x.fetchers.forEach((L,z)=>ue(z)),x.blockers.forEach((L,z)=>yt(z))}function ct(L){return h.add(L),()=>h.delete(L)}function Ae(L,z){z===void 0&&(z={}),x=Mt({},x,L);let H=[],ne=[];u.v7_fetcherPersist&&x.fetchers.forEach((fe,Be)=>{fe.state==="idle"&&(ie.has(Be)?ne.push(Be):H.push(Be))}),[...h].forEach(fe=>fe(x,{deletedFetchers:ne,unstable_viewTransitionOpts:z.viewTransitionOpts,unstable_flushSync:z.flushSync===!0})),u.v7_fetcherPersist&&(H.forEach(fe=>x.fetchers.delete(fe)),ne.forEach(fe=>ue(fe)))}function rt(L,z,H){var ne,fe;let{flushSync:Be}=H===void 0?{}:H,Pe=x.actionData!=null&&x.navigation.formMethod!=null&&Xn(x.navigation.formMethod)&&x.navigation.state==="loading"&&((ne=L.state)==null?void 0:ne._isRedirect)!==!0,Se;z.actionData?Object.keys(z.actionData).length>0?Se=z.actionData:Se=null:Pe?Se=x.actionData:Se=null;let Oe=z.loaderData?Ap(x.loaderData,z.loaderData,z.matches||[],z.errors):x.loaderData,ze=x.blockers;ze.size>0&&(ze=new Map(ze),ze.forEach((Ue,dt)=>ze.set(dt,po)));let wt=b===!0||x.navigation.formMethod!=null&&Xn(x.navigation.formMethod)&&((fe=L.state)==null?void 0:fe._isRedirect)!==!0;s&&(o=s,s=void 0),K||P===Nt.Pop||(P===Nt.Push?t.history.push(L,L.state):P===Nt.Replace&&t.history.replace(L,L.state));let Lt;if(P===Nt.Pop){let Ue=W.get(x.location.pathname);Ue&&Ue.has(L.pathname)?Lt={currentLocation:x.location,nextLocation:L}:W.has(L.pathname)&&(Lt={currentLocation:L,nextLocation:x.location})}else if(N){let Ue=W.get(x.location.pathname);Ue?Ue.add(L.pathname):(Ue=new Set([L.pathname]),W.set(x.location.pathname,Ue)),Lt={currentLocation:x.location,nextLocation:L}}Ae(Mt({},z,{actionData:Se,loaderData:Oe,historyAction:P,location:L,initialized:!0,navigation:tu,revalidation:"idle",restoreScrollPosition:tt(L,z.matches||x.matches),preventScrollReset:wt,blockers:ze}),{viewTransitionOpts:Lt,flushSync:Be===!0}),P=Nt.Pop,b=!1,N=!1,K=!1,J=!1,se=[],re=[]}async function Ne(L,z){if(typeof L=="number"){t.history.go(L);return}let H=Nd(x.location,x.matches,l,u.v7_prependBasename,L,u.v7_relativeSplatPath,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:ne,submission:fe,error:Be}=yp(u.v7_normalizeFormMethod,!1,H,z),Pe=x.location,Se=ts(x.location,ne,z&&z.state);Se=Mt({},Se,t.history.encodeLocation(Se));let Oe=z&&z.replace!=null?z.replace:void 0,ze=Nt.Push;Oe===!0?ze=Nt.Replace:Oe===!1||fe!=null&&Xn(fe.formMethod)&&fe.formAction===x.location.pathname+x.location.search&&(ze=Nt.Replace);let wt=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,Lt=(z&&z.unstable_flushSync)===!0,Ue=I({currentLocation:Pe,nextLocation:Se,historyAction:ze});if(Ue){ke(Ue,{state:"blocked",location:Se,proceed(){ke(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:Se}),Ne(L,z)},reset(){let dt=new Map(x.blockers);dt.set(Ue,po),Ae({blockers:dt})}});return}return await Fe(ze,Se,{submission:fe,pendingError:Be,preventScrollReset:wt,replace:z&&z.replace,enableViewTransition:z&&z.unstable_viewTransition,flushSync:Lt})}function Qe(){if(Re(),Ae({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){Fe(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}Fe(P||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation})}}async function Fe(L,z,H){S&&S.abort(),S=null,P=L,K=(H&&H.startUninterruptedRevalidation)===!0,_e(x.location,x.matches),b=(H&&H.preventScrollReset)===!0,N=(H&&H.enableViewTransition)===!0;let ne=s||o,fe=H&&H.overrideNavigation,Be=Rr(ne,z,l),Pe=(H&&H.flushSync)===!0;if(!Be){let Ue=Rn(404,{pathname:z.pathname}),{matches:dt,route:Dt}=wp(ne);Q(),rt(z,{matches:dt,loaderData:{},errors:{[Dt.id]:Ue}},{flushSync:Pe});return}if(x.initialized&&!J&&B1(x.location,z)&&!(H&&H.submission&&Xn(H.submission.formMethod))){rt(z,{matches:Be},{flushSync:Pe});return}S=new AbortController;let Se=Qa(t.history,z,S.signal,H&&H.submission),Oe;if(H&&H.pendingError)Oe=[Fo(Be).route.id,{type:xt.error,error:H.pendingError}];else if(H&&H.submission&&Xn(H.submission.formMethod)){let Ue=await et(Se,z,H.submission,Be,{replace:H.replace,flushSync:Pe});if(Ue.shortCircuited)return;Oe=Ue.pendingActionResult,fe=nu(z,H.submission),Pe=!1,Se=Qa(t.history,Se.url,Se.signal)}let{shortCircuited:ze,loaderData:wt,errors:Lt}=await vt(Se,z,Be,fe,H&&H.submission,H&&H.fetcherSubmission,H&&H.replace,H&&H.initialHydration===!0,Pe,Oe);ze||(S=null,rt(z,Mt({matches:Be},Tp(Oe),{loaderData:wt,errors:Lt})))}async function et(L,z,H,ne,fe){fe===void 0&&(fe={}),Re();let Be=j1(z,H);Ae({navigation:Be},{flushSync:fe.flushSync===!0});let Pe,Se=zd(ne,z);if(!Se.route.action&&!Se.route.lazy)Pe={type:xt.error,error:Rn(405,{method:L.method,pathname:z.pathname,routeId:Se.route.id})};else if(Pe=(await te("action",L,[Se],ne))[0],L.signal.aborted)return{shortCircuited:!0};if(Ua(Pe)){let Oe;return fe&&fe.replace!=null?Oe=fe.replace:Oe=Mp(Pe.response.headers.get("Location"),new URL(L.url),l)===x.location.pathname+x.location.search,await $(L,Pe,{submission:H,replace:Oe}),{shortCircuited:!0}}if(Na(Pe))throw Rn(400,{type:"defer-action"});if(Dn(Pe)){let Oe=Fo(ne,Se.route.id);return(fe&&fe.replace)!==!0&&(P=Nt.Push),{pendingActionResult:[Oe.route.id,Pe]}}return{pendingActionResult:[Se.route.id,Pe]}}async function vt(L,z,H,ne,fe,Be,Pe,Se,Oe,ze){let wt=ne||nu(z,fe),Lt=fe||Be||Pp(wt),Ue=s||o,[dt,Dt]=_p(t.history,x,H,Lt,z,u.v7_partialHydration&&Se===!0,u.unstable_skipActionErrorRevalidation,J,se,re,ie,Ke,Ee,Ue,l,ze);if(Q(de=>!(H&&H.some(we=>we.route.id===de))||dt&&dt.some(we=>we.route.id===de)),X=++q,dt.length===0&&Dt.length===0){let de=xe();return rt(z,Mt({matches:H,loaderData:{},errors:ze&&Dn(ze[1])?{[ze[0]]:ze[1].error}:null},Tp(ze),de?{fetchers:new Map(x.fetchers)}:{}),{flushSync:Oe}),{shortCircuited:!0}}if(!K&&(!u.v7_partialHydration||!Se)){Dt.forEach(we=>{let De=x.fetchers.get(we.key),Ce=mo(void 0,De?De.data:void 0);x.fetchers.set(we.key,Ce)});let de;ze&&!Dn(ze[1])?de={[ze[0]]:ze[1].data}:x.actionData&&(Object.keys(x.actionData).length===0?de=null:de=x.actionData),Ae(Mt({navigation:wt},de!==void 0?{actionData:de}:{},Dt.length>0?{fetchers:new Map(x.fetchers)}:{}),{flushSync:Oe})}Dt.forEach(de=>{R.has(de.key)&&Ve(de.key),de.controller&&R.set(de.key,de.controller)});let ga=()=>Dt.forEach(de=>Ve(de.key));S&&S.signal.addEventListener("abort",ga);let{loaderResults:A,fetcherResults:U}=await ae(x.matches,H,dt,Dt,L);if(L.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",ga),Dt.forEach(de=>R.delete(de.key));let V=Cp([...A,...U]);if(V){if(V.idx>=dt.length){let de=Dt[V.idx-dt.length].key;Ee.add(de)}return await $(L,V.result,{replace:Pe}),{shortCircuited:!0}}let{loaderData:B,errors:O}=bp(x,H,dt,A,ze,Dt,U,ge);ge.forEach((de,we)=>{de.subscribe(De=>{(De||de.done)&&ge.delete(we)})}),u.v7_partialHydration&&Se&&x.errors&&Object.entries(x.errors).filter(de=>{let[we]=de;return!dt.some(De=>De.route.id===we)}).forEach(de=>{let[we,De]=de;O=Object.assign(O||{},{[we]:De})});let me=xe(),be=je(X),Te=me||be||Dt.length>0;return Mt({loaderData:B,errors:O},Te?{fetchers:new Map(x.fetchers)}:{})}function C(L,z,H,ne){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");R.has(L)&&Ve(L);let fe=(ne&&ne.unstable_flushSync)===!0,Be=s||o,Pe=Nd(x.location,x.matches,l,u.v7_prependBasename,H,u.v7_relativeSplatPath,z,ne==null?void 0:ne.relative),Se=Rr(Be,Pe,l);if(!Se){pe(L,z,Rn(404,{pathname:Pe}),{flushSync:fe});return}let{path:Oe,submission:ze,error:wt}=yp(u.v7_normalizeFormMethod,!0,Pe,ne);if(wt){pe(L,z,wt,{flushSync:fe});return}let Lt=zd(Se,Oe);if(b=(ne&&ne.preventScrollReset)===!0,ze&&Xn(ze.formMethod)){E(L,z,Oe,Lt,Se,fe,ze);return}Ke.set(L,{routeId:z,path:Oe}),G(L,z,Oe,Lt,Se,fe,ze)}async function E(L,z,H,ne,fe,Be,Pe){if(Re(),Ke.delete(L),!ne.route.action&&!ne.route.lazy){let Ce=Rn(405,{method:Pe.formMethod,pathname:H,routeId:z});pe(L,z,Ce,{flushSync:Be});return}let Se=x.fetchers.get(L);he(L,G1(Pe,Se),{flushSync:Be});let Oe=new AbortController,ze=Qa(t.history,H,Oe.signal,Pe);R.set(L,Oe);let wt=q,Ue=(await te("action",ze,[ne],fe))[0];if(ze.signal.aborted){R.get(L)===Oe&&R.delete(L);return}if(u.v7_fetcherPersist&&ie.has(L)){if(Ua(Ue)||Dn(Ue)){he(L,Vi(void 0));return}}else{if(Ua(Ue))if(R.delete(L),X>wt){he(L,Vi(void 0));return}else return Ee.add(L),he(L,mo(Pe)),$(ze,Ue,{fetcherSubmission:Pe});if(Dn(Ue)){pe(L,z,Ue.error);return}}if(Na(Ue))throw Rn(400,{type:"defer-action"});let dt=x.navigation.location||x.location,Dt=Qa(t.history,dt,Oe.signal),ga=s||o,A=x.navigation.state!=="idle"?Rr(ga,x.navigation.location,l):x.matches;$e(A,"Didn't find any matches after fetcher action");let U=++q;ce.set(L,U);let V=mo(Pe,Ue.data);x.fetchers.set(L,V);let[B,O]=_p(t.history,x,A,Pe,dt,!1,u.unstable_skipActionErrorRevalidation,J,se,re,ie,Ke,Ee,ga,l,[ne.route.id,Ue]);O.filter(Ce=>Ce.key!==L).forEach(Ce=>{let ft=Ce.key,zt=x.fetchers.get(ft),an=mo(void 0,zt?zt.data:void 0);x.fetchers.set(ft,an),R.has(ft)&&Ve(ft),Ce.controller&&R.set(ft,Ce.controller)}),Ae({fetchers:new Map(x.fetchers)});let me=()=>O.forEach(Ce=>Ve(Ce.key));Oe.signal.addEventListener("abort",me);let{loaderResults:be,fetcherResults:Te}=await ae(x.matches,A,B,O,Dt);if(Oe.signal.aborted)return;Oe.signal.removeEventListener("abort",me),ce.delete(L),R.delete(L),O.forEach(Ce=>R.delete(Ce.key));let de=Cp([...be,...Te]);if(de){if(de.idx>=B.length){let Ce=O[de.idx-B.length].key;Ee.add(Ce)}return $(Dt,de.result)}let{loaderData:we,errors:De}=bp(x,x.matches,B,be,void 0,O,Te,ge);if(x.fetchers.has(L)){let Ce=Vi(Ue.data);x.fetchers.set(L,Ce)}je(U),x.navigation.state==="loading"&&U>X?($e(P,"Expected pending action"),S&&S.abort(),rt(x.navigation.location,{matches:A,loaderData:we,errors:De,fetchers:new Map(x.fetchers)})):(Ae({errors:De,loaderData:Ap(x.loaderData,we,A,De),fetchers:new Map(x.fetchers)}),J=!1)}async function G(L,z,H,ne,fe,Be,Pe){let Se=x.fetchers.get(L);he(L,mo(Pe,Se?Se.data:void 0),{flushSync:Be});let Oe=new AbortController,ze=Qa(t.history,H,Oe.signal);R.set(L,Oe);let wt=q,Ue=(await te("loader",ze,[ne],fe))[0];if(Na(Ue)&&(Ue=await U0(Ue,ze.signal,!0)||Ue),R.get(L)===Oe&&R.delete(L),!ze.signal.aborted){if(ie.has(L)){he(L,Vi(void 0));return}if(Ua(Ue))if(X>wt){he(L,Vi(void 0));return}else{Ee.add(L),await $(ze,Ue);return}if(Dn(Ue)){pe(L,z,Ue.error);return}$e(!Na(Ue),"Unhandled fetcher deferred data"),he(L,Vi(Ue.data))}}async function $(L,z,H){let{submission:ne,fetcherSubmission:fe,replace:Be}=H===void 0?{}:H;z.response.headers.has("X-Remix-Revalidate")&&(J=!0);let Pe=z.response.headers.get("Location");$e(Pe,"Expected a Location header on the redirect Response"),Pe=Mp(Pe,new URL(L.url),l);let Se=ts(x.location,Pe,{_isRedirect:!0});if(n){let dt=!1;if(z.response.headers.has("X-Remix-Reload-Document"))dt=!0;else if(Xf.test(Pe)){const Dt=t.history.createURL(Pe);dt=Dt.origin!==e.location.origin||eo(Dt.pathname,l)==null}if(dt){Be?e.location.replace(Pe):e.location.assign(Pe);return}}S=null;let Oe=Be===!0?Nt.Replace:Nt.Push,{formMethod:ze,formAction:wt,formEncType:Lt}=x.navigation;!ne&&!fe&&ze&&wt&&Lt&&(ne=Pp(x.navigation));let Ue=ne||fe;if(T1.has(z.response.status)&&Ue&&Xn(Ue.formMethod))await Fe(Oe,Se,{submission:Mt({},Ue,{formAction:Pe}),preventScrollReset:b});else{let dt=nu(Se,ne);await Fe(Oe,Se,{overrideNavigation:dt,fetcherSubmission:fe,preventScrollReset:b})}}async function te(L,z,H,ne){try{let fe=await N1(c,L,z,H,ne,r,a);return await Promise.all(fe.map((Be,Pe)=>{if(k1(Be)){let Se=Be.result;return{type:xt.redirect,response:F1(Se,z,H[Pe].route.id,ne,l,u.v7_relativeSplatPath)}}return z1(Be)}))}catch(fe){return H.map(()=>({type:xt.error,error:fe}))}}async function ae(L,z,H,ne,fe){let[Be,...Pe]=await Promise.all([H.length?te("loader",fe,H,z):[],...ne.map(Se=>{if(Se.matches&&Se.match&&Se.controller){let Oe=Qa(t.history,Se.path,Se.controller.signal);return te("loader",Oe,[Se.match],Se.matches).then(ze=>ze[0])}else return Promise.resolve({type:xt.error,error:Rn(404,{pathname:Se.path})})})]);return await Promise.all([Rp(L,H,Be,Be.map(()=>fe.signal),!1,x.loaderData),Rp(L,ne.map(Se=>Se.match),Pe,ne.map(Se=>Se.controller?Se.controller.signal:null),!0)]),{loaderResults:Be,fetcherResults:Pe}}function Re(){J=!0,se.push(...Q()),Ke.forEach((L,z)=>{R.has(z)&&(re.push(z),Ve(z))})}function he(L,z,H){H===void 0&&(H={}),x.fetchers.set(L,z),Ae({fetchers:new Map(x.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function pe(L,z,H,ne){ne===void 0&&(ne={});let fe=Fo(x.matches,z);ue(L),Ae({errors:{[fe.route.id]:H},fetchers:new Map(x.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function He(L){return u.v7_fetcherPersist&&(j.set(L,(j.get(L)||0)+1),ie.has(L)&&ie.delete(L)),x.fetchers.get(L)||w1}function ue(L){let z=x.fetchers.get(L);R.has(L)&&!(z&&z.state==="loading"&&ce.has(L))&&Ve(L),Ke.delete(L),ce.delete(L),Ee.delete(L),ie.delete(L),x.fetchers.delete(L)}function Le(L){if(u.v7_fetcherPersist){let z=(j.get(L)||0)-1;z<=0?(j.delete(L),ie.add(L)):j.set(L,z)}else ue(L);Ae({fetchers:new Map(x.fetchers)})}function Ve(L){let z=R.get(L);$e(z,"Expected fetch controller: "+L),z.abort(),R.delete(L)}function Ie(L){for(let z of L){let H=He(z),ne=Vi(H.data);x.fetchers.set(z,ne)}}function xe(){let L=[],z=!1;for(let H of Ee){let ne=x.fetchers.get(H);$e(ne,"Expected fetcher: "+H),ne.state==="loading"&&(Ee.delete(H),L.push(H),z=!0)}return Ie(L),z}function je(L){let z=[];for(let[H,ne]of ce)if(ne<L){let fe=x.fetchers.get(H);$e(fe,"Expected fetcher: "+H),fe.state==="loading"&&(Ve(H),ce.delete(H),z.push(H))}return Ie(z),z.length>0}function Ye(L,z){let H=x.blockers.get(L)||po;return le.get(L)!==z&&le.set(L,z),H}function yt(L){x.blockers.delete(L),le.delete(L)}function ke(L,z){let H=x.blockers.get(L)||po;$e(H.state==="unblocked"&&z.state==="blocked"||H.state==="blocked"&&z.state==="blocked"||H.state==="blocked"&&z.state==="proceeding"||H.state==="blocked"&&z.state==="unblocked"||H.state==="proceeding"&&z.state==="unblocked","Invalid blocker state transition: "+H.state+" -> "+z.state);let ne=new Map(x.blockers);ne.set(L,z),Ae({blockers:ne})}function I(L){let{currentLocation:z,nextLocation:H,historyAction:ne}=L;if(le.size===0)return;le.size>1&&Wa(!1,"A router only supports one blocker at a time");let fe=Array.from(le.entries()),[Be,Pe]=fe[fe.length-1],Se=x.blockers.get(Be);if(!(Se&&Se.state==="proceeding")&&Pe({currentLocation:z,nextLocation:H,historyAction:ne}))return Be}function Q(L){let z=[];return ge.forEach((H,ne)=>{(!L||L(ne))&&(H.cancel(),z.push(ne),ge.delete(ne))}),z}function Y(L,z,H){if(p=L,_=z,y=H||null,!m&&x.navigation===tu){m=!0;let ne=tt(x.location,x.matches);ne!=null&&Ae({restoreScrollPosition:ne})}return()=>{p=null,_=null,y=null}}function ve(L,z){return y&&y(L,z.map(ne=>i1(ne,x.loaderData)))||L.key}function _e(L,z){if(p&&_){let H=ve(L,z);p[H]=_()}}function tt(L,z){if(p){let H=ve(L,z),ne=p[H];if(typeof ne=="number")return ne}return null}function ut(L){r={},s=Id(L,a,void 0,r)}return T={get basename(){return l},get future(){return u},get state(){return x},get routes(){return o},get window(){return e},initialize:Je,subscribe:ct,enableScrollRestoration:Y,navigate:Ne,fetch:C,revalidate:Qe,createHref:L=>t.history.createHref(L),encodeLocation:L=>t.history.encodeLocation(L),getFetcher:He,deleteFetcher:Le,dispose:F,getBlocker:Ye,deleteBlocker:yt,_internalFetchControllers:R,_internalActiveDeferreds:ge,_internalSetRoutes:ut},T}function P1(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Nd(t,e,n,i,a,r,o,s){let l,c;if(o){l=[];for(let f of e)if(l.push(f),f.route.id===o){c=f;break}}else l=e,c=e[e.length-1];let u=Gf(a||".",jf(l,r),eo(t.pathname,n)||t.pathname,s==="path");return a==null&&(u.search=t.search,u.hash=t.hash),(a==null||a===""||a===".")&&c&&c.route.index&&!Kf(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Ti([n,u.pathname])),qa(u)}function yp(t,e,n,i){if(!i||!P1(i))return{path:n};if(i.formMethod&&!V1(i.formMethod))return{path:n,error:Rn(405,{method:i.formMethod})};let a=()=>({path:n,error:Rn(400,{type:"invalid-body"})}),r=i.formMethod||"get",o=t?r.toUpperCase():r.toLowerCase(),s=I0(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Xn(o))return a();let h=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((p,y)=>{let[_,m]=y;return""+p+_+"="+m+`
`},""):String(i.body);return{path:n,submission:{formMethod:o,formAction:s,formEncType:i.formEncType,formData:void 0,json:void 0,text:h}}}else if(i.formEncType==="application/json"){if(!Xn(o))return a();try{let h=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:o,formAction:s,formEncType:i.formEncType,formData:void 0,json:h,text:void 0}}}catch{return a()}}}$e(typeof FormData=="function","FormData is not available in this environment");let l,c;if(i.formData)l=Ud(i.formData),c=i.formData;else if(i.body instanceof FormData)l=Ud(i.body),c=i.body;else if(i.body instanceof URLSearchParams)l=i.body,c=Ep(l);else if(i.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(i.body),c=Ep(l)}catch{return a()}let u={formMethod:o,formAction:s,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Xn(u.formMethod))return{path:n,submission:u};let f=Di(n);return e&&f.search&&Kf(f.search)&&l.append("index",""),f.search="?"+l,{path:qa(f),submission:u}}function L1(t,e){let n=t;if(e){let i=t.findIndex(a=>a.route.id===e);i>=0&&(n=t.slice(0,i))}return n}function _p(t,e,n,i,a,r,o,s,l,c,u,f,h,p,y,_){let m=_?Dn(_[1])?_[1].error:_[1].data:void 0,d=t.createURL(e.location),g=t.createURL(a),v=_&&Dn(_[1])?_[0]:void 0,M=v?L1(n,v):n,w=_?_[1].statusCode:void 0,T=o&&w&&w>=400,x=M.filter((b,S)=>{let{route:N}=b;if(N.lazy)return!0;if(N.loader==null)return!1;if(r)return typeof N.loader!="function"||N.loader.hydrate?!0:e.loaderData[N.id]===void 0&&(!e.errors||e.errors[N.id]===void 0);if(D1(e.loaderData,e.matches[S],b)||l.some(K=>K===b.route.id))return!0;let W=e.matches[S],D=b;return xp(b,Mt({currentUrl:d,currentParams:W.params,nextUrl:g,nextParams:D.params},i,{actionResult:m,unstable_actionStatus:w,defaultShouldRevalidate:T?!1:s||d.pathname+d.search===g.pathname+g.search||d.search!==g.search||D0(W,D)}))}),P=[];return f.forEach((b,S)=>{if(r||!n.some(J=>J.route.id===b.routeId)||u.has(S))return;let N=Rr(p,b.path,y);if(!N){P.push({key:S,routeId:b.routeId,path:b.path,matches:null,match:null,controller:null});return}let W=e.fetchers.get(S),D=zd(N,b.path),K=!1;h.has(S)?K=!1:c.includes(S)?K=!0:W&&W.state!=="idle"&&W.data===void 0?K=s:K=xp(D,Mt({currentUrl:d,currentParams:e.matches[e.matches.length-1].params,nextUrl:g,nextParams:n[n.length-1].params},i,{actionResult:m,unstable_actionStatus:w,defaultShouldRevalidate:T?!1:s})),K&&P.push({key:S,routeId:b.routeId,path:b.path,matches:N,match:D,controller:new AbortController})}),[x,P]}function D1(t,e,n){let i=!e||n.route.id!==e.route.id,a=t[n.route.id]===void 0;return i||a}function D0(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function xp(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Sp(t,e,n){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let a=n[t.id];$e(a,"No route found in manifest");let r={};for(let o in i){let l=a[o]!==void 0&&o!=="hasErrorBoundary";Wa(!l,'Route "'+a.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!t1.has(o)&&(r[o]=i[o])}Object.assign(a,r),Object.assign(a,Mt({},e(a),{lazy:void 0}))}function I1(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function N1(t,e,n,i,a,r,o,s){let l=i.reduce((f,h)=>f.add(h.route.id),new Set),c=new Set,u=await t({matches:a.map(f=>{let h=l.has(f.route.id);return Mt({},f,{shouldLoad:h,resolve:y=>(c.add(f.route.id),h?U1(e,n,f,r,o,y,s):Promise.resolve({type:xt.data,result:void 0}))})}),request:n,params:a[0].params,context:s});return a.forEach(f=>$e(c.has(f.route.id),'`match.resolve()` was not called for route id "'+f.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),u.filter((f,h)=>l.has(a[h].route.id))}async function U1(t,e,n,i,a,r,o){let s,l,c=u=>{let f,h=new Promise((_,m)=>f=m);l=()=>f(),e.signal.addEventListener("abort",l);let p=_=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:o},..._!==void 0?[_]:[]),y;return r?y=r(_=>p(_)):y=(async()=>{try{return{type:"data",result:await p()}}catch(_){return{type:"error",result:_}}})(),Promise.race([y,h])};try{let u=n.route[t];if(n.route.lazy)if(u){let f,[h]=await Promise.all([c(u).catch(p=>{f=p}),Sp(n.route,a,i)]);if(f!==void 0)throw f;s=h}else if(await Sp(n.route,a,i),u=n.route[t],u)s=await c(u);else if(t==="action"){let f=new URL(e.url),h=f.pathname+f.search;throw Rn(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:xt.data,result:void 0};else if(u)s=await c(u);else{let f=new URL(e.url),h=f.pathname+f.search;throw Rn(404,{pathname:h})}$e(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:xt.error,result:u}}finally{l&&e.signal.removeEventListener("abort",l)}return s}async function z1(t){let{result:e,type:n,status:i}=t;if(N0(e)){let o;try{let s=e.headers.get("Content-Type");s&&/\bapplication\/json\b/.test(s)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(s){return{type:xt.error,error:s}}return n===xt.error?{type:xt.error,error:new Wf(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:xt.data,data:o,statusCode:e.status,headers:e.headers}}if(n===xt.error)return{type:xt.error,error:e,statusCode:qf(e)?e.status:i};if(H1(e)){var a,r;return{type:xt.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((r=e.init)==null?void 0:r.headers)&&new Headers(e.init.headers)}}return{type:xt.data,data:e,statusCode:i}}function F1(t,e,n,i,a,r){let o=t.headers.get("Location");if($e(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Xf.test(o)){let s=i.slice(0,i.findIndex(l=>l.route.id===n)+1);o=Nd(new URL(e.url),s,a,!0,o,r),t.headers.set("Location",o)}return t}function Mp(t,e,n){if(Xf.test(t)){let i=t,a=i.startsWith("//")?new URL(e.protocol+i):new URL(i),r=eo(a.pathname,n)!=null;if(a.origin===e.origin&&r)return a.pathname+a.search+a.hash}return t}function Qa(t,e,n,i){let a=t.createURL(I0(e)).toString(),r={signal:n};if(i&&Xn(i.formMethod)){let{formMethod:o,formEncType:s}=i;r.method=o.toUpperCase(),s==="application/json"?(r.headers=new Headers({"Content-Type":s}),r.body=JSON.stringify(i.json)):s==="text/plain"?r.body=i.text:s==="application/x-www-form-urlencoded"&&i.formData?r.body=Ud(i.formData):r.body=i.formData}return new Request(a,r)}function Ud(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function Ep(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function O1(t,e,n,i,a,r){let o={},s=null,l,c=!1,u={},f=i&&Dn(i[1])?i[1].error:void 0;return n.forEach((h,p)=>{let y=e[p].route.id;if($e(!Ua(h),"Cannot handle redirect results in processLoaderData"),Dn(h)){let _=h.error;f!==void 0&&(_=f,f=void 0),s=s||{};{let m=Fo(t,y);s[m.route.id]==null&&(s[m.route.id]=_)}o[y]=void 0,c||(c=!0,l=qf(h.error)?h.error.status:500),h.headers&&(u[y]=h.headers)}else Na(h)?(a.set(y,h.deferredData),o[y]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!c&&(l=h.statusCode),h.headers&&(u[y]=h.headers)):(o[y]=h.data,h.statusCode&&h.statusCode!==200&&!c&&(l=h.statusCode),h.headers&&(u[y]=h.headers))}),f!==void 0&&i&&(s={[i[0]]:f},o[i[0]]=void 0),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:u}}function bp(t,e,n,i,a,r,o,s){let{loaderData:l,errors:c}=O1(e,n,i,a,s);for(let u=0;u<r.length;u++){let{key:f,match:h,controller:p}=r[u];$e(o!==void 0&&o[u]!==void 0,"Did not find corresponding fetcher result");let y=o[u];if(!(p&&p.signal.aborted))if(Dn(y)){let _=Fo(t.matches,h==null?void 0:h.route.id);c&&c[_.route.id]||(c=Mt({},c,{[_.route.id]:y.error})),t.fetchers.delete(f)}else if(Ua(y))$e(!1,"Unhandled fetcher revalidation redirect");else if(Na(y))$e(!1,"Unhandled fetcher deferred data");else{let _=Vi(y.data);t.fetchers.set(f,_)}}return{loaderData:l,errors:c}}function Ap(t,e,n,i){let a=Mt({},e);for(let r of n){let o=r.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(a[o]=e[o]):t[o]!==void 0&&r.route.loader&&(a[o]=t[o]),i&&i.hasOwnProperty(o))break}return a}function Tp(t){return t?Dn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Fo(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function wp(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Rn(t,e){let{pathname:n,routeId:i,method:a,type:r}=e===void 0?{}:e,o="Unknown Server Error",s="Unknown @remix-run/router error";return t===400?(o="Bad Request",a&&n&&i?s="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":r==="defer-action"?s="defer() is not supported in actions":r==="invalid-body"&&(s="Unable to encode submission body")):t===403?(o="Forbidden",s='Route "'+i+'" does not match URL "'+n+'"'):t===404?(o="Not Found",s='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",a&&n&&i?s="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":a&&(s='Invalid request method "'+a.toUpperCase()+'"')),new Wf(t||500,o,new Error(s),!0)}function Cp(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Ua(n))return{result:n,idx:e}}}function I0(t){let e=typeof t=="string"?Di(t):t;return qa(Mt({},e,{hash:""}))}function B1(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function k1(t){return N0(t.result)&&A1.has(t.result.status)}function Na(t){return t.type===xt.deferred}function Dn(t){return t.type===xt.error}function Ua(t){return(t&&t.type)===xt.redirect}function H1(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function N0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function V1(t){return b1.has(t.toLowerCase())}function Xn(t){return M1.has(t.toLowerCase())}async function Rp(t,e,n,i,a,r){for(let o=0;o<n.length;o++){let s=n[o],l=e[o];if(!l)continue;let c=t.find(f=>f.route.id===l.route.id),u=c!=null&&!D0(c,l)&&(r&&r[l.route.id])!==void 0;if(Na(s)&&(a||u)){let f=i[o];$e(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await U0(s,f,a).then(h=>{h&&(n[o]=h||n[o])})}}}async function U0(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:xt.data,data:t.deferredData.unwrappedData}}catch(a){return{type:xt.error,error:a}}return{type:xt.data,data:t.deferredData.data}}}function Kf(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function zd(t,e){let n=typeof e=="string"?Di(e).search:e.search;if(t[t.length-1].route.index&&Kf(n||""))return t[t.length-1];let i=R0(t);return i[i.length-1]}function Pp(t){let{formMethod:e,formAction:n,formEncType:i,text:a,formData:r,json:o}=t;if(!(!e||!n||!i)){if(a!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:a};if(r!=null)return{formMethod:e,formAction:n,formEncType:i,formData:r,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:o,text:void 0}}}function nu(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function j1(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function mo(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function G1(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Vi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function W1(t,e){try{let n=t.sessionStorage.getItem(L0);if(n){let i=JSON.parse(n);for(let[a,r]of Object.entries(i||{}))r&&Array.isArray(r)&&e.set(a,new Set(r||[]))}}catch{}}function q1(t,e){if(e.size>0){let n={};for(let[i,a]of e)n[i]=[...a];try{t.sessionStorage.setItem(L0,JSON.stringify(n))}catch(i){Wa(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wl.apply(this,arguments)}const yc=Z.createContext(null),z0=Z.createContext(null),Ya=Z.createContext(null),Jf=Z.createContext(null),Ii=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),F0=Z.createContext(null);function X1(t,e){let{relative:n}=e===void 0?{}:e;us()||$e(!1);let{basename:i,navigator:a}=Z.useContext(Ya),{hash:r,pathname:o,search:s}=B0(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Ti([i,o])),a.createHref({pathname:l,search:s,hash:r})}function us(){return Z.useContext(Jf)!=null}function _c(){return us()||$e(!1),Z.useContext(Jf).location}function O0(t){Z.useContext(Ya).static||Z.useLayoutEffect(t)}function K1(){let{isDataRoute:t}=Z.useContext(Ii);return t?cS():J1()}function J1(){us()||$e(!1);let t=Z.useContext(yc),{basename:e,future:n,navigator:i}=Z.useContext(Ya),{matches:a}=Z.useContext(Ii),{pathname:r}=_c(),o=JSON.stringify(jf(a,n.v7_relativeSplatPath)),s=Z.useRef(!1);return O0(()=>{s.current=!0}),Z.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){i.go(c);return}let f=Gf(c,JSON.parse(o),r,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ti([e,f.pathname])),(u.replace?i.replace:i.push)(f,u.state,u)},[e,i,o,r,t])}const Y1=Z.createContext(null);function $1(t){let e=Z.useContext(Ii).outlet;return e&&Z.createElement(Y1.Provider,{value:t},e)}function Z1(){let{matches:t}=Z.useContext(Ii),e=t[t.length-1];return e?e.params:{}}function B0(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=Z.useContext(Ya),{matches:a}=Z.useContext(Ii),{pathname:r}=_c(),o=JSON.stringify(jf(a,i.v7_relativeSplatPath));return Z.useMemo(()=>Gf(t,JSON.parse(o),r,n==="path"),[t,o,r,n])}function Q1(t,e,n,i){us()||$e(!1);let{navigator:a}=Z.useContext(Ya),{matches:r}=Z.useContext(Ii),o=r[r.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=_c(),u;u=c;let f=u.pathname||"/",h=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let p=Rr(t,{pathname:h});return aS(p&&p.map(_=>Object.assign({},_,{params:Object.assign({},s,_.params),pathname:Ti([l,a.encodeLocation?a.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Ti([l,a.encodeLocation?a.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),r,n,i)}function eS(){let t=lS(),e=qf(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),n?Z.createElement("pre",{style:a},n):null,null)}const tS=Z.createElement(eS,null);class nS extends Z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Z.createElement(Ii.Provider,{value:this.props.routeContext},Z.createElement(F0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iS(t){let{routeContext:e,match:n,children:i}=t,a=Z.useContext(yc);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),Z.createElement(Ii.Provider,{value:e},i)}function aS(t,e,n,i){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var r;if((r=n)!=null&&r.errors)t=n.matches;else return null}let o=t,s=(a=n)==null?void 0:a.errors;if(s!=null){let u=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);u>=0||$e(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let p,y=!1,_=null,m=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,_=f.route.errorElement||tS,l&&(c<0&&h===0?(uS("route-fallback"),y=!0,m=null):c===h&&(y=!0,m=f.route.hydrateFallbackElement||null)));let d=e.concat(o.slice(0,h+1)),g=()=>{let v;return p?v=_:y?v=m:f.route.Component?v=Z.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=u,Z.createElement(iS,{match:f,routeContext:{outlet:u,matches:d,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?Z.createElement(nS,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:g(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):g()},null)}var k0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(k0||{}),ql=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ql||{});function rS(t){let e=Z.useContext(yc);return e||$e(!1),e}function oS(t){let e=Z.useContext(z0);return e||$e(!1),e}function sS(t){let e=Z.useContext(Ii);return e||$e(!1),e}function H0(t){let e=sS(),n=e.matches[e.matches.length-1];return n.route.id||$e(!1),n.route.id}function lS(){var t;let e=Z.useContext(F0),n=oS(ql.UseRouteError),i=H0(ql.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function cS(){let{router:t}=rS(k0.UseNavigateStable),e=H0(ql.UseNavigateStable),n=Z.useRef(!1);return O0(()=>{n.current=!0}),Z.useCallback(function(a,r){r===void 0&&(r={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Wl({fromRouteId:e},r)))},[t,e])}const Lp={};function uS(t,e,n){Lp[t]||(Lp[t]=!0)}function dS(t){return $1(t.context)}function fS(t){let{basename:e="/",children:n=null,location:i,navigationType:a=Nt.Pop,navigator:r,static:o=!1,future:s}=t;us()&&$e(!1);let l=e.replace(/^\/*/,"/"),c=Z.useMemo(()=>({basename:l,navigator:r,static:o,future:Wl({v7_relativeSplatPath:!1},s)}),[l,s,r,o]);typeof i=="string"&&(i=Di(i));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:y="default"}=i,_=Z.useMemo(()=>{let m=eo(u,l);return m==null?null:{location:{pathname:m,search:f,hash:h,state:p,key:y},navigationType:a}},[l,u,f,h,p,y,a]);return _==null?null:Z.createElement(Ya.Provider,{value:c},Z.createElement(Jf.Provider,{children:n,value:_}))}new Promise(()=>{});function hS(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:Z.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:Z.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:Z.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ns(){return ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ns.apply(this,arguments)}function pS(t,e){if(t==null)return{};var n={},i=Object.keys(t),a,r;for(r=0;r<i.length;r++)a=i[r],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function mS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gS(t,e){return t.button===0&&(!e||e==="_self")&&!mS(t)}const vS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],yS="6";try{window.__reactRouterVersion=yS}catch{}function _S(t,e){return R1({basename:void 0,future:ns({},void 0,{v7_prependBasename:!0}),history:Zx({window:void 0}),hydrationData:xS(),routes:t,mapRouteProperties:hS,unstable_dataStrategy:void 0,window:void 0}).initialize()}function xS(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ns({},e,{errors:SS(e.errors)})),e}function SS(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,a]of e)if(a&&a.__type==="RouteErrorResponse")n[i]=new Wf(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let r=window[a.__subType];if(typeof r=="function")try{let o=new r(a.message);o.stack="",n[i]=o}catch{}}if(n[i]==null){let r=new Error(a.message);r.stack="",n[i]=r}}else n[i]=a;return n}const MS=Z.createContext({isTransitioning:!1}),ES=Z.createContext(new Map),bS="startTransition",Dp=By[bS],AS="flushSync",Ip=$x[AS];function TS(t){Dp?Dp(t):t()}function go(t){Ip?Ip(t):t()}class wS{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}}function CS(t){let{fallbackElement:e,router:n,future:i}=t,[a,r]=Z.useState(n.state),[o,s]=Z.useState(),[l,c]=Z.useState({isTransitioning:!1}),[u,f]=Z.useState(),[h,p]=Z.useState(),[y,_]=Z.useState(),m=Z.useRef(new Map),{v7_startTransition:d}=i||{},g=Z.useCallback(x=>{d?TS(x):x()},[d]),v=Z.useCallback((x,P)=>{let{deletedFetchers:b,unstable_flushSync:S,unstable_viewTransitionOpts:N}=P;b.forEach(D=>m.current.delete(D)),x.fetchers.forEach((D,K)=>{D.data!==void 0&&m.current.set(K,D.data)});let W=n.window==null||typeof n.window.document.startViewTransition!="function";if(!N||W){S?go(()=>r(x)):g(()=>r(x));return}if(S){go(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let D=n.window.document.startViewTransition(()=>{go(()=>r(x))});D.finished.finally(()=>{go(()=>{f(void 0),p(void 0),s(void 0),c({isTransitioning:!1})})}),go(()=>p(D));return}h?(u&&u.resolve(),h.skipTransition(),_({state:x,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(s(x),c({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[n.window,h,u,m,g]);Z.useLayoutEffect(()=>n.subscribe(v),[n,v]),Z.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new wS)},[l]),Z.useEffect(()=>{if(u&&o&&n.window){let x=o,P=u.promise,b=n.window.document.startViewTransition(async()=>{g(()=>r(x)),await P});b.finished.finally(()=>{f(void 0),p(void 0),s(void 0),c({isTransitioning:!1})}),p(b)}},[g,o,u,n.window]),Z.useEffect(()=>{u&&o&&a.location.key===o.location.key&&u.resolve()},[u,h,a.location,o]),Z.useEffect(()=>{!l.isTransitioning&&y&&(s(y.state),c({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),_(void 0))},[l.isTransitioning,y]),Z.useEffect(()=>{},[]);let M=Z.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:x=>n.navigate(x),push:(x,P,b)=>n.navigate(x,{state:P,preventScrollReset:b==null?void 0:b.preventScrollReset}),replace:(x,P,b)=>n.navigate(x,{replace:!0,state:P,preventScrollReset:b==null?void 0:b.preventScrollReset})}),[n]),w=n.basename||"/",T=Z.useMemo(()=>({router:n,navigator:M,static:!1,basename:w}),[n,M,w]);return Z.createElement(Z.Fragment,null,Z.createElement(yc.Provider,{value:T},Z.createElement(z0.Provider,{value:a},Z.createElement(ES.Provider,{value:m.current},Z.createElement(MS.Provider,{value:l},Z.createElement(fS,{basename:w,location:a.location,navigationType:a.historyAction,navigator:M,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},a.initialized||n.future.v7_partialHydration?Z.createElement(RS,{routes:n.routes,future:n.future,state:a}):e))))),null)}function RS(t){let{routes:e,future:n,state:i}=t;return Q1(e,void 0,i,n)}const PS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V0=Z.forwardRef(function(e,n){let{onClick:i,relative:a,reloadDocument:r,replace:o,state:s,target:l,to:c,preventScrollReset:u,unstable_viewTransition:f}=e,h=pS(e,vS),{basename:p}=Z.useContext(Ya),y,_=!1;if(typeof c=="string"&&LS.test(c)&&(y=c,PS))try{let v=new URL(window.location.href),M=c.startsWith("//")?new URL(v.protocol+c):new URL(c),w=eo(M.pathname,p);M.origin===v.origin&&w!=null?c=w+M.search+M.hash:_=!0}catch{}let m=X1(c,{relative:a}),d=DS(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:a,unstable_viewTransition:f});function g(v){i&&i(v),v.defaultPrevented||d(v)}return Z.createElement("a",ns({},h,{href:y||m,onClick:_||r?i:g,ref:n,target:l}))});var Np;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Np||(Np={}));var Up;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Up||(Up={}));function DS(t,e){let{target:n,replace:i,state:a,preventScrollReset:r,relative:o,unstable_viewTransition:s}=e===void 0?{}:e,l=K1(),c=_c(),u=B0(t,{relative:o});return Z.useCallback(f=>{if(gS(f,n)){f.preventDefault();let h=i!==void 0?i:qa(c)===qa(u);l(t,{replace:h,state:a,preventScrollReset:r,relative:o,unstable_viewTransition:s})}},[c,l,u,i,a,n,t,r,o,s])}const IS="_container_1t3mi_1",NS="_dot_1t3mi_11",US="_blink_1t3mi_1",zS="_blurEffect_1t3mi_1",zp={container:IS,dot:NS,blink:US,blurEffect:zS},FS=()=>{const[t,e]=Z.useState([]);return Z.useEffect(()=>{const n=()=>{const a=[];for(let r=0;r<100;r++)a.push({id:r,x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,size:Math.random()*2+1,animationDelay:Math.random()*3});e(a)};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),ee.jsx("div",{className:zp.container,children:t.map(n=>ee.jsx("div",{className:zp.dot,style:{left:`${n.x}px`,top:`${n.y}px`,width:`${n.size}px`,height:`${n.size}px`,animationDelay:`${n.animationDelay}s`}},n.id))})},OS="_container_141lv_1",BS="_node_141lv_14",kS="_button_141lv_22",HS="_line_141lv_52",VS="_whiteLayer_141lv_61",jS="_lidiadorText_141lv_79",ya={container:OS,node:BS,button:kS,line:HS,whiteLayer:VS,lidiadorText:jS},Ns=[{id:1,label:"MUSICA"},{id:2,label:"TECNOLOGIA"},{id:3,label:"DISEÑO"},{id:4,label:"ILUSTRACION"},{id:5,label:"CINE"},{id:6,label:"VIDEO"},{id:7,label:"VJ"},{id:8,label:"DISEÑO WEB"}],GS=()=>{const[t,e]=Z.useState([]),[n,i]=Z.useState({x:0,y:0}),[a,r]=Z.useState(!1);Z.useEffect(()=>{const s=Ns.map(()=>({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight}));e(s)},[]),Z.useEffect(()=>{const s=l=>{i({x:l.clientX,y:l.clientY})};return window.addEventListener("mousemove",s),()=>window.removeEventListener("mousemove",s)},[]);const o=()=>{const s=t.map(l=>{const c=Math.sqrt(Math.pow(n.x-l.x,2)+Math.pow(n.y-l.y,2)),f=Math.min(1,Math.max(0,100/c))*30,h=Math.atan2(n.y-l.y,n.x-l.x);return{x:l.x+f*Math.cos(h),y:l.y+f*Math.sin(h)}});e(s)};return Z.useEffect(()=>{const s=setInterval(()=>{o()},16);return()=>clearInterval(s)},[t,n]),ee.jsx("div",{className:ya.container,children:ee.jsxs(V0,{to:"/crear",className:ya.link,children:[ee.jsx("div",{className:ya.whiteLayer}),a&&ee.jsx("div",{className:ya.lidiadorText,children:"LIDIADOR"}),t.map((s,l)=>ee.jsx("div",{className:ya.node,style:{left:s.x,top:s.y,transform:"translate(-50%, -50%)"},onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:ee.jsx("button",{className:ya.button,onClick:()=>alert(`Acción para ${Ns[l].label}`),children:Ns[l].label})},Ns[l].id)),t.map((s,l)=>t.slice(l+1).map((c,u)=>ee.jsx("svg",{className:ya.line,children:ee.jsx("path",{d:`M${s.x} ${s.y} Q${(s.x+c.x)/2} ${(s.y+c.y)/2} ${c.x} ${c.y}`,stroke:"white",strokeWidth:"1",fill:"none"})},`line-${l}-${l+u+1}`)))]})})};function WS(){return ee.jsxs(ee.Fragment,{children:[ee.jsx(GS,{}),ee.jsx(FS,{}),ee.jsx("h1",{children:"Lidiador"}),ee.jsx("h3",{children:"Arte disidente"}),ee.jsx(V0,{to:"/crear",children:ee.jsx("h4",{children:"crear"})})]})}const qS="_three_1mdm9_1",XS="_title_1mdm9_9",iu={three:qS,title:XS},KS=()=>{const{category:t}=Z1();return ee.jsxs("div",{className:iu.crear,children:[ee.jsxs("h2",{className:iu.title,children:["Modo Crear - ",t]}),ee.jsxs("div",{className:iu.content,children:[t==="cine"&&ee.jsx("p",{children:"Contenido relacionado con Cine."}),t==="video"&&ee.jsx("p",{children:"Contenido relacionado con Video."}),t==="musica"&&ee.jsx("p",{children:"Contenido relacionado con Música."}),t==="it"&&ee.jsx("p",{children:"Contenido relacionado con IT."}),t==="vj"&&ee.jsx("p",{children:"Contenido relacionado con VJ."}),t==="fotografia"&&ee.jsx("p",{children:"Contenido relacionado con Fotografía."}),t==="politica"&&ee.jsx("p",{children:"Contenido relacionado con Política."}),t==="ilustracion"&&ee.jsx("p",{children:"Contenido relacionado con Ilustración."}),!t&&ee.jsx("p",{children:"Selecciona una categoría."})]})]})};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Yf="164",JS=0,Fp=1,YS=2,j0=1,$S=2,vi=3,ca=0,yn=1,xi=2,ra=0,Fr=1,Fd=2,Op=3,Bp=4,ZS=5,Ra=100,QS=101,eM=102,tM=103,nM=104,iM=200,aM=201,rM=202,oM=203,Od=204,Bd=205,sM=206,lM=207,cM=208,uM=209,dM=210,fM=211,hM=212,pM=213,mM=214,gM=0,vM=1,yM=2,Xl=3,_M=4,xM=5,SM=6,MM=7,$f=0,EM=1,bM=2,oa=0,AM=1,TM=2,wM=3,CM=4,RM=5,PM=6,LM=7,G0=300,Xr=301,Kr=302,kd=303,Hd=304,xc=306,Vd=1e3,za=1001,jd=1002,Un=1003,DM=1004,Us=1005,Jn=1006,au=1007,Fa=1008,ua=1009,IM=1010,NM=1011,W0=1012,q0=1013,Jr=1014,Yi=1015,Sc=1016,X0=1017,K0=1018,ds=1020,UM=35902,zM=1021,FM=1022,oi=1023,OM=1024,BM=1025,Or=1026,is=1027,kM=1028,J0=1029,HM=1030,Y0=1031,$0=1033,ru=33776,ou=33777,su=33778,lu=33779,kp=35840,Hp=35841,Vp=35842,jp=35843,Gp=36196,Wp=37492,qp=37496,Xp=37808,Kp=37809,Jp=37810,Yp=37811,$p=37812,Zp=37813,Qp=37814,em=37815,tm=37816,nm=37817,im=37818,am=37819,rm=37820,om=37821,cu=36492,sm=36494,lm=36495,VM=36283,cm=36284,um=36285,dm=36286,jM=3200,GM=3201,Z0=0,WM=1,Xi="",ni="srgb",ma="srgb-linear",Zf="display-p3",Mc="display-p3-linear",Kl="linear",mt="srgb",Jl="rec709",Yl="p3",er=7680,fm=519,qM=512,XM=513,KM=514,Q0=515,JM=516,YM=517,$M=518,ZM=519,hm=35044,pm="300 es",Ei=2e3,$l=2001;class to{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const r=a.indexOf(n);r!==-1&&a.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const a=i.slice(0);for(let r=0,o=a.length;r<o;r++)a[r].call(this,e);e.target=null}}}const Zt=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],uu=Math.PI/180,Gd=180/Math.PI;function fs(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Zt[t&255]+Zt[t>>8&255]+Zt[t>>16&255]+Zt[t>>24&255]+"-"+Zt[e&255]+Zt[e>>8&255]+"-"+Zt[e>>16&15|64]+Zt[e>>24&255]+"-"+Zt[n&63|128]+Zt[n>>8&255]+"-"+Zt[n>>16&255]+Zt[n>>24&255]+Zt[i&255]+Zt[i>>8&255]+Zt[i>>16&255]+Zt[i>>24&255]).toLowerCase()}function hn(t,e,n){return Math.max(e,Math.min(n,t))}function QM(t,e){return(t%e+e)%e}function du(t,e,n){return(1-n)*t+n*e}function vo(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function dn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class at{constructor(e=0,n=0){at.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,a=e.elements;return this.x=a[0]*n+a[3]*i+a[6],this.y=a[1]*n+a[4]*i+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(hn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),a=Math.sin(n),r=this.x-e.x,o=this.y-e.y;return this.x=r*i-o*a+e.x,this.y=r*a+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class qe{constructor(e,n,i,a,r,o,s,l,c){qe.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,a,r,o,s,l,c)}set(e,n,i,a,r,o,s,l,c){const u=this.elements;return u[0]=e,u[1]=a,u[2]=s,u[3]=n,u[4]=r,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,a=n.elements,r=this.elements,o=i[0],s=i[3],l=i[6],c=i[1],u=i[4],f=i[7],h=i[2],p=i[5],y=i[8],_=a[0],m=a[3],d=a[6],g=a[1],v=a[4],M=a[7],w=a[2],T=a[5],x=a[8];return r[0]=o*_+s*g+l*w,r[3]=o*m+s*v+l*T,r[6]=o*d+s*M+l*x,r[1]=c*_+u*g+f*w,r[4]=c*m+u*v+f*T,r[7]=c*d+u*M+f*x,r[2]=h*_+p*g+y*w,r[5]=h*m+p*v+y*T,r[8]=h*d+p*M+y*x,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],a=e[2],r=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*s*c-i*r*u+i*s*l+a*r*c-a*o*l}invert(){const e=this.elements,n=e[0],i=e[1],a=e[2],r=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=u*o-s*c,h=s*l-u*r,p=c*r-o*l,y=n*f+i*h+a*p;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/y;return e[0]=f*_,e[1]=(a*c-u*i)*_,e[2]=(s*i-a*o)*_,e[3]=h*_,e[4]=(u*n-a*l)*_,e[5]=(a*r-s*n)*_,e[6]=p*_,e[7]=(i*l-c*n)*_,e[8]=(o*n-i*r)*_,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,a,r,o,s){const l=Math.cos(r),c=Math.sin(r);return this.set(i*l,i*c,-i*(l*o+c*s)+o+e,-a*c,a*l,-a*(-c*o+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(fu.makeScale(e,n)),this}rotate(e){return this.premultiply(fu.makeRotation(-e)),this}translate(e,n){return this.premultiply(fu.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let a=0;a<9;a++)if(n[a]!==i[a])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const fu=new qe;function ey(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function as(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function eE(){const t=as("canvas");return t.style.display="block",t}const mm={};function tE(t){t in mm||(mm[t]=!0,console.warn(t))}const gm=new qe().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),vm=new qe().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),zs={[ma]:{transfer:Kl,primaries:Jl,toReference:t=>t,fromReference:t=>t},[ni]:{transfer:mt,primaries:Jl,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[Mc]:{transfer:Kl,primaries:Yl,toReference:t=>t.applyMatrix3(vm),fromReference:t=>t.applyMatrix3(gm)},[Zf]:{transfer:mt,primaries:Yl,toReference:t=>t.convertSRGBToLinear().applyMatrix3(vm),fromReference:t=>t.applyMatrix3(gm).convertLinearToSRGB()}},nE=new Set([ma,Mc]),lt={enabled:!0,_workingColorSpace:ma,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!nE.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const i=zs[e].toReference,a=zs[n].fromReference;return a(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return zs[t].primaries},getTransfer:function(t){return t===Xi?Kl:zs[t].transfer}};function Br(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function hu(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let tr;class iE{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{tr===void 0&&(tr=as("canvas")),tr.width=e.width,tr.height=e.height;const i=tr.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=tr}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=as("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const a=i.getImageData(0,0,e.width,e.height),r=a.data;for(let o=0;o<r.length;o++)r[o]=Br(r[o]/255)*255;return i.putImageData(a,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Br(n[i]/255)*255):n[i]=Br(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let aE=0;class ty{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:aE++}),this.uuid=fs(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},a=this.data;if(a!==null){let r;if(Array.isArray(a)){r=[];for(let o=0,s=a.length;o<s;o++)a[o].isDataTexture?r.push(pu(a[o].image)):r.push(pu(a[o]))}else r=pu(a);i.url=r}return n||(e.images[this.uuid]=i),i}}function pu(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?iE.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let rE=0;class ln extends to{constructor(e=ln.DEFAULT_IMAGE,n=ln.DEFAULT_MAPPING,i=za,a=za,r=Jn,o=Fa,s=oi,l=ua,c=ln.DEFAULT_ANISOTROPY,u=Xi){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:rE++}),this.uuid=fs(),this.name="",this.source=new ty(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=a,this.magFilter=r,this.minFilter=o,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new at(0,0),this.repeat=new at(1,1),this.center=new at(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new qe,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==G0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Vd:e.x=e.x-Math.floor(e.x);break;case za:e.x=e.x<0?0:1;break;case jd:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Vd:e.y=e.y-Math.floor(e.y);break;case za:e.y=e.y<0?0:1;break;case jd:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ln.DEFAULT_IMAGE=null;ln.DEFAULT_MAPPING=G0;ln.DEFAULT_ANISOTROPY=1;class jt{constructor(e=0,n=0,i=0,a=1){jt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,a){return this.x=e,this.y=n,this.z=i,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,a=this.z,r=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*a+o[12]*r,this.y=o[1]*n+o[5]*i+o[9]*a+o[13]*r,this.z=o[2]*n+o[6]*i+o[10]*a+o[14]*r,this.w=o[3]*n+o[7]*i+o[11]*a+o[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,a,r;const l=e.elements,c=l[0],u=l[4],f=l[8],h=l[1],p=l[5],y=l[9],_=l[2],m=l[6],d=l[10];if(Math.abs(u-h)<.01&&Math.abs(f-_)<.01&&Math.abs(y-m)<.01){if(Math.abs(u+h)<.1&&Math.abs(f+_)<.1&&Math.abs(y+m)<.1&&Math.abs(c+p+d-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const v=(c+1)/2,M=(p+1)/2,w=(d+1)/2,T=(u+h)/4,x=(f+_)/4,P=(y+m)/4;return v>M&&v>w?v<.01?(i=0,a=.707106781,r=.707106781):(i=Math.sqrt(v),a=T/i,r=x/i):M>w?M<.01?(i=.707106781,a=0,r=.707106781):(a=Math.sqrt(M),i=T/a,r=P/a):w<.01?(i=.707106781,a=.707106781,r=0):(r=Math.sqrt(w),i=x/r,a=P/r),this.set(i,a,r,n),this}let g=Math.sqrt((m-y)*(m-y)+(f-_)*(f-_)+(h-u)*(h-u));return Math.abs(g)<.001&&(g=1),this.x=(m-y)/g,this.y=(f-_)/g,this.z=(h-u)/g,this.w=Math.acos((c+p+d-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class oE extends to{constructor(e=1,n=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new jt(0,0,e,n),this.scissorTest=!1,this.viewport=new jt(0,0,e,n);const a={width:e,height:n,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Jn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const r=new ln(a,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);r.flipY=!1,r.generateMipmaps=i.generateMipmaps,r.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let s=0;s<o;s++)this.textures[s]=r.clone(),this.textures[s].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let a=0,r=this.textures.length;a<r;a++)this.textures[a].image.width=e,this.textures[a].image.height=n,this.textures[a].image.depth=i;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,a=e.textures.length;i<a;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new ty(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Xa extends oE{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class ny extends ln{constructor(e=null,n=1,i=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:a},this.magFilter=Un,this.minFilter=Un,this.wrapR=za,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class sE extends ln{constructor(e=null,n=1,i=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:a},this.magFilter=Un,this.minFilter=Un,this.wrapR=za,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class hs{constructor(e=0,n=0,i=0,a=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=a}static slerpFlat(e,n,i,a,r,o,s){let l=i[a+0],c=i[a+1],u=i[a+2],f=i[a+3];const h=r[o+0],p=r[o+1],y=r[o+2],_=r[o+3];if(s===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(s===1){e[n+0]=h,e[n+1]=p,e[n+2]=y,e[n+3]=_;return}if(f!==_||l!==h||c!==p||u!==y){let m=1-s;const d=l*h+c*p+u*y+f*_,g=d>=0?1:-1,v=1-d*d;if(v>Number.EPSILON){const w=Math.sqrt(v),T=Math.atan2(w,d*g);m=Math.sin(m*T)/w,s=Math.sin(s*T)/w}const M=s*g;if(l=l*m+h*M,c=c*m+p*M,u=u*m+y*M,f=f*m+_*M,m===1-s){const w=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=w,c*=w,u*=w,f*=w}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,i,a,r,o){const s=i[a],l=i[a+1],c=i[a+2],u=i[a+3],f=r[o],h=r[o+1],p=r[o+2],y=r[o+3];return e[n]=s*y+u*f+l*p-c*h,e[n+1]=l*y+u*h+c*f-s*p,e[n+2]=c*y+u*p+s*h-l*f,e[n+3]=u*y-s*f-l*h-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,a){return this._x=e,this._y=n,this._z=i,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,a=e._y,r=e._z,o=e._order,s=Math.cos,l=Math.sin,c=s(i/2),u=s(a/2),f=s(r/2),h=l(i/2),p=l(a/2),y=l(r/2);switch(o){case"XYZ":this._x=h*u*f+c*p*y,this._y=c*p*f-h*u*y,this._z=c*u*y+h*p*f,this._w=c*u*f-h*p*y;break;case"YXZ":this._x=h*u*f+c*p*y,this._y=c*p*f-h*u*y,this._z=c*u*y-h*p*f,this._w=c*u*f+h*p*y;break;case"ZXY":this._x=h*u*f-c*p*y,this._y=c*p*f+h*u*y,this._z=c*u*y+h*p*f,this._w=c*u*f-h*p*y;break;case"ZYX":this._x=h*u*f-c*p*y,this._y=c*p*f+h*u*y,this._z=c*u*y-h*p*f,this._w=c*u*f+h*p*y;break;case"YZX":this._x=h*u*f+c*p*y,this._y=c*p*f+h*u*y,this._z=c*u*y-h*p*f,this._w=c*u*f-h*p*y;break;case"XZY":this._x=h*u*f-c*p*y,this._y=c*p*f-h*u*y,this._z=c*u*y+h*p*f,this._w=c*u*f+h*p*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,a=Math.sin(i);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],a=n[4],r=n[8],o=n[1],s=n[5],l=n[9],c=n[2],u=n[6],f=n[10],h=i+s+f;if(h>0){const p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(u-l)*p,this._y=(r-c)*p,this._z=(o-a)*p}else if(i>s&&i>f){const p=2*Math.sqrt(1+i-s-f);this._w=(u-l)/p,this._x=.25*p,this._y=(a+o)/p,this._z=(r+c)/p}else if(s>f){const p=2*Math.sqrt(1+s-i-f);this._w=(r-c)/p,this._x=(a+o)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+f-i-s);this._w=(o-a)/p,this._x=(r+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(hn(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const a=Math.min(1,n/i);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,a=e._y,r=e._z,o=e._w,s=n._x,l=n._y,c=n._z,u=n._w;return this._x=i*u+o*s+a*c-r*l,this._y=a*u+o*l+r*s-i*c,this._z=r*u+o*c+i*l-a*s,this._w=o*u-i*s-a*l-r*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,a=this._y,r=this._z,o=this._w;let s=o*e._w+i*e._x+a*e._y+r*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=i,this._y=a,this._z=r,this;const l=1-s*s;if(l<=Number.EPSILON){const p=1-n;return this._w=p*o+n*this._w,this._x=p*i+n*this._x,this._y=p*a+n*this._y,this._z=p*r+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,s),f=Math.sin((1-n)*u)/c,h=Math.sin(n*u)/c;return this._w=o*f+this._w*h,this._x=i*f+this._x*h,this._y=a*f+this._y*h,this._z=r*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),a=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(a*Math.sin(e),a*Math.cos(e),r*Math.sin(n),r*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class k{constructor(e=0,n=0,i=0){k.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(ym.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(ym.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,a=this.z,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6]*a,this.y=r[1]*n+r[4]*i+r[7]*a,this.z=r[2]*n+r[5]*i+r[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,a=this.z,r=e.elements,o=1/(r[3]*n+r[7]*i+r[11]*a+r[15]);return this.x=(r[0]*n+r[4]*i+r[8]*a+r[12])*o,this.y=(r[1]*n+r[5]*i+r[9]*a+r[13])*o,this.z=(r[2]*n+r[6]*i+r[10]*a+r[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,a=this.z,r=e.x,o=e.y,s=e.z,l=e.w,c=2*(o*a-s*i),u=2*(s*n-r*a),f=2*(r*i-o*n);return this.x=n+l*c+o*f-s*u,this.y=i+l*u+s*c-r*f,this.z=a+l*f+r*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,a=this.z,r=e.elements;return this.x=r[0]*n+r[4]*i+r[8]*a,this.y=r[1]*n+r[5]*i+r[9]*a,this.z=r[2]*n+r[6]*i+r[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,a=e.y,r=e.z,o=n.x,s=n.y,l=n.z;return this.x=a*l-r*s,this.y=r*o-i*l,this.z=i*s-a*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return mu.copy(this).projectOnVector(e),this.sub(mu)}reflect(e){return this.sub(mu.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(hn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,a=this.z-e.z;return n*n+i*i+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const a=Math.sin(n)*e;return this.x=a*Math.sin(i),this.y=Math.cos(n)*e,this.z=a*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=a,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const mu=new k,ym=new hs;class ps{constructor(e=new k(1/0,1/0,1/0),n=new k(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Vn.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Vn.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Vn.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const r=i.getAttribute("position");if(n===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let o=0,s=r.count;o<s;o++)e.isMesh===!0?e.getVertexPosition(o,Vn):Vn.fromBufferAttribute(r,o),Vn.applyMatrix4(e.matrixWorld),this.expandByPoint(Vn);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Fs.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Fs.copy(i.boundingBox)),Fs.applyMatrix4(e.matrixWorld),this.union(Fs)}const a=e.children;for(let r=0,o=a.length;r<o;r++)this.expandByObject(a[r],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Vn),Vn.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(yo),Os.subVectors(this.max,yo),nr.subVectors(e.a,yo),ir.subVectors(e.b,yo),ar.subVectors(e.c,yo),zi.subVectors(ir,nr),Fi.subVectors(ar,ir),_a.subVectors(nr,ar);let n=[0,-zi.z,zi.y,0,-Fi.z,Fi.y,0,-_a.z,_a.y,zi.z,0,-zi.x,Fi.z,0,-Fi.x,_a.z,0,-_a.x,-zi.y,zi.x,0,-Fi.y,Fi.x,0,-_a.y,_a.x,0];return!gu(n,nr,ir,ar,Os)||(n=[1,0,0,0,1,0,0,0,1],!gu(n,nr,ir,ar,Os))?!1:(Bs.crossVectors(zi,Fi),n=[Bs.x,Bs.y,Bs.z],gu(n,nr,ir,ar,Os))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Vn).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Vn).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(fi[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),fi[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),fi[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),fi[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),fi[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),fi[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),fi[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),fi[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(fi),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const fi=[new k,new k,new k,new k,new k,new k,new k,new k],Vn=new k,Fs=new ps,nr=new k,ir=new k,ar=new k,zi=new k,Fi=new k,_a=new k,yo=new k,Os=new k,Bs=new k,xa=new k;function gu(t,e,n,i,a){for(let r=0,o=t.length-3;r<=o;r+=3){xa.fromArray(t,r);const s=a.x*Math.abs(xa.x)+a.y*Math.abs(xa.y)+a.z*Math.abs(xa.z),l=e.dot(xa),c=n.dot(xa),u=i.dot(xa);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}const lE=new ps,_o=new k,vu=new k;class ms{constructor(e=new k,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):lE.setFromPoints(e).getCenter(i);let a=0;for(let r=0,o=e.length;r<o;r++)a=Math.max(a,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;_o.subVectors(e,this.center);const n=_o.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),a=(i-this.radius)*.5;this.center.addScaledVector(_o,a/i),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(vu.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(_o.copy(e.center).add(vu)),this.expandByPoint(_o.copy(e.center).sub(vu))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const hi=new k,yu=new k,ks=new k,Oi=new k,_u=new k,Hs=new k,xu=new k;class Qf{constructor(e=new k,n=new k(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,hi)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=hi.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(hi.copy(this.origin).addScaledVector(this.direction,n),hi.distanceToSquared(e))}distanceSqToSegment(e,n,i,a){yu.copy(e).add(n).multiplyScalar(.5),ks.copy(n).sub(e).normalize(),Oi.copy(this.origin).sub(yu);const r=e.distanceTo(n)*.5,o=-this.direction.dot(ks),s=Oi.dot(this.direction),l=-Oi.dot(ks),c=Oi.lengthSq(),u=Math.abs(1-o*o);let f,h,p,y;if(u>0)if(f=o*l-s,h=o*s-l,y=r*u,f>=0)if(h>=-y)if(h<=y){const _=1/u;f*=_,h*=_,p=f*(f+o*h+2*s)+h*(o*f+h+2*l)+c}else h=r,f=Math.max(0,-(o*h+s)),p=-f*f+h*(h+2*l)+c;else h=-r,f=Math.max(0,-(o*h+s)),p=-f*f+h*(h+2*l)+c;else h<=-y?(f=Math.max(0,-(-o*r+s)),h=f>0?-r:Math.min(Math.max(-r,-l),r),p=-f*f+h*(h+2*l)+c):h<=y?(f=0,h=Math.min(Math.max(-r,-l),r),p=h*(h+2*l)+c):(f=Math.max(0,-(o*r+s)),h=f>0?r:Math.min(Math.max(-r,-l),r),p=-f*f+h*(h+2*l)+c);else h=o>0?-r:r,f=Math.max(0,-(o*h+s)),p=-f*f+h*(h+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,f),a&&a.copy(yu).addScaledVector(ks,h),p}intersectSphere(e,n){hi.subVectors(e.center,this.origin);const i=hi.dot(this.direction),a=hi.dot(hi)-i*i,r=e.radius*e.radius;if(a>r)return null;const o=Math.sqrt(r-a),s=i-o,l=i+o;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,a,r,o,s,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,h=this.origin;return c>=0?(i=(e.min.x-h.x)*c,a=(e.max.x-h.x)*c):(i=(e.max.x-h.x)*c,a=(e.min.x-h.x)*c),u>=0?(r=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(r=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),i>o||r>a||((r>i||isNaN(i))&&(i=r),(o<a||isNaN(a))&&(a=o),f>=0?(s=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(s=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),i>l||s>a)||((s>i||i!==i)&&(i=s),(l<a||a!==a)&&(a=l),a<0)?null:this.at(i>=0?i:a,n)}intersectsBox(e){return this.intersectBox(e,hi)!==null}intersectTriangle(e,n,i,a,r){_u.subVectors(n,e),Hs.subVectors(i,e),xu.crossVectors(_u,Hs);let o=this.direction.dot(xu),s;if(o>0){if(a)return null;s=1}else if(o<0)s=-1,o=-o;else return null;Oi.subVectors(this.origin,e);const l=s*this.direction.dot(Hs.crossVectors(Oi,Hs));if(l<0)return null;const c=s*this.direction.dot(_u.cross(Oi));if(c<0||l+c>o)return null;const u=-s*Oi.dot(xu);return u<0?null:this.at(u/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class At{constructor(e,n,i,a,r,o,s,l,c,u,f,h,p,y,_,m){At.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,a,r,o,s,l,c,u,f,h,p,y,_,m)}set(e,n,i,a,r,o,s,l,c,u,f,h,p,y,_,m){const d=this.elements;return d[0]=e,d[4]=n,d[8]=i,d[12]=a,d[1]=r,d[5]=o,d[9]=s,d[13]=l,d[2]=c,d[6]=u,d[10]=f,d[14]=h,d[3]=p,d[7]=y,d[11]=_,d[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new At().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,a=1/rr.setFromMatrixColumn(e,0).length(),r=1/rr.setFromMatrixColumn(e,1).length(),o=1/rr.setFromMatrixColumn(e,2).length();return n[0]=i[0]*a,n[1]=i[1]*a,n[2]=i[2]*a,n[3]=0,n[4]=i[4]*r,n[5]=i[5]*r,n[6]=i[6]*r,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,a=e.y,r=e.z,o=Math.cos(i),s=Math.sin(i),l=Math.cos(a),c=Math.sin(a),u=Math.cos(r),f=Math.sin(r);if(e.order==="XYZ"){const h=o*u,p=o*f,y=s*u,_=s*f;n[0]=l*u,n[4]=-l*f,n[8]=c,n[1]=p+y*c,n[5]=h-_*c,n[9]=-s*l,n[2]=_-h*c,n[6]=y+p*c,n[10]=o*l}else if(e.order==="YXZ"){const h=l*u,p=l*f,y=c*u,_=c*f;n[0]=h+_*s,n[4]=y*s-p,n[8]=o*c,n[1]=o*f,n[5]=o*u,n[9]=-s,n[2]=p*s-y,n[6]=_+h*s,n[10]=o*l}else if(e.order==="ZXY"){const h=l*u,p=l*f,y=c*u,_=c*f;n[0]=h-_*s,n[4]=-o*f,n[8]=y+p*s,n[1]=p+y*s,n[5]=o*u,n[9]=_-h*s,n[2]=-o*c,n[6]=s,n[10]=o*l}else if(e.order==="ZYX"){const h=o*u,p=o*f,y=s*u,_=s*f;n[0]=l*u,n[4]=y*c-p,n[8]=h*c+_,n[1]=l*f,n[5]=_*c+h,n[9]=p*c-y,n[2]=-c,n[6]=s*l,n[10]=o*l}else if(e.order==="YZX"){const h=o*l,p=o*c,y=s*l,_=s*c;n[0]=l*u,n[4]=_-h*f,n[8]=y*f+p,n[1]=f,n[5]=o*u,n[9]=-s*u,n[2]=-c*u,n[6]=p*f+y,n[10]=h-_*f}else if(e.order==="XZY"){const h=o*l,p=o*c,y=s*l,_=s*c;n[0]=l*u,n[4]=-f,n[8]=c*u,n[1]=h*f+_,n[5]=o*u,n[9]=p*f-y,n[2]=y*f-p,n[6]=s*u,n[10]=_*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(cE,e,uE)}lookAt(e,n,i){const a=this.elements;return _n.subVectors(e,n),_n.lengthSq()===0&&(_n.z=1),_n.normalize(),Bi.crossVectors(i,_n),Bi.lengthSq()===0&&(Math.abs(i.z)===1?_n.x+=1e-4:_n.z+=1e-4,_n.normalize(),Bi.crossVectors(i,_n)),Bi.normalize(),Vs.crossVectors(_n,Bi),a[0]=Bi.x,a[4]=Vs.x,a[8]=_n.x,a[1]=Bi.y,a[5]=Vs.y,a[9]=_n.y,a[2]=Bi.z,a[6]=Vs.z,a[10]=_n.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,a=n.elements,r=this.elements,o=i[0],s=i[4],l=i[8],c=i[12],u=i[1],f=i[5],h=i[9],p=i[13],y=i[2],_=i[6],m=i[10],d=i[14],g=i[3],v=i[7],M=i[11],w=i[15],T=a[0],x=a[4],P=a[8],b=a[12],S=a[1],N=a[5],W=a[9],D=a[13],K=a[2],J=a[6],se=a[10],re=a[14],R=a[3],q=a[7],X=a[11],ce=a[15];return r[0]=o*T+s*S+l*K+c*R,r[4]=o*x+s*N+l*J+c*q,r[8]=o*P+s*W+l*se+c*X,r[12]=o*b+s*D+l*re+c*ce,r[1]=u*T+f*S+h*K+p*R,r[5]=u*x+f*N+h*J+p*q,r[9]=u*P+f*W+h*se+p*X,r[13]=u*b+f*D+h*re+p*ce,r[2]=y*T+_*S+m*K+d*R,r[6]=y*x+_*N+m*J+d*q,r[10]=y*P+_*W+m*se+d*X,r[14]=y*b+_*D+m*re+d*ce,r[3]=g*T+v*S+M*K+w*R,r[7]=g*x+v*N+M*J+w*q,r[11]=g*P+v*W+M*se+w*X,r[15]=g*b+v*D+M*re+w*ce,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],a=e[8],r=e[12],o=e[1],s=e[5],l=e[9],c=e[13],u=e[2],f=e[6],h=e[10],p=e[14],y=e[3],_=e[7],m=e[11],d=e[15];return y*(+r*l*f-a*c*f-r*s*h+i*c*h+a*s*p-i*l*p)+_*(+n*l*p-n*c*h+r*o*h-a*o*p+a*c*u-r*l*u)+m*(+n*c*f-n*s*p-r*o*f+i*o*p+r*s*u-i*c*u)+d*(-a*s*u-n*l*f+n*s*h+a*o*f-i*o*h+i*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=n,a[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],a=e[2],r=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=e[9],h=e[10],p=e[11],y=e[12],_=e[13],m=e[14],d=e[15],g=f*m*c-_*h*c+_*l*p-s*m*p-f*l*d+s*h*d,v=y*h*c-u*m*c-y*l*p+o*m*p+u*l*d-o*h*d,M=u*_*c-y*f*c+y*s*p-o*_*p-u*s*d+o*f*d,w=y*f*l-u*_*l-y*s*h+o*_*h+u*s*m-o*f*m,T=n*g+i*v+a*M+r*w;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const x=1/T;return e[0]=g*x,e[1]=(_*h*r-f*m*r-_*a*p+i*m*p+f*a*d-i*h*d)*x,e[2]=(s*m*r-_*l*r+_*a*c-i*m*c-s*a*d+i*l*d)*x,e[3]=(f*l*r-s*h*r-f*a*c+i*h*c+s*a*p-i*l*p)*x,e[4]=v*x,e[5]=(u*m*r-y*h*r+y*a*p-n*m*p-u*a*d+n*h*d)*x,e[6]=(y*l*r-o*m*r-y*a*c+n*m*c+o*a*d-n*l*d)*x,e[7]=(o*h*r-u*l*r+u*a*c-n*h*c-o*a*p+n*l*p)*x,e[8]=M*x,e[9]=(y*f*r-u*_*r-y*i*p+n*_*p+u*i*d-n*f*d)*x,e[10]=(o*_*r-y*s*r+y*i*c-n*_*c-o*i*d+n*s*d)*x,e[11]=(u*s*r-o*f*r-u*i*c+n*f*c+o*i*p-n*s*p)*x,e[12]=w*x,e[13]=(u*_*a-y*f*a+y*i*h-n*_*h-u*i*m+n*f*m)*x,e[14]=(y*s*a-o*_*a-y*i*l+n*_*l+o*i*m-n*s*m)*x,e[15]=(o*f*a-u*s*a+u*i*l-n*f*l-o*i*h+n*s*h)*x,this}scale(e){const n=this.elements,i=e.x,a=e.y,r=e.z;return n[0]*=i,n[4]*=a,n[8]*=r,n[1]*=i,n[5]*=a,n[9]*=r,n[2]*=i,n[6]*=a,n[10]*=r,n[3]*=i,n[7]*=a,n[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,a))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),a=Math.sin(n),r=1-i,o=e.x,s=e.y,l=e.z,c=r*o,u=r*s;return this.set(c*o+i,c*s-a*l,c*l+a*s,0,c*s+a*l,u*s+i,u*l-a*o,0,c*l-a*s,u*l+a*o,r*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,a,r,o){return this.set(1,i,r,0,e,1,o,0,n,a,1,0,0,0,0,1),this}compose(e,n,i){const a=this.elements,r=n._x,o=n._y,s=n._z,l=n._w,c=r+r,u=o+o,f=s+s,h=r*c,p=r*u,y=r*f,_=o*u,m=o*f,d=s*f,g=l*c,v=l*u,M=l*f,w=i.x,T=i.y,x=i.z;return a[0]=(1-(_+d))*w,a[1]=(p+M)*w,a[2]=(y-v)*w,a[3]=0,a[4]=(p-M)*T,a[5]=(1-(h+d))*T,a[6]=(m+g)*T,a[7]=0,a[8]=(y+v)*x,a[9]=(m-g)*x,a[10]=(1-(h+_))*x,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,n,i){const a=this.elements;let r=rr.set(a[0],a[1],a[2]).length();const o=rr.set(a[4],a[5],a[6]).length(),s=rr.set(a[8],a[9],a[10]).length();this.determinant()<0&&(r=-r),e.x=a[12],e.y=a[13],e.z=a[14],jn.copy(this);const c=1/r,u=1/o,f=1/s;return jn.elements[0]*=c,jn.elements[1]*=c,jn.elements[2]*=c,jn.elements[4]*=u,jn.elements[5]*=u,jn.elements[6]*=u,jn.elements[8]*=f,jn.elements[9]*=f,jn.elements[10]*=f,n.setFromRotationMatrix(jn),i.x=r,i.y=o,i.z=s,this}makePerspective(e,n,i,a,r,o,s=Ei){const l=this.elements,c=2*r/(n-e),u=2*r/(i-a),f=(n+e)/(n-e),h=(i+a)/(i-a);let p,y;if(s===Ei)p=-(o+r)/(o-r),y=-2*o*r/(o-r);else if(s===$l)p=-o/(o-r),y=-o*r/(o-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=p,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,a,r,o,s=Ei){const l=this.elements,c=1/(n-e),u=1/(i-a),f=1/(o-r),h=(n+e)*c,p=(i+a)*u;let y,_;if(s===Ei)y=(o+r)*f,_=-2*f;else if(s===$l)y=r*f,_=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=_,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let a=0;a<16;a++)if(n[a]!==i[a])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const rr=new k,jn=new At,cE=new k(0,0,0),uE=new k(1,1,1),Bi=new k,Vs=new k,_n=new k,_m=new At,xm=new hs;class ui{constructor(e=0,n=0,i=0,a=ui.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,a=this._order){return this._x=e,this._y=n,this._z=i,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const a=e.elements,r=a[0],o=a[4],s=a[8],l=a[1],c=a[5],u=a[9],f=a[2],h=a[6],p=a[10];switch(n){case"XYZ":this._y=Math.asin(hn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-hn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,r),this._z=0);break;case"ZXY":this._x=Math.asin(hn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,r));break;case"ZYX":this._y=Math.asin(-hn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(l,r)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(hn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,r)):(this._x=0,this._y=Math.atan2(s,p));break;case"XZY":this._z=Math.asin(-hn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(s,r)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return _m.makeRotationFromQuaternion(e),this.setFromRotationMatrix(_m,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return xm.setFromEuler(this),this.setFromQuaternion(xm,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ui.DEFAULT_ORDER="XYZ";class iy{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let dE=0;const Sm=new k,or=new hs,pi=new At,js=new k,xo=new k,fE=new k,hE=new hs,Mm=new k(1,0,0),Em=new k(0,1,0),bm=new k(0,0,1),Am={type:"added"},pE={type:"removed"},sr={type:"childadded",child:null},Su={type:"childremoved",child:null};class Wt extends to{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:dE++}),this.uuid=fs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Wt.DEFAULT_UP.clone();const e=new k,n=new ui,i=new hs,a=new k(1,1,1);function r(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(r),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new At},normalMatrix:{value:new qe}}),this.matrix=new At,this.matrixWorld=new At,this.matrixAutoUpdate=Wt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Wt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new iy,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return or.setFromAxisAngle(e,n),this.quaternion.multiply(or),this}rotateOnWorldAxis(e,n){return or.setFromAxisAngle(e,n),this.quaternion.premultiply(or),this}rotateX(e){return this.rotateOnAxis(Mm,e)}rotateY(e){return this.rotateOnAxis(Em,e)}rotateZ(e){return this.rotateOnAxis(bm,e)}translateOnAxis(e,n){return Sm.copy(e).applyQuaternion(this.quaternion),this.position.add(Sm.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(Mm,e)}translateY(e){return this.translateOnAxis(Em,e)}translateZ(e){return this.translateOnAxis(bm,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(pi.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?js.copy(e):js.set(e,n,i);const a=this.parent;this.updateWorldMatrix(!0,!1),xo.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?pi.lookAt(xo,js,this.up):pi.lookAt(js,xo,this.up),this.quaternion.setFromRotationMatrix(pi),a&&(pi.extractRotation(a.matrixWorld),or.setFromRotationMatrix(pi),this.quaternion.premultiply(or.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Am),sr.child=e,this.dispatchEvent(sr),sr.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(pE),Su.child=e,this.dispatchEvent(Su),Su.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),pi.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),pi.multiply(e.parent.matrixWorld)),e.applyMatrix4(pi),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Am),sr.child=e,this.dispatchEvent(sr),sr.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,a=this.children.length;i<a;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const a=this.children;for(let r=0,o=a.length;r<o;r++)a[r].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xo,e,fE),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xo,hE,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,a=n.length;i<a;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,a=n.length;i<a;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,a=n.length;i<a;i++){const r=n[i];(r.matrixWorldAutoUpdate===!0||e===!0)&&r.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const a=this.children;for(let r=0,o=a.length;r<o;r++){const s=a[r];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.visibility=this._visibility,a.active=this._active,a.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),a.maxGeometryCount=this._maxGeometryCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.geometryCount=this._geometryCount,a.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(a.boundingSphere={center:a.boundingSphere.center.toArray(),radius:a.boundingSphere.radius}),this.boundingBox!==null&&(a.boundingBox={min:a.boundingBox.min.toArray(),max:a.boundingBox.max.toArray()}));function r(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=r(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];r(e.shapes,f)}else r(e.shapes,l)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(r(e.materials,this.material[l]));a.material=s}else a.material=r(e.materials,this.material);if(this.children.length>0){a.children=[];for(let s=0;s<this.children.length;s++)a.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];a.animations.push(r(e.animations,l))}}if(n){const s=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),h=o(e.skeletons),p=o(e.animations),y=o(e.nodes);s.length>0&&(i.geometries=s),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),f.length>0&&(i.shapes=f),h.length>0&&(i.skeletons=h),p.length>0&&(i.animations=p),y.length>0&&(i.nodes=y)}return i.object=a,i;function o(s){const l=[];for(const c in s){const u=s[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const a=e.children[i];this.add(a.clone())}return this}}Wt.DEFAULT_UP=new k(0,1,0);Wt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Wt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Gn=new k,mi=new k,Mu=new k,gi=new k,lr=new k,cr=new k,Tm=new k,Eu=new k,bu=new k,Au=new k;class ri{constructor(e=new k,n=new k,i=new k){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,a){a.subVectors(i,n),Gn.subVectors(e,n),a.cross(Gn);const r=a.lengthSq();return r>0?a.multiplyScalar(1/Math.sqrt(r)):a.set(0,0,0)}static getBarycoord(e,n,i,a,r){Gn.subVectors(a,n),mi.subVectors(i,n),Mu.subVectors(e,n);const o=Gn.dot(Gn),s=Gn.dot(mi),l=Gn.dot(Mu),c=mi.dot(mi),u=mi.dot(Mu),f=o*c-s*s;if(f===0)return r.set(0,0,0),null;const h=1/f,p=(c*l-s*u)*h,y=(o*u-s*l)*h;return r.set(1-p-y,y,p)}static containsPoint(e,n,i,a){return this.getBarycoord(e,n,i,a,gi)===null?!1:gi.x>=0&&gi.y>=0&&gi.x+gi.y<=1}static getInterpolation(e,n,i,a,r,o,s,l){return this.getBarycoord(e,n,i,a,gi)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(r,gi.x),l.addScaledVector(o,gi.y),l.addScaledVector(s,gi.z),l)}static isFrontFacing(e,n,i,a){return Gn.subVectors(i,n),mi.subVectors(e,n),Gn.cross(mi).dot(a)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,a){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,n,i,a){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Gn.subVectors(this.c,this.b),mi.subVectors(this.a,this.b),Gn.cross(mi).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ri.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ri.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,a,r){return ri.getInterpolation(e,this.a,this.b,this.c,n,i,a,r)}containsPoint(e){return ri.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ri.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,a=this.b,r=this.c;let o,s;lr.subVectors(a,i),cr.subVectors(r,i),Eu.subVectors(e,i);const l=lr.dot(Eu),c=cr.dot(Eu);if(l<=0&&c<=0)return n.copy(i);bu.subVectors(e,a);const u=lr.dot(bu),f=cr.dot(bu);if(u>=0&&f<=u)return n.copy(a);const h=l*f-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(i).addScaledVector(lr,o);Au.subVectors(e,r);const p=lr.dot(Au),y=cr.dot(Au);if(y>=0&&p<=y)return n.copy(r);const _=p*c-l*y;if(_<=0&&c>=0&&y<=0)return s=c/(c-y),n.copy(i).addScaledVector(cr,s);const m=u*y-p*f;if(m<=0&&f-u>=0&&p-y>=0)return Tm.subVectors(r,a),s=(f-u)/(f-u+(p-y)),n.copy(a).addScaledVector(Tm,s);const d=1/(m+_+h);return o=_*d,s=h*d,n.copy(i).addScaledVector(lr,o).addScaledVector(cr,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const ay={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ki={h:0,s:0,l:0},Gs={h:0,s:0,l:0};function Tu(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class nt{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=ni){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,lt.toWorkingColorSpace(this,n),this}setRGB(e,n,i,a=lt.workingColorSpace){return this.r=e,this.g=n,this.b=i,lt.toWorkingColorSpace(this,a),this}setHSL(e,n,i,a=lt.workingColorSpace){if(e=QM(e,1),n=hn(n,0,1),i=hn(i,0,1),n===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+n):i+n-i*n,o=2*i-r;this.r=Tu(o,r,e+1/3),this.g=Tu(o,r,e),this.b=Tu(o,r,e-1/3)}return lt.toWorkingColorSpace(this,a),this}setStyle(e,n=ni){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const o=a[1],s=a[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,n);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,n);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=a[1],o=r.length;if(o===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(r,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=ni){const i=ay[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Br(e.r),this.g=Br(e.g),this.b=Br(e.b),this}copyLinearToSRGB(e){return this.r=hu(e.r),this.g=hu(e.g),this.b=hu(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ni){return lt.fromWorkingColorSpace(Qt.copy(this),e),Math.round(hn(Qt.r*255,0,255))*65536+Math.round(hn(Qt.g*255,0,255))*256+Math.round(hn(Qt.b*255,0,255))}getHexString(e=ni){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=lt.workingColorSpace){lt.fromWorkingColorSpace(Qt.copy(this),n);const i=Qt.r,a=Qt.g,r=Qt.b,o=Math.max(i,a,r),s=Math.min(i,a,r);let l,c;const u=(s+o)/2;if(s===o)l=0,c=0;else{const f=o-s;switch(c=u<=.5?f/(o+s):f/(2-o-s),o){case i:l=(a-r)/f+(a<r?6:0);break;case a:l=(r-i)/f+2;break;case r:l=(i-a)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=lt.workingColorSpace){return lt.fromWorkingColorSpace(Qt.copy(this),n),e.r=Qt.r,e.g=Qt.g,e.b=Qt.b,e}getStyle(e=ni){lt.fromWorkingColorSpace(Qt.copy(this),e);const n=Qt.r,i=Qt.g,a=Qt.b;return e!==ni?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(a*255)})`}offsetHSL(e,n,i){return this.getHSL(ki),this.setHSL(ki.h+e,ki.s+n,ki.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(ki),e.getHSL(Gs);const i=du(ki.h,Gs.h,n),a=du(ki.s,Gs.s,n),r=du(ki.l,Gs.l,n);return this.setHSL(i,a,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,a=this.b,r=e.elements;return this.r=r[0]*n+r[3]*i+r[6]*a,this.g=r[1]*n+r[4]*i+r[7]*a,this.b=r[2]*n+r[5]*i+r[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Qt=new nt;nt.NAMES=ay;let mE=0;class $a extends to{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:mE++}),this.uuid=fs(),this.name="",this.type="Material",this.blending=Fr,this.side=ca,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Od,this.blendDst=Bd,this.blendEquation=Ra,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new nt(0,0,0),this.blendAlpha=0,this.depthFunc=Xl,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=fm,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=er,this.stencilZFail=er,this.stencilZPass=er,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const a=this[n];if(a===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(i):a&&a.isVector3&&i&&i.isVector3?a.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Fr&&(i.blending=this.blending),this.side!==ca&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Od&&(i.blendSrc=this.blendSrc),this.blendDst!==Bd&&(i.blendDst=this.blendDst),this.blendEquation!==Ra&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Xl&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==fm&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==er&&(i.stencilFail=this.stencilFail),this.stencilZFail!==er&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==er&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function a(r){const o=[];for(const s in r){const l=r[s];delete l.metadata,o.push(l)}return o}if(n){const r=a(e.textures),o=a(e.images);r.length>0&&(i.textures=r),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const a=n.length;i=new Array(a);for(let r=0;r!==a;++r)i[r]=n[r].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ry extends $a{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new nt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ui,this.combine=$f,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const It=new k,Ws=new at;class Zn{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=hm,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Yi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return tE("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let a=0,r=this.itemSize;a<r;a++)this.array[e+a]=n.array[i+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)Ws.fromBufferAttribute(this,n),Ws.applyMatrix3(e),this.setXY(n,Ws.x,Ws.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)It.fromBufferAttribute(this,n),It.applyMatrix3(e),this.setXYZ(n,It.x,It.y,It.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)It.fromBufferAttribute(this,n),It.applyMatrix4(e),this.setXYZ(n,It.x,It.y,It.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)It.fromBufferAttribute(this,n),It.applyNormalMatrix(e),this.setXYZ(n,It.x,It.y,It.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)It.fromBufferAttribute(this,n),It.transformDirection(e),this.setXYZ(n,It.x,It.y,It.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=vo(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=dn(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=vo(n,this.array)),n}setX(e,n){return this.normalized&&(n=dn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=vo(n,this.array)),n}setY(e,n){return this.normalized&&(n=dn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=vo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=dn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=vo(n,this.array)),n}setW(e,n){return this.normalized&&(n=dn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=dn(n,this.array),i=dn(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,a){return e*=this.itemSize,this.normalized&&(n=dn(n,this.array),i=dn(i,this.array),a=dn(a,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=a,this}setXYZW(e,n,i,a,r){return e*=this.itemSize,this.normalized&&(n=dn(n,this.array),i=dn(i,this.array),a=dn(a,this.array),r=dn(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=a,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==hm&&(e.usage=this.usage),e}}class oy extends Zn{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class sy extends Zn{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class Fn extends Zn{constructor(e,n,i){super(new Float32Array(e),n,i)}}let gE=0;const Cn=new At,wu=new Wt,ur=new k,xn=new ps,So=new ps,Ht=new k;class kn extends to{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:gE++}),this.uuid=fs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(ey(e)?sy:oy)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new qe().getNormalMatrix(e);i.applyNormalMatrix(r),i.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Cn.makeRotationFromQuaternion(e),this.applyMatrix4(Cn),this}rotateX(e){return Cn.makeRotationX(e),this.applyMatrix4(Cn),this}rotateY(e){return Cn.makeRotationY(e),this.applyMatrix4(Cn),this}rotateZ(e){return Cn.makeRotationZ(e),this.applyMatrix4(Cn),this}translate(e,n,i){return Cn.makeTranslation(e,n,i),this.applyMatrix4(Cn),this}scale(e,n,i){return Cn.makeScale(e,n,i),this.applyMatrix4(Cn),this}lookAt(e){return wu.lookAt(e),wu.updateMatrix(),this.applyMatrix4(wu.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ur).negate(),this.translate(ur.x,ur.y,ur.z),this}setFromPoints(e){const n=[];for(let i=0,a=e.length;i<a;i++){const r=e[i];n.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Fn(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ps);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new k(-1/0,-1/0,-1/0),new k(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,a=n.length;i<a;i++){const r=n[i];xn.setFromBufferAttribute(r),this.morphTargetsRelative?(Ht.addVectors(this.boundingBox.min,xn.min),this.boundingBox.expandByPoint(Ht),Ht.addVectors(this.boundingBox.max,xn.max),this.boundingBox.expandByPoint(Ht)):(this.boundingBox.expandByPoint(xn.min),this.boundingBox.expandByPoint(xn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ms);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new k,1/0);return}if(e){const i=this.boundingSphere.center;if(xn.setFromBufferAttribute(e),n)for(let r=0,o=n.length;r<o;r++){const s=n[r];So.setFromBufferAttribute(s),this.morphTargetsRelative?(Ht.addVectors(xn.min,So.min),xn.expandByPoint(Ht),Ht.addVectors(xn.max,So.max),xn.expandByPoint(Ht)):(xn.expandByPoint(So.min),xn.expandByPoint(So.max))}xn.getCenter(i);let a=0;for(let r=0,o=e.count;r<o;r++)Ht.fromBufferAttribute(e,r),a=Math.max(a,i.distanceToSquared(Ht));if(n)for(let r=0,o=n.length;r<o;r++){const s=n[r],l=this.morphTargetsRelative;for(let c=0,u=s.count;c<u;c++)Ht.fromBufferAttribute(s,c),l&&(ur.fromBufferAttribute(e,c),Ht.add(ur)),a=Math.max(a,i.distanceToSquared(Ht))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,a=n.normal,r=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Zn(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),s=[],l=[];for(let P=0;P<i.count;P++)s[P]=new k,l[P]=new k;const c=new k,u=new k,f=new k,h=new at,p=new at,y=new at,_=new k,m=new k;function d(P,b,S){c.fromBufferAttribute(i,P),u.fromBufferAttribute(i,b),f.fromBufferAttribute(i,S),h.fromBufferAttribute(r,P),p.fromBufferAttribute(r,b),y.fromBufferAttribute(r,S),u.sub(c),f.sub(c),p.sub(h),y.sub(h);const N=1/(p.x*y.y-y.x*p.y);isFinite(N)&&(_.copy(u).multiplyScalar(y.y).addScaledVector(f,-p.y).multiplyScalar(N),m.copy(f).multiplyScalar(p.x).addScaledVector(u,-y.x).multiplyScalar(N),s[P].add(_),s[b].add(_),s[S].add(_),l[P].add(m),l[b].add(m),l[S].add(m))}let g=this.groups;g.length===0&&(g=[{start:0,count:e.count}]);for(let P=0,b=g.length;P<b;++P){const S=g[P],N=S.start,W=S.count;for(let D=N,K=N+W;D<K;D+=3)d(e.getX(D+0),e.getX(D+1),e.getX(D+2))}const v=new k,M=new k,w=new k,T=new k;function x(P){w.fromBufferAttribute(a,P),T.copy(w);const b=s[P];v.copy(b),v.sub(w.multiplyScalar(w.dot(b))).normalize(),M.crossVectors(T,b);const N=M.dot(l[P])<0?-1:1;o.setXYZW(P,v.x,v.y,v.z,N)}for(let P=0,b=g.length;P<b;++P){const S=g[P],N=S.start,W=S.count;for(let D=N,K=N+W;D<K;D+=3)x(e.getX(D+0)),x(e.getX(D+1)),x(e.getX(D+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Zn(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let h=0,p=i.count;h<p;h++)i.setXYZ(h,0,0,0);const a=new k,r=new k,o=new k,s=new k,l=new k,c=new k,u=new k,f=new k;if(e)for(let h=0,p=e.count;h<p;h+=3){const y=e.getX(h+0),_=e.getX(h+1),m=e.getX(h+2);a.fromBufferAttribute(n,y),r.fromBufferAttribute(n,_),o.fromBufferAttribute(n,m),u.subVectors(o,r),f.subVectors(a,r),u.cross(f),s.fromBufferAttribute(i,y),l.fromBufferAttribute(i,_),c.fromBufferAttribute(i,m),s.add(u),l.add(u),c.add(u),i.setXYZ(y,s.x,s.y,s.z),i.setXYZ(_,l.x,l.y,l.z),i.setXYZ(m,c.x,c.y,c.z)}else for(let h=0,p=n.count;h<p;h+=3)a.fromBufferAttribute(n,h+0),r.fromBufferAttribute(n,h+1),o.fromBufferAttribute(n,h+2),u.subVectors(o,r),f.subVectors(a,r),u.cross(f),i.setXYZ(h+0,u.x,u.y,u.z),i.setXYZ(h+1,u.x,u.y,u.z),i.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Ht.fromBufferAttribute(e,n),Ht.normalize(),e.setXYZ(n,Ht.x,Ht.y,Ht.z)}toNonIndexed(){function e(s,l){const c=s.array,u=s.itemSize,f=s.normalized,h=new c.constructor(l.length*u);let p=0,y=0;for(let _=0,m=l.length;_<m;_++){s.isInterleavedBufferAttribute?p=l[_]*s.data.stride+s.offset:p=l[_]*u;for(let d=0;d<u;d++)h[y++]=c[p++]}return new Zn(h,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new kn,i=this.index.array,a=this.attributes;for(const s in a){const l=a[s],c=e(l,i);n.setAttribute(s,c)}const r=this.morphAttributes;for(const s in r){const l=[],c=r[s];for(let u=0,f=c.length;u<f;u++){const h=c[u],p=e(h,i);l.push(p)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,l=o.length;s<l;s++){const c=o[s];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const a={};let r=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,h=c.length;f<h;f++){const p=c[f];u.push(p.toJSON(e.data))}u.length>0&&(a[l]=u,r=!0)}r&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const a=e.attributes;for(const c in a){const u=a[c];this.setAttribute(c,u.clone(n))}const r=e.morphAttributes;for(const c in r){const u=[],f=r[c];for(let h=0,p=f.length;h<p;h++)u.push(f[h].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const wm=new At,Sa=new Qf,qs=new ms,Cm=new k,dr=new k,fr=new k,hr=new k,Cu=new k,Xs=new k,Ks=new at,Js=new at,Ys=new at,Rm=new k,Pm=new k,Lm=new k,$s=new k,Zs=new k;class si extends Wt{constructor(e=new kn,n=new ry){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const a=n[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=a.length;r<o;r++){const s=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=r}}}}getVertexPosition(e,n){const i=this.geometry,a=i.attributes.position,r=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(a,e);const s=this.morphTargetInfluences;if(r&&s){Xs.set(0,0,0);for(let l=0,c=r.length;l<c;l++){const u=s[l],f=r[l];u!==0&&(Cu.fromBufferAttribute(f,e),o?Xs.addScaledVector(Cu,u):Xs.addScaledVector(Cu.sub(n),u))}n.add(Xs)}return n}raycast(e,n){const i=this.geometry,a=this.material,r=this.matrixWorld;a!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),qs.copy(i.boundingSphere),qs.applyMatrix4(r),Sa.copy(e.ray).recast(e.near),!(qs.containsPoint(Sa.origin)===!1&&(Sa.intersectSphere(qs,Cm)===null||Sa.origin.distanceToSquared(Cm)>(e.far-e.near)**2))&&(wm.copy(r).invert(),Sa.copy(e.ray).applyMatrix4(wm),!(i.boundingBox!==null&&Sa.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,Sa)))}_computeIntersections(e,n,i){let a;const r=this.geometry,o=this.material,s=r.index,l=r.attributes.position,c=r.attributes.uv,u=r.attributes.uv1,f=r.attributes.normal,h=r.groups,p=r.drawRange;if(s!==null)if(Array.isArray(o))for(let y=0,_=h.length;y<_;y++){const m=h[y],d=o[m.materialIndex],g=Math.max(m.start,p.start),v=Math.min(s.count,Math.min(m.start+m.count,p.start+p.count));for(let M=g,w=v;M<w;M+=3){const T=s.getX(M),x=s.getX(M+1),P=s.getX(M+2);a=Qs(this,d,e,i,c,u,f,T,x,P),a&&(a.faceIndex=Math.floor(M/3),a.face.materialIndex=m.materialIndex,n.push(a))}}else{const y=Math.max(0,p.start),_=Math.min(s.count,p.start+p.count);for(let m=y,d=_;m<d;m+=3){const g=s.getX(m),v=s.getX(m+1),M=s.getX(m+2);a=Qs(this,o,e,i,c,u,f,g,v,M),a&&(a.faceIndex=Math.floor(m/3),n.push(a))}}else if(l!==void 0)if(Array.isArray(o))for(let y=0,_=h.length;y<_;y++){const m=h[y],d=o[m.materialIndex],g=Math.max(m.start,p.start),v=Math.min(l.count,Math.min(m.start+m.count,p.start+p.count));for(let M=g,w=v;M<w;M+=3){const T=M,x=M+1,P=M+2;a=Qs(this,d,e,i,c,u,f,T,x,P),a&&(a.faceIndex=Math.floor(M/3),a.face.materialIndex=m.materialIndex,n.push(a))}}else{const y=Math.max(0,p.start),_=Math.min(l.count,p.start+p.count);for(let m=y,d=_;m<d;m+=3){const g=m,v=m+1,M=m+2;a=Qs(this,o,e,i,c,u,f,g,v,M),a&&(a.faceIndex=Math.floor(m/3),n.push(a))}}}}function vE(t,e,n,i,a,r,o,s){let l;if(e.side===yn?l=i.intersectTriangle(o,r,a,!0,s):l=i.intersectTriangle(a,r,o,e.side===ca,s),l===null)return null;Zs.copy(s),Zs.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Zs);return c<n.near||c>n.far?null:{distance:c,point:Zs.clone(),object:t}}function Qs(t,e,n,i,a,r,o,s,l,c){t.getVertexPosition(s,dr),t.getVertexPosition(l,fr),t.getVertexPosition(c,hr);const u=vE(t,e,n,i,dr,fr,hr,$s);if(u){a&&(Ks.fromBufferAttribute(a,s),Js.fromBufferAttribute(a,l),Ys.fromBufferAttribute(a,c),u.uv=ri.getInterpolation($s,dr,fr,hr,Ks,Js,Ys,new at)),r&&(Ks.fromBufferAttribute(r,s),Js.fromBufferAttribute(r,l),Ys.fromBufferAttribute(r,c),u.uv1=ri.getInterpolation($s,dr,fr,hr,Ks,Js,Ys,new at)),o&&(Rm.fromBufferAttribute(o,s),Pm.fromBufferAttribute(o,l),Lm.fromBufferAttribute(o,c),u.normal=ri.getInterpolation($s,dr,fr,hr,Rm,Pm,Lm,new k),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const f={a:s,b:l,c,normal:new k,materialIndex:0};ri.getNormal(dr,fr,hr,f.normal),u.face=f}return u}class gs extends kn{constructor(e=1,n=1,i=1,a=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:a,heightSegments:r,depthSegments:o};const s=this;a=Math.floor(a),r=Math.floor(r),o=Math.floor(o);const l=[],c=[],u=[],f=[];let h=0,p=0;y("z","y","x",-1,-1,i,n,e,o,r,0),y("z","y","x",1,-1,i,n,-e,o,r,1),y("x","z","y",1,1,e,i,n,a,o,2),y("x","z","y",1,-1,e,i,-n,a,o,3),y("x","y","z",1,-1,e,n,i,a,r,4),y("x","y","z",-1,-1,e,n,-i,a,r,5),this.setIndex(l),this.setAttribute("position",new Fn(c,3)),this.setAttribute("normal",new Fn(u,3)),this.setAttribute("uv",new Fn(f,2));function y(_,m,d,g,v,M,w,T,x,P,b){const S=M/x,N=w/P,W=M/2,D=w/2,K=T/2,J=x+1,se=P+1;let re=0,R=0;const q=new k;for(let X=0;X<se;X++){const ce=X*N-D;for(let Ee=0;Ee<J;Ee++){const Ke=Ee*S-W;q[_]=Ke*g,q[m]=ce*v,q[d]=K,c.push(q.x,q.y,q.z),q[_]=0,q[m]=0,q[d]=T>0?1:-1,u.push(q.x,q.y,q.z),f.push(Ee/x),f.push(1-X/P),re+=1}}for(let X=0;X<P;X++)for(let ce=0;ce<x;ce++){const Ee=h+ce+J*X,Ke=h+ce+J*(X+1),j=h+(ce+1)+J*(X+1),ie=h+(ce+1)+J*X;l.push(Ee,Ke,ie),l.push(Ke,j,ie),R+=6}s.addGroup(p,R,b),p+=R,h+=re}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gs(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Yr(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const a=t[n][i];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=a.clone():Array.isArray(a)?e[n][i]=a.slice():e[n][i]=a}}return e}function rn(t){const e={};for(let n=0;n<t.length;n++){const i=Yr(t[n]);for(const a in i)e[a]=i[a]}return e}function yE(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function ly(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:lt.workingColorSpace}const _E={clone:Yr,merge:rn};var xE=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,SE=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class da extends $a{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=xE,this.fragmentShader=SE,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Yr(e.uniforms),this.uniformsGroups=yE(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const a in this.uniforms){const o=this.uniforms[a].value;o&&o.isTexture?n.uniforms[a]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[a]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[a]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[a]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[a]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[a]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[a]={type:"m4",value:o.toArray()}:n.uniforms[a]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const a in this.extensions)this.extensions[a]===!0&&(i[a]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class cy extends Wt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new At,this.projectionMatrix=new At,this.projectionMatrixInverse=new At,this.coordinateSystem=Ei}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Hi=new k,Dm=new at,Im=new at;class In extends cy{constructor(e=50,n=1,i=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=a,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Gd*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(uu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Gd*2*Math.atan(Math.tan(uu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){Hi.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Hi.x,Hi.y).multiplyScalar(-e/Hi.z),Hi.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Hi.x,Hi.y).multiplyScalar(-e/Hi.z)}getViewSize(e,n){return this.getViewBounds(e,Dm,Im),n.subVectors(Im,Dm)}setViewOffset(e,n,i,a,r,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=a,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(uu*.5*this.fov)/this.zoom,i=2*n,a=this.aspect*i,r=-.5*a;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;r+=o.offsetX*a/l,n-=o.offsetY*i/c,a*=o.width/l,i*=o.height/c}const s=this.filmOffset;s!==0&&(r+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+a,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const pr=-90,mr=1;class ME extends Wt{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new In(pr,mr,e,n);a.layers=this.layers,this.add(a);const r=new In(pr,mr,e,n);r.layers=this.layers,this.add(r);const o=new In(pr,mr,e,n);o.layers=this.layers,this.add(o);const s=new In(pr,mr,e,n);s.layers=this.layers,this.add(s);const l=new In(pr,mr,e,n);l.layers=this.layers,this.add(l);const c=new In(pr,mr,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,a,r,o,s,l]=n;for(const c of n)this.remove(c);if(e===Ei)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===$l)i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,o,s,l,c,u]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const _=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,a),e.render(n,r),e.setRenderTarget(i,1,a),e.render(n,o),e.setRenderTarget(i,2,a),e.render(n,s),e.setRenderTarget(i,3,a),e.render(n,l),e.setRenderTarget(i,4,a),e.render(n,c),i.texture.generateMipmaps=_,e.setRenderTarget(i,5,a),e.render(n,u),e.setRenderTarget(f,h,p),e.xr.enabled=y,i.texture.needsPMREMUpdate=!0}}class uy extends ln{constructor(e,n,i,a,r,o,s,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Xr,super(e,n,i,a,r,o,s,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class EE extends Xa{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},a=[i,i,i,i,i,i];this.texture=new uy(a,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Jn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new gs(5,5,5),r=new da({name:"CubemapFromEquirect",uniforms:Yr(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:yn,blending:ra});r.uniforms.tEquirect.value=n;const o=new si(a,r),s=n.minFilter;return n.minFilter===Fa&&(n.minFilter=Jn),new ME(1,10,this).update(e,o),n.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,i,a){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,a);e.setRenderTarget(r)}}const Ru=new k,bE=new k,AE=new qe;class wa{constructor(e=new k(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,a){return this.normal.set(e,n,i),this.constant=a,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const a=Ru.subVectors(i,n).cross(bE.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(Ru),a=this.normal.dot(i);if(a===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/a;return r<0||r>1?null:n.copy(e.start).addScaledVector(i,r)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||AE.getNormalMatrix(e),a=this.coplanarPoint(Ru).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-a.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ma=new ms,el=new k;class eh{constructor(e=new wa,n=new wa,i=new wa,a=new wa,r=new wa,o=new wa){this.planes=[e,n,i,a,r,o]}set(e,n,i,a,r,o){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(i),s[3].copy(a),s[4].copy(r),s[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=Ei){const i=this.planes,a=e.elements,r=a[0],o=a[1],s=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],p=a[8],y=a[9],_=a[10],m=a[11],d=a[12],g=a[13],v=a[14],M=a[15];if(i[0].setComponents(l-r,h-c,m-p,M-d).normalize(),i[1].setComponents(l+r,h+c,m+p,M+d).normalize(),i[2].setComponents(l+o,h+u,m+y,M+g).normalize(),i[3].setComponents(l-o,h-u,m-y,M-g).normalize(),i[4].setComponents(l-s,h-f,m-_,M-v).normalize(),n===Ei)i[5].setComponents(l+s,h+f,m+_,M+v).normalize();else if(n===$l)i[5].setComponents(s,f,_,v).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ma.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Ma.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ma)}intersectsSprite(e){return Ma.center.set(0,0,0),Ma.radius=.7071067811865476,Ma.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ma)}intersectsSphere(e){const n=this.planes,i=e.center,a=-e.radius;for(let r=0;r<6;r++)if(n[r].distanceToPoint(i)<a)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const a=n[i];if(el.x=a.normal.x>0?e.max.x:e.min.x,el.y=a.normal.y>0?e.max.y:e.min.y,el.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(el)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function dy(){let t=null,e=!1,n=null,i=null;function a(r,o){n(r,o),i=t.requestAnimationFrame(a)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(a),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(r){n=r},setContext:function(r){t=r}}}function TE(t){const e=new WeakMap;function n(s,l){const c=s.array,u=s.usage,f=c.byteLength,h=t.createBuffer();t.bindBuffer(l,h),t.bufferData(l,c,u),s.onUploadCallback();let p;if(c instanceof Float32Array)p=t.FLOAT;else if(c instanceof Uint16Array)s.isFloat16BufferAttribute?p=t.HALF_FLOAT:p=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)p=t.SHORT;else if(c instanceof Uint32Array)p=t.UNSIGNED_INT;else if(c instanceof Int32Array)p=t.INT;else if(c instanceof Int8Array)p=t.BYTE;else if(c instanceof Uint8Array)p=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)p=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:p,bytesPerElement:c.BYTES_PER_ELEMENT,version:s.version,size:f}}function i(s,l,c){const u=l.array,f=l._updateRange,h=l.updateRanges;if(t.bindBuffer(c,s),f.count===-1&&h.length===0&&t.bufferSubData(c,0,u),h.length!==0){for(let p=0,y=h.length;p<y;p++){const _=h[p];t.bufferSubData(c,_.start*u.BYTES_PER_ELEMENT,u,_.start,_.count)}l.clearUpdateRanges()}f.count!==-1&&(t.bufferSubData(c,f.offset*u.BYTES_PER_ELEMENT,u,f.offset,f.count),f.count=-1),l.onUploadCallback()}function a(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function r(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=e.get(s);l&&(t.deleteBuffer(l.buffer),e.delete(s))}function o(s,l){if(s.isGLBufferAttribute){const u=e.get(s);(!u||u.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}s.isInterleavedBufferAttribute&&(s=s.data);const c=e.get(s);if(c===void 0)e.set(s,n(s,l));else if(c.version<s.version){if(c.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,s,l),c.version=s.version}}return{get:a,remove:r,update:o}}class Ec extends kn{constructor(e=1,n=1,i=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:a};const r=e/2,o=n/2,s=Math.floor(i),l=Math.floor(a),c=s+1,u=l+1,f=e/s,h=n/l,p=[],y=[],_=[],m=[];for(let d=0;d<u;d++){const g=d*h-o;for(let v=0;v<c;v++){const M=v*f-r;y.push(M,-g,0),_.push(0,0,1),m.push(v/s),m.push(1-d/l)}}for(let d=0;d<l;d++)for(let g=0;g<s;g++){const v=g+c*d,M=g+c*(d+1),w=g+1+c*(d+1),T=g+1+c*d;p.push(v,M,T),p.push(M,w,T)}this.setIndex(p),this.setAttribute("position",new Fn(y,3)),this.setAttribute("normal",new Fn(_,3)),this.setAttribute("uv",new Fn(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ec(e.width,e.height,e.widthSegments,e.heightSegments)}}var wE=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,CE=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,RE=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,PE=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,LE=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,DE=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,IE=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,NE=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,UE=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,zE=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,FE=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,OE=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,BE=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,kE=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,HE=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,VE=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,jE=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,GE=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,WE=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,qE=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,XE=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,KE=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,JE=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,YE=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,$E=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,ZE=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,QE=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,eb=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,tb=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,nb=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,ib="gl_FragColor = linearToOutputTexel( gl_FragColor );",ab=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,rb=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,ob=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,sb=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,lb=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,cb=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ub=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,db=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fb=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,hb=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,pb=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,mb=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,gb=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,vb=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,yb=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,_b=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,xb=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Sb=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Mb=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Eb=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,bb=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Ab=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Tb=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,wb=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Cb=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Rb=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Pb=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Lb=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Db=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Ib=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Nb=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Ub=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,zb=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Fb=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Ob=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Bb=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,kb=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Hb=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Vb=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,jb=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Gb=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Wb=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,qb=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Xb=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Kb=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Jb=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Yb=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,$b=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Zb=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Qb=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,eA=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,tA=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,nA=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,iA=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,aA=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,rA=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,oA=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,sA=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,lA=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,cA=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,uA=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,dA=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,fA=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,hA=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,pA=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,mA=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,gA=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,vA=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,yA=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,_A=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,xA=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,SA=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,MA=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,EA=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,bA=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,AA=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const TA=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,wA=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,CA=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,RA=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,PA=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,LA=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,DA=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,IA=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,NA=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,UA=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,zA=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,FA=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,OA=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,BA=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,kA=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,HA=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,VA=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jA=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GA=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,WA=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qA=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,XA=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,KA=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,JA=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,YA=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,$A=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZA=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,QA=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eT=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,tT=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nT=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,iT=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,aT=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,rT=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,We={alphahash_fragment:wE,alphahash_pars_fragment:CE,alphamap_fragment:RE,alphamap_pars_fragment:PE,alphatest_fragment:LE,alphatest_pars_fragment:DE,aomap_fragment:IE,aomap_pars_fragment:NE,batching_pars_vertex:UE,batching_vertex:zE,begin_vertex:FE,beginnormal_vertex:OE,bsdfs:BE,iridescence_fragment:kE,bumpmap_pars_fragment:HE,clipping_planes_fragment:VE,clipping_planes_pars_fragment:jE,clipping_planes_pars_vertex:GE,clipping_planes_vertex:WE,color_fragment:qE,color_pars_fragment:XE,color_pars_vertex:KE,color_vertex:JE,common:YE,cube_uv_reflection_fragment:$E,defaultnormal_vertex:ZE,displacementmap_pars_vertex:QE,displacementmap_vertex:eb,emissivemap_fragment:tb,emissivemap_pars_fragment:nb,colorspace_fragment:ib,colorspace_pars_fragment:ab,envmap_fragment:rb,envmap_common_pars_fragment:ob,envmap_pars_fragment:sb,envmap_pars_vertex:lb,envmap_physical_pars_fragment:_b,envmap_vertex:cb,fog_vertex:ub,fog_pars_vertex:db,fog_fragment:fb,fog_pars_fragment:hb,gradientmap_pars_fragment:pb,lightmap_pars_fragment:mb,lights_lambert_fragment:gb,lights_lambert_pars_fragment:vb,lights_pars_begin:yb,lights_toon_fragment:xb,lights_toon_pars_fragment:Sb,lights_phong_fragment:Mb,lights_phong_pars_fragment:Eb,lights_physical_fragment:bb,lights_physical_pars_fragment:Ab,lights_fragment_begin:Tb,lights_fragment_maps:wb,lights_fragment_end:Cb,logdepthbuf_fragment:Rb,logdepthbuf_pars_fragment:Pb,logdepthbuf_pars_vertex:Lb,logdepthbuf_vertex:Db,map_fragment:Ib,map_pars_fragment:Nb,map_particle_fragment:Ub,map_particle_pars_fragment:zb,metalnessmap_fragment:Fb,metalnessmap_pars_fragment:Ob,morphinstance_vertex:Bb,morphcolor_vertex:kb,morphnormal_vertex:Hb,morphtarget_pars_vertex:Vb,morphtarget_vertex:jb,normal_fragment_begin:Gb,normal_fragment_maps:Wb,normal_pars_fragment:qb,normal_pars_vertex:Xb,normal_vertex:Kb,normalmap_pars_fragment:Jb,clearcoat_normal_fragment_begin:Yb,clearcoat_normal_fragment_maps:$b,clearcoat_pars_fragment:Zb,iridescence_pars_fragment:Qb,opaque_fragment:eA,packing:tA,premultiplied_alpha_fragment:nA,project_vertex:iA,dithering_fragment:aA,dithering_pars_fragment:rA,roughnessmap_fragment:oA,roughnessmap_pars_fragment:sA,shadowmap_pars_fragment:lA,shadowmap_pars_vertex:cA,shadowmap_vertex:uA,shadowmask_pars_fragment:dA,skinbase_vertex:fA,skinning_pars_vertex:hA,skinning_vertex:pA,skinnormal_vertex:mA,specularmap_fragment:gA,specularmap_pars_fragment:vA,tonemapping_fragment:yA,tonemapping_pars_fragment:_A,transmission_fragment:xA,transmission_pars_fragment:SA,uv_pars_fragment:MA,uv_pars_vertex:EA,uv_vertex:bA,worldpos_vertex:AA,background_vert:TA,background_frag:wA,backgroundCube_vert:CA,backgroundCube_frag:RA,cube_vert:PA,cube_frag:LA,depth_vert:DA,depth_frag:IA,distanceRGBA_vert:NA,distanceRGBA_frag:UA,equirect_vert:zA,equirect_frag:FA,linedashed_vert:OA,linedashed_frag:BA,meshbasic_vert:kA,meshbasic_frag:HA,meshlambert_vert:VA,meshlambert_frag:jA,meshmatcap_vert:GA,meshmatcap_frag:WA,meshnormal_vert:qA,meshnormal_frag:XA,meshphong_vert:KA,meshphong_frag:JA,meshphysical_vert:YA,meshphysical_frag:$A,meshtoon_vert:ZA,meshtoon_frag:QA,points_vert:eT,points_frag:tT,shadow_vert:nT,shadow_frag:iT,sprite_vert:aT,sprite_frag:rT},ye={common:{diffuse:{value:new nt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new qe},alphaMap:{value:null},alphaMapTransform:{value:new qe},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new qe}},envmap:{envMap:{value:null},envMapRotation:{value:new qe},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new qe}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new qe}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new qe},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new qe},normalScale:{value:new at(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new qe},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new qe}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new qe}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new qe}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new nt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new nt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new qe},alphaTest:{value:0},uvTransform:{value:new qe}},sprite:{diffuse:{value:new nt(16777215)},opacity:{value:1},center:{value:new at(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new qe},alphaMap:{value:null},alphaMapTransform:{value:new qe},alphaTest:{value:0}}},ii={basic:{uniforms:rn([ye.common,ye.specularmap,ye.envmap,ye.aomap,ye.lightmap,ye.fog]),vertexShader:We.meshbasic_vert,fragmentShader:We.meshbasic_frag},lambert:{uniforms:rn([ye.common,ye.specularmap,ye.envmap,ye.aomap,ye.lightmap,ye.emissivemap,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.fog,ye.lights,{emissive:{value:new nt(0)}}]),vertexShader:We.meshlambert_vert,fragmentShader:We.meshlambert_frag},phong:{uniforms:rn([ye.common,ye.specularmap,ye.envmap,ye.aomap,ye.lightmap,ye.emissivemap,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.fog,ye.lights,{emissive:{value:new nt(0)},specular:{value:new nt(1118481)},shininess:{value:30}}]),vertexShader:We.meshphong_vert,fragmentShader:We.meshphong_frag},standard:{uniforms:rn([ye.common,ye.envmap,ye.aomap,ye.lightmap,ye.emissivemap,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.roughnessmap,ye.metalnessmap,ye.fog,ye.lights,{emissive:{value:new nt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:We.meshphysical_vert,fragmentShader:We.meshphysical_frag},toon:{uniforms:rn([ye.common,ye.aomap,ye.lightmap,ye.emissivemap,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.gradientmap,ye.fog,ye.lights,{emissive:{value:new nt(0)}}]),vertexShader:We.meshtoon_vert,fragmentShader:We.meshtoon_frag},matcap:{uniforms:rn([ye.common,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.fog,{matcap:{value:null}}]),vertexShader:We.meshmatcap_vert,fragmentShader:We.meshmatcap_frag},points:{uniforms:rn([ye.points,ye.fog]),vertexShader:We.points_vert,fragmentShader:We.points_frag},dashed:{uniforms:rn([ye.common,ye.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:We.linedashed_vert,fragmentShader:We.linedashed_frag},depth:{uniforms:rn([ye.common,ye.displacementmap]),vertexShader:We.depth_vert,fragmentShader:We.depth_frag},normal:{uniforms:rn([ye.common,ye.bumpmap,ye.normalmap,ye.displacementmap,{opacity:{value:1}}]),vertexShader:We.meshnormal_vert,fragmentShader:We.meshnormal_frag},sprite:{uniforms:rn([ye.sprite,ye.fog]),vertexShader:We.sprite_vert,fragmentShader:We.sprite_frag},background:{uniforms:{uvTransform:{value:new qe},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:We.background_vert,fragmentShader:We.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new qe}},vertexShader:We.backgroundCube_vert,fragmentShader:We.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:We.cube_vert,fragmentShader:We.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:We.equirect_vert,fragmentShader:We.equirect_frag},distanceRGBA:{uniforms:rn([ye.common,ye.displacementmap,{referencePosition:{value:new k},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:We.distanceRGBA_vert,fragmentShader:We.distanceRGBA_frag},shadow:{uniforms:rn([ye.lights,ye.fog,{color:{value:new nt(0)},opacity:{value:1}}]),vertexShader:We.shadow_vert,fragmentShader:We.shadow_frag}};ii.physical={uniforms:rn([ii.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new qe},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new qe},clearcoatNormalScale:{value:new at(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new qe},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new qe},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new qe},sheen:{value:0},sheenColor:{value:new nt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new qe},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new qe},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new qe},transmissionSamplerSize:{value:new at},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new qe},attenuationDistance:{value:0},attenuationColor:{value:new nt(0)},specularColor:{value:new nt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new qe},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new qe},anisotropyVector:{value:new at},anisotropyMap:{value:null},anisotropyMapTransform:{value:new qe}}]),vertexShader:We.meshphysical_vert,fragmentShader:We.meshphysical_frag};const tl={r:0,b:0,g:0},Ea=new ui,oT=new At;function sT(t,e,n,i,a,r,o){const s=new nt(0);let l=r===!0?0:1,c,u,f=null,h=0,p=null;function y(g){let v=g.isScene===!0?g.background:null;return v&&v.isTexture&&(v=(g.backgroundBlurriness>0?n:e).get(v)),v}function _(g){let v=!1;const M=y(g);M===null?d(s,l):M&&M.isColor&&(d(M,1),v=!0);const w=t.xr.getEnvironmentBlendMode();w==="additive"?i.buffers.color.setClear(0,0,0,1,o):w==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(t.autoClear||v)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil)}function m(g,v){const M=y(v);M&&(M.isCubeTexture||M.mapping===xc)?(u===void 0&&(u=new si(new gs(1,1,1),new da({name:"BackgroundCubeMaterial",uniforms:Yr(ii.backgroundCube.uniforms),vertexShader:ii.backgroundCube.vertexShader,fragmentShader:ii.backgroundCube.fragmentShader,side:yn,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(w,T,x){this.matrixWorld.copyPosition(x.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(u)),Ea.copy(v.backgroundRotation),Ea.x*=-1,Ea.y*=-1,Ea.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(Ea.y*=-1,Ea.z*=-1),u.material.uniforms.envMap.value=M,u.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(oT.makeRotationFromEuler(Ea)),u.material.toneMapped=lt.getTransfer(M.colorSpace)!==mt,(f!==M||h!==M.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,f=M,h=M.version,p=t.toneMapping),u.layers.enableAll(),g.unshift(u,u.geometry,u.material,0,0,null)):M&&M.isTexture&&(c===void 0&&(c=new si(new Ec(2,2),new da({name:"BackgroundMaterial",uniforms:Yr(ii.background.uniforms),vertexShader:ii.background.vertexShader,fragmentShader:ii.background.fragmentShader,side:ca,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(c)),c.material.uniforms.t2D.value=M,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=lt.getTransfer(M.colorSpace)!==mt,M.matrixAutoUpdate===!0&&M.updateMatrix(),c.material.uniforms.uvTransform.value.copy(M.matrix),(f!==M||h!==M.version||p!==t.toneMapping)&&(c.material.needsUpdate=!0,f=M,h=M.version,p=t.toneMapping),c.layers.enableAll(),g.unshift(c,c.geometry,c.material,0,0,null))}function d(g,v){g.getRGB(tl,ly(t)),i.buffers.color.setClear(tl.r,tl.g,tl.b,v,o)}return{getClearColor:function(){return s},setClearColor:function(g,v=1){s.set(g),l=v,d(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(g){l=g,d(s,l)},render:_,addToRenderList:m}}function lT(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},a=h(null);let r=a,o=!1;function s(S,N,W,D,K){let J=!1;const se=f(D,W,N);r!==se&&(r=se,c(r.object)),J=p(S,D,W,K),J&&y(S,D,W,K),K!==null&&e.update(K,t.ELEMENT_ARRAY_BUFFER),(J||o)&&(o=!1,M(S,N,W,D),K!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(K).buffer))}function l(){return t.createVertexArray()}function c(S){return t.bindVertexArray(S)}function u(S){return t.deleteVertexArray(S)}function f(S,N,W){const D=W.wireframe===!0;let K=i[S.id];K===void 0&&(K={},i[S.id]=K);let J=K[N.id];J===void 0&&(J={},K[N.id]=J);let se=J[D];return se===void 0&&(se=h(l()),J[D]=se),se}function h(S){const N=[],W=[],D=[];for(let K=0;K<n;K++)N[K]=0,W[K]=0,D[K]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:N,enabledAttributes:W,attributeDivisors:D,object:S,attributes:{},index:null}}function p(S,N,W,D){const K=r.attributes,J=N.attributes;let se=0;const re=W.getAttributes();for(const R in re)if(re[R].location>=0){const X=K[R];let ce=J[R];if(ce===void 0&&(R==="instanceMatrix"&&S.instanceMatrix&&(ce=S.instanceMatrix),R==="instanceColor"&&S.instanceColor&&(ce=S.instanceColor)),X===void 0||X.attribute!==ce||ce&&X.data!==ce.data)return!0;se++}return r.attributesNum!==se||r.index!==D}function y(S,N,W,D){const K={},J=N.attributes;let se=0;const re=W.getAttributes();for(const R in re)if(re[R].location>=0){let X=J[R];X===void 0&&(R==="instanceMatrix"&&S.instanceMatrix&&(X=S.instanceMatrix),R==="instanceColor"&&S.instanceColor&&(X=S.instanceColor));const ce={};ce.attribute=X,X&&X.data&&(ce.data=X.data),K[R]=ce,se++}r.attributes=K,r.attributesNum=se,r.index=D}function _(){const S=r.newAttributes;for(let N=0,W=S.length;N<W;N++)S[N]=0}function m(S){d(S,0)}function d(S,N){const W=r.newAttributes,D=r.enabledAttributes,K=r.attributeDivisors;W[S]=1,D[S]===0&&(t.enableVertexAttribArray(S),D[S]=1),K[S]!==N&&(t.vertexAttribDivisor(S,N),K[S]=N)}function g(){const S=r.newAttributes,N=r.enabledAttributes;for(let W=0,D=N.length;W<D;W++)N[W]!==S[W]&&(t.disableVertexAttribArray(W),N[W]=0)}function v(S,N,W,D,K,J,se){se===!0?t.vertexAttribIPointer(S,N,W,K,J):t.vertexAttribPointer(S,N,W,D,K,J)}function M(S,N,W,D){_();const K=D.attributes,J=W.getAttributes(),se=N.defaultAttributeValues;for(const re in J){const R=J[re];if(R.location>=0){let q=K[re];if(q===void 0&&(re==="instanceMatrix"&&S.instanceMatrix&&(q=S.instanceMatrix),re==="instanceColor"&&S.instanceColor&&(q=S.instanceColor)),q!==void 0){const X=q.normalized,ce=q.itemSize,Ee=e.get(q);if(Ee===void 0)continue;const Ke=Ee.buffer,j=Ee.type,ie=Ee.bytesPerElement,ge=j===t.INT||j===t.UNSIGNED_INT||q.gpuType===q0;if(q.isInterleavedBufferAttribute){const le=q.data,Xe=le.stride,Je=q.offset;if(le.isInstancedInterleavedBuffer){for(let F=0;F<R.locationSize;F++)d(R.location+F,le.meshPerAttribute);S.isInstancedMesh!==!0&&D._maxInstanceCount===void 0&&(D._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let F=0;F<R.locationSize;F++)m(R.location+F);t.bindBuffer(t.ARRAY_BUFFER,Ke);for(let F=0;F<R.locationSize;F++)v(R.location+F,ce/R.locationSize,j,X,Xe*ie,(Je+ce/R.locationSize*F)*ie,ge)}else{if(q.isInstancedBufferAttribute){for(let le=0;le<R.locationSize;le++)d(R.location+le,q.meshPerAttribute);S.isInstancedMesh!==!0&&D._maxInstanceCount===void 0&&(D._maxInstanceCount=q.meshPerAttribute*q.count)}else for(let le=0;le<R.locationSize;le++)m(R.location+le);t.bindBuffer(t.ARRAY_BUFFER,Ke);for(let le=0;le<R.locationSize;le++)v(R.location+le,ce/R.locationSize,j,X,ce*ie,ce/R.locationSize*le*ie,ge)}}else if(se!==void 0){const X=se[re];if(X!==void 0)switch(X.length){case 2:t.vertexAttrib2fv(R.location,X);break;case 3:t.vertexAttrib3fv(R.location,X);break;case 4:t.vertexAttrib4fv(R.location,X);break;default:t.vertexAttrib1fv(R.location,X)}}}}g()}function w(){P();for(const S in i){const N=i[S];for(const W in N){const D=N[W];for(const K in D)u(D[K].object),delete D[K];delete N[W]}delete i[S]}}function T(S){if(i[S.id]===void 0)return;const N=i[S.id];for(const W in N){const D=N[W];for(const K in D)u(D[K].object),delete D[K];delete N[W]}delete i[S.id]}function x(S){for(const N in i){const W=i[N];if(W[S.id]===void 0)continue;const D=W[S.id];for(const K in D)u(D[K].object),delete D[K];delete W[S.id]}}function P(){b(),o=!0,r!==a&&(r=a,c(r.object))}function b(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:s,reset:P,resetDefaultState:b,dispose:w,releaseStatesOfGeometry:T,releaseStatesOfProgram:x,initAttributes:_,enableAttribute:m,disableUnusedAttributes:g}}function cT(t,e,n){let i;function a(c){i=c}function r(c,u){t.drawArrays(i,c,u),n.update(u,i,1)}function o(c,u,f){f!==0&&(t.drawArraysInstanced(i,c,u,f),n.update(u,i,f))}function s(c,u,f){if(f===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let p=0;p<f;p++)this.render(c[p],u[p]);else{h.multiDrawArraysWEBGL(i,c,0,u,0,f);let p=0;for(let y=0;y<f;y++)p+=u[y];n.update(p,i,1)}}function l(c,u,f,h){if(f===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let y=0;y<c.length;y++)o(c[y],u[y],h[y]);else{p.multiDrawArraysInstancedWEBGL(i,c,0,u,0,h,0,f);let y=0;for(let _=0;_<f;_++)y+=u[_];for(let _=0;_<h.length;_++)n.update(y,i,h[_])}}this.setMode=a,this.render=r,this.renderInstances=o,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function uT(t,e,n,i){let a;function r(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");a=t.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function o(T){return!(T!==oi&&i.convert(T)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(T){const x=T===Sc&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(T!==ua&&i.convert(T)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&T!==Yi&&!x)}function l(T){if(T==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const f=n.logarithmicDepthBuffer===!0,h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),y=t.getParameter(t.MAX_TEXTURE_SIZE),_=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),m=t.getParameter(t.MAX_VERTEX_ATTRIBS),d=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),v=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),M=p>0,w=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:s,precision:c,logarithmicDepthBuffer:f,maxTextures:h,maxVertexTextures:p,maxTextureSize:y,maxCubemapSize:_,maxAttributes:m,maxVertexUniforms:d,maxVaryings:g,maxFragmentUniforms:v,vertexTextures:M,maxSamples:w}}function dT(t){const e=this;let n=null,i=0,a=!1,r=!1;const o=new wa,s=new qe,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const p=f.length!==0||h||i!==0||a;return a=h,i=f.length,p},this.beginShadows=function(){r=!0,u(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(f,h){n=u(f,h,0)},this.setState=function(f,h,p){const y=f.clippingPlanes,_=f.clipIntersection,m=f.clipShadows,d=t.get(f);if(!a||y===null||y.length===0||r&&!m)r?u(null):c();else{const g=r?0:i,v=g*4;let M=d.clippingState||null;l.value=M,M=u(y,h,v,p);for(let w=0;w!==v;++w)M[w]=n[w];d.clippingState=M,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=g}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(f,h,p,y){const _=f!==null?f.length:0;let m=null;if(_!==0){if(m=l.value,y!==!0||m===null){const d=p+_*4,g=h.matrixWorldInverse;s.getNormalMatrix(g),(m===null||m.length<d)&&(m=new Float32Array(d));for(let v=0,M=p;v!==_;++v,M+=4)o.copy(f[v]).applyMatrix4(g,s),o.normal.toArray(m,M),m[M+3]=o.constant}l.value=m,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,m}}function fT(t){let e=new WeakMap;function n(o,s){return s===kd?o.mapping=Xr:s===Hd&&(o.mapping=Kr),o}function i(o){if(o&&o.isTexture){const s=o.mapping;if(s===kd||s===Hd)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new EE(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",a),n(c.texture,o.mapping)}else return null}}return o}function a(o){const s=o.target;s.removeEventListener("dispose",a);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function r(){e=new WeakMap}return{get:i,dispose:r}}class fy extends cy{constructor(e=-1,n=1,i=1,a=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=a,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,a,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=a,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let r=i-e,o=i+e,s=a+n,l=a-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,o=r+c*this.view.width,s-=u*this.view.offsetY,l=s-u*this.view.height}this.projectionMatrix.makeOrthographic(r,o,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Pr=4,Nm=[.125,.215,.35,.446,.526,.582],Pa=20,Pu=new fy,Um=new nt;let Lu=null,Du=0,Iu=0,Nu=!1;const Ca=(1+Math.sqrt(5))/2,gr=1/Ca,zm=[new k(-Ca,gr,0),new k(Ca,gr,0),new k(-gr,0,Ca),new k(gr,0,Ca),new k(0,Ca,-gr),new k(0,Ca,gr),new k(-1,1,-1),new k(1,1,-1),new k(-1,1,1),new k(1,1,1)];class Fm{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,a=100){Lu=this._renderer.getRenderTarget(),Du=this._renderer.getActiveCubeFace(),Iu=this._renderer.getActiveMipmapLevel(),Nu=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,i,a,r),n>0&&this._blur(r,0,0,n),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=km(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Bm(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Lu,Du,Iu),this._renderer.xr.enabled=Nu,e.scissorTest=!1,nl(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Xr||e.mapping===Kr?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Lu=this._renderer.getRenderTarget(),Du=this._renderer.getActiveCubeFace(),Iu=this._renderer.getActiveMipmapLevel(),Nu=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:Jn,minFilter:Jn,generateMipmaps:!1,type:Sc,format:oi,colorSpace:ma,depthBuffer:!1},a=Om(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Om(e,n,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=hT(r)),this._blurMaterial=pT(r,e,n)}return a}_compileMaterial(e){const n=new si(this._lodPlanes[0],e);this._renderer.compile(n,Pu)}_sceneToCubeUV(e,n,i,a){const s=new In(90,1,n,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,h=u.toneMapping;u.getClearColor(Um),u.toneMapping=oa,u.autoClear=!1;const p=new ry({name:"PMREM.Background",side:yn,depthWrite:!1,depthTest:!1}),y=new si(new gs,p);let _=!1;const m=e.background;m?m.isColor&&(p.color.copy(m),e.background=null,_=!0):(p.color.copy(Um),_=!0);for(let d=0;d<6;d++){const g=d%3;g===0?(s.up.set(0,l[d],0),s.lookAt(c[d],0,0)):g===1?(s.up.set(0,0,l[d]),s.lookAt(0,c[d],0)):(s.up.set(0,l[d],0),s.lookAt(0,0,c[d]));const v=this._cubeSize;nl(a,g*v,d>2?v:0,v,v),u.setRenderTarget(a),_&&u.render(y,s),u.render(e,s)}y.geometry.dispose(),y.material.dispose(),u.toneMapping=h,u.autoClear=f,e.background=m}_textureToCubeUV(e,n){const i=this._renderer,a=e.mapping===Xr||e.mapping===Kr;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=km()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Bm());const r=a?this._cubemapMaterial:this._equirectMaterial,o=new si(this._lodPlanes[0],r),s=r.uniforms;s.envMap.value=e;const l=this._cubeSize;nl(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(o,Pu)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const a=this._lodPlanes.length;for(let r=1;r<a;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),s=zm[(a-r-1)%zm.length];this._blur(e,r-1,r,o,s)}n.autoClear=i}_blur(e,n,i,a,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,a,"latitudinal",r),this._halfBlur(o,e,i,i,a,"longitudinal",r)}_halfBlur(e,n,i,a,r,o,s){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new si(this._lodPlanes[a],c),h=c.uniforms,p=this._sizeLods[i]-1,y=isFinite(r)?Math.PI/(2*p):2*Math.PI/(2*Pa-1),_=r/y,m=isFinite(r)?1+Math.floor(u*_):Pa;m>Pa&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Pa}`);const d=[];let g=0;for(let x=0;x<Pa;++x){const P=x/_,b=Math.exp(-P*P/2);d.push(b),x===0?g+=b:x<m&&(g+=2*b)}for(let x=0;x<d.length;x++)d[x]=d[x]/g;h.envMap.value=e.texture,h.samples.value=m,h.weights.value=d,h.latitudinal.value=o==="latitudinal",s&&(h.poleAxis.value=s);const{_lodMax:v}=this;h.dTheta.value=y,h.mipInt.value=v-i;const M=this._sizeLods[a],w=3*M*(a>v-Pr?a-v+Pr:0),T=4*(this._cubeSize-M);nl(n,w,T,3*M,2*M),l.setRenderTarget(n),l.render(f,Pu)}}function hT(t){const e=[],n=[],i=[];let a=t;const r=t-Pr+1+Nm.length;for(let o=0;o<r;o++){const s=Math.pow(2,a);n.push(s);let l=1/s;o>t-Pr?l=Nm[o-t+Pr-1]:o===0&&(l=0),i.push(l);const c=1/(s-2),u=-c,f=1+c,h=[u,u,f,u,f,f,u,u,f,f,u,f],p=6,y=6,_=3,m=2,d=1,g=new Float32Array(_*y*p),v=new Float32Array(m*y*p),M=new Float32Array(d*y*p);for(let T=0;T<p;T++){const x=T%3*2/3-1,P=T>2?0:-1,b=[x,P,0,x+2/3,P,0,x+2/3,P+1,0,x,P,0,x+2/3,P+1,0,x,P+1,0];g.set(b,_*y*T),v.set(h,m*y*T);const S=[T,T,T,T,T,T];M.set(S,d*y*T)}const w=new kn;w.setAttribute("position",new Zn(g,_)),w.setAttribute("uv",new Zn(v,m)),w.setAttribute("faceIndex",new Zn(M,d)),e.push(w),a>Pr&&a--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function Om(t,e,n){const i=new Xa(t,e,n);return i.texture.mapping=xc,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function nl(t,e,n,i,a){t.viewport.set(e,n,i,a),t.scissor.set(e,n,i,a)}function pT(t,e,n){const i=new Float32Array(Pa),a=new k(0,1,0);return new da({name:"SphericalGaussianBlur",defines:{n:Pa,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:th(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ra,depthTest:!1,depthWrite:!1})}function Bm(){return new da({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:th(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ra,depthTest:!1,depthWrite:!1})}function km(){return new da({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:th(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ra,depthTest:!1,depthWrite:!1})}function th(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function mT(t){let e=new WeakMap,n=null;function i(s){if(s&&s.isTexture){const l=s.mapping,c=l===kd||l===Hd,u=l===Xr||l===Kr;if(c||u){let f=e.get(s);const h=f!==void 0?f.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==h)return n===null&&(n=new Fm(t)),f=c?n.fromEquirectangular(s,f):n.fromCubemap(s,f),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),f.texture;if(f!==void 0)return f.texture;{const p=s.image;return c&&p&&p.height>0||u&&p&&a(p)?(n===null&&(n=new Fm(t)),f=c?n.fromEquirectangular(s):n.fromCubemap(s),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),s.addEventListener("dispose",r),f.texture):null}}}return s}function a(s){let l=0;const c=6;for(let u=0;u<c;u++)s[u]!==void 0&&l++;return l===c}function r(s){const l=s.target;l.removeEventListener("dispose",r);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function gT(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let a;switch(i){case"WEBGL_depth_texture":a=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=t.getExtension(i)}return e[i]=a,a}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const a=n(i);return a===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),a}}}function vT(t,e,n,i){const a={},r=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const y in h.attributes)e.remove(h.attributes[y]);for(const y in h.morphAttributes){const _=h.morphAttributes[y];for(let m=0,d=_.length;m<d;m++)e.remove(_[m])}h.removeEventListener("dispose",o),delete a[h.id];const p=r.get(h);p&&(e.remove(p),r.delete(h)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function s(f,h){return a[h.id]===!0||(h.addEventListener("dispose",o),a[h.id]=!0,n.memory.geometries++),h}function l(f){const h=f.attributes;for(const y in h)e.update(h[y],t.ARRAY_BUFFER);const p=f.morphAttributes;for(const y in p){const _=p[y];for(let m=0,d=_.length;m<d;m++)e.update(_[m],t.ARRAY_BUFFER)}}function c(f){const h=[],p=f.index,y=f.attributes.position;let _=0;if(p!==null){const g=p.array;_=p.version;for(let v=0,M=g.length;v<M;v+=3){const w=g[v+0],T=g[v+1],x=g[v+2];h.push(w,T,T,x,x,w)}}else if(y!==void 0){const g=y.array;_=y.version;for(let v=0,M=g.length/3-1;v<M;v+=3){const w=v+0,T=v+1,x=v+2;h.push(w,T,T,x,x,w)}}else return;const m=new(ey(h)?sy:oy)(h,1);m.version=_;const d=r.get(f);d&&e.remove(d),r.set(f,m)}function u(f){const h=r.get(f);if(h){const p=f.index;p!==null&&h.version<p.version&&c(f)}else c(f);return r.get(f)}return{get:s,update:l,getWireframeAttribute:u}}function yT(t,e,n){let i;function a(h){i=h}let r,o;function s(h){r=h.type,o=h.bytesPerElement}function l(h,p){t.drawElements(i,p,r,h*o),n.update(p,i,1)}function c(h,p,y){y!==0&&(t.drawElementsInstanced(i,p,r,h*o,y),n.update(p,i,y))}function u(h,p,y){if(y===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let m=0;m<y;m++)this.render(h[m]/o,p[m]);else{_.multiDrawElementsWEBGL(i,p,0,r,h,0,y);let m=0;for(let d=0;d<y;d++)m+=p[d];n.update(m,i,1)}}function f(h,p,y,_){if(y===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let d=0;d<h.length;d++)c(h[d]/o,p[d],_[d]);else{m.multiDrawElementsInstancedWEBGL(i,p,0,r,h,0,_,0,y);let d=0;for(let g=0;g<y;g++)d+=p[g];for(let g=0;g<_.length;g++)n.update(d,i,_[g])}}this.setMode=a,this.setIndex=s,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=f}function _T(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,o,s){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=s*(r/3);break;case t.LINES:n.lines+=s*(r/2);break;case t.LINE_STRIP:n.lines+=s*(r-1);break;case t.LINE_LOOP:n.lines+=s*r;break;case t.POINTS:n.points+=s*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function a(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:a,update:i}}function xT(t,e,n){const i=new WeakMap,a=new jt;function r(o,s,l){const c=o.morphTargetInfluences,u=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,f=u!==void 0?u.length:0;let h=i.get(s);if(h===void 0||h.count!==f){let S=function(){P.dispose(),i.delete(s),s.removeEventListener("dispose",S)};var p=S;h!==void 0&&h.texture.dispose();const y=s.morphAttributes.position!==void 0,_=s.morphAttributes.normal!==void 0,m=s.morphAttributes.color!==void 0,d=s.morphAttributes.position||[],g=s.morphAttributes.normal||[],v=s.morphAttributes.color||[];let M=0;y===!0&&(M=1),_===!0&&(M=2),m===!0&&(M=3);let w=s.attributes.position.count*M,T=1;w>e.maxTextureSize&&(T=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);const x=new Float32Array(w*T*4*f),P=new ny(x,w,T,f);P.type=Yi,P.needsUpdate=!0;const b=M*4;for(let N=0;N<f;N++){const W=d[N],D=g[N],K=v[N],J=w*T*4*N;for(let se=0;se<W.count;se++){const re=se*b;y===!0&&(a.fromBufferAttribute(W,se),x[J+re+0]=a.x,x[J+re+1]=a.y,x[J+re+2]=a.z,x[J+re+3]=0),_===!0&&(a.fromBufferAttribute(D,se),x[J+re+4]=a.x,x[J+re+5]=a.y,x[J+re+6]=a.z,x[J+re+7]=0),m===!0&&(a.fromBufferAttribute(K,se),x[J+re+8]=a.x,x[J+re+9]=a.y,x[J+re+10]=a.z,x[J+re+11]=K.itemSize===4?a.w:1)}}h={count:f,texture:P,size:new at(w,T)},i.set(s,h),s.addEventListener("dispose",S)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let y=0;for(let m=0;m<c.length;m++)y+=c[m];const _=s.morphTargetsRelative?1:1-y;l.getUniforms().setValue(t,"morphTargetBaseInfluence",_),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:r}}function ST(t,e,n,i){let a=new WeakMap;function r(l){const c=i.render.frame,u=l.geometry,f=e.get(l,u);if(a.get(f)!==c&&(e.update(f),a.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),a.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),a.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;a.get(h)!==c&&(h.update(),a.set(h,c))}return f}function o(){a=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:r,dispose:o}}class hy extends ln{constructor(e,n,i,a,r,o,s,l,c,u){if(u=u!==void 0?u:Or,u!==Or&&u!==is)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===Or&&(i=Jr),i===void 0&&u===is&&(i=ds),super(null,a,r,o,s,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=s!==void 0?s:Un,this.minFilter=l!==void 0?l:Un,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const py=new ln,my=new hy(1,1);my.compareFunction=Q0;const gy=new ny,vy=new sE,yy=new uy,Hm=[],Vm=[],jm=new Float32Array(16),Gm=new Float32Array(9),Wm=new Float32Array(4);function no(t,e,n){const i=t[0];if(i<=0||i>0)return t;const a=e*n;let r=Hm[a];if(r===void 0&&(r=new Float32Array(a),Hm[a]=r),e!==0){i.toArray(r,0);for(let o=1,s=0;o!==e;++o)s+=n,t[o].toArray(r,s)}return r}function Bt(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function kt(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function bc(t,e){let n=Vm[e];n===void 0&&(n=new Int32Array(e),Vm[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function MT(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function ET(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Bt(n,e))return;t.uniform2fv(this.addr,e),kt(n,e)}}function bT(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Bt(n,e))return;t.uniform3fv(this.addr,e),kt(n,e)}}function AT(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Bt(n,e))return;t.uniform4fv(this.addr,e),kt(n,e)}}function TT(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Bt(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),kt(n,e)}else{if(Bt(n,i))return;Wm.set(i),t.uniformMatrix2fv(this.addr,!1,Wm),kt(n,i)}}function wT(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Bt(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),kt(n,e)}else{if(Bt(n,i))return;Gm.set(i),t.uniformMatrix3fv(this.addr,!1,Gm),kt(n,i)}}function CT(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Bt(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),kt(n,e)}else{if(Bt(n,i))return;jm.set(i),t.uniformMatrix4fv(this.addr,!1,jm),kt(n,i)}}function RT(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function PT(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Bt(n,e))return;t.uniform2iv(this.addr,e),kt(n,e)}}function LT(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Bt(n,e))return;t.uniform3iv(this.addr,e),kt(n,e)}}function DT(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Bt(n,e))return;t.uniform4iv(this.addr,e),kt(n,e)}}function IT(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function NT(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Bt(n,e))return;t.uniform2uiv(this.addr,e),kt(n,e)}}function UT(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Bt(n,e))return;t.uniform3uiv(this.addr,e),kt(n,e)}}function zT(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Bt(n,e))return;t.uniform4uiv(this.addr,e),kt(n,e)}}function FT(t,e,n){const i=this.cache,a=n.allocateTextureUnit();i[0]!==a&&(t.uniform1i(this.addr,a),i[0]=a);const r=this.type===t.SAMPLER_2D_SHADOW?my:py;n.setTexture2D(e||r,a)}function OT(t,e,n){const i=this.cache,a=n.allocateTextureUnit();i[0]!==a&&(t.uniform1i(this.addr,a),i[0]=a),n.setTexture3D(e||vy,a)}function BT(t,e,n){const i=this.cache,a=n.allocateTextureUnit();i[0]!==a&&(t.uniform1i(this.addr,a),i[0]=a),n.setTextureCube(e||yy,a)}function kT(t,e,n){const i=this.cache,a=n.allocateTextureUnit();i[0]!==a&&(t.uniform1i(this.addr,a),i[0]=a),n.setTexture2DArray(e||gy,a)}function HT(t){switch(t){case 5126:return MT;case 35664:return ET;case 35665:return bT;case 35666:return AT;case 35674:return TT;case 35675:return wT;case 35676:return CT;case 5124:case 35670:return RT;case 35667:case 35671:return PT;case 35668:case 35672:return LT;case 35669:case 35673:return DT;case 5125:return IT;case 36294:return NT;case 36295:return UT;case 36296:return zT;case 35678:case 36198:case 36298:case 36306:case 35682:return FT;case 35679:case 36299:case 36307:return OT;case 35680:case 36300:case 36308:case 36293:return BT;case 36289:case 36303:case 36311:case 36292:return kT}}function VT(t,e){t.uniform1fv(this.addr,e)}function jT(t,e){const n=no(e,this.size,2);t.uniform2fv(this.addr,n)}function GT(t,e){const n=no(e,this.size,3);t.uniform3fv(this.addr,n)}function WT(t,e){const n=no(e,this.size,4);t.uniform4fv(this.addr,n)}function qT(t,e){const n=no(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function XT(t,e){const n=no(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function KT(t,e){const n=no(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function JT(t,e){t.uniform1iv(this.addr,e)}function YT(t,e){t.uniform2iv(this.addr,e)}function $T(t,e){t.uniform3iv(this.addr,e)}function ZT(t,e){t.uniform4iv(this.addr,e)}function QT(t,e){t.uniform1uiv(this.addr,e)}function ew(t,e){t.uniform2uiv(this.addr,e)}function tw(t,e){t.uniform3uiv(this.addr,e)}function nw(t,e){t.uniform4uiv(this.addr,e)}function iw(t,e,n){const i=this.cache,a=e.length,r=bc(n,a);Bt(i,r)||(t.uniform1iv(this.addr,r),kt(i,r));for(let o=0;o!==a;++o)n.setTexture2D(e[o]||py,r[o])}function aw(t,e,n){const i=this.cache,a=e.length,r=bc(n,a);Bt(i,r)||(t.uniform1iv(this.addr,r),kt(i,r));for(let o=0;o!==a;++o)n.setTexture3D(e[o]||vy,r[o])}function rw(t,e,n){const i=this.cache,a=e.length,r=bc(n,a);Bt(i,r)||(t.uniform1iv(this.addr,r),kt(i,r));for(let o=0;o!==a;++o)n.setTextureCube(e[o]||yy,r[o])}function ow(t,e,n){const i=this.cache,a=e.length,r=bc(n,a);Bt(i,r)||(t.uniform1iv(this.addr,r),kt(i,r));for(let o=0;o!==a;++o)n.setTexture2DArray(e[o]||gy,r[o])}function sw(t){switch(t){case 5126:return VT;case 35664:return jT;case 35665:return GT;case 35666:return WT;case 35674:return qT;case 35675:return XT;case 35676:return KT;case 5124:case 35670:return JT;case 35667:case 35671:return YT;case 35668:case 35672:return $T;case 35669:case 35673:return ZT;case 5125:return QT;case 36294:return ew;case 36295:return tw;case 36296:return nw;case 35678:case 36198:case 36298:case 36306:case 35682:return iw;case 35679:case 36299:case 36307:return aw;case 35680:case 36300:case 36308:case 36293:return rw;case 36289:case 36303:case 36311:case 36292:return ow}}class lw{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=HT(n.type)}}class cw{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=sw(n.type)}}class uw{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const a=this.seq;for(let r=0,o=a.length;r!==o;++r){const s=a[r];s.setValue(e,n[s.id],i)}}}const Uu=/(\w+)(\])?(\[|\.)?/g;function qm(t,e){t.seq.push(e),t.map[e.id]=e}function dw(t,e,n){const i=t.name,a=i.length;for(Uu.lastIndex=0;;){const r=Uu.exec(i),o=Uu.lastIndex;let s=r[1];const l=r[2]==="]",c=r[3];if(l&&(s=s|0),c===void 0||c==="["&&o+2===a){qm(n,c===void 0?new lw(s,t,e):new cw(s,t,e));break}else{let f=n.map[s];f===void 0&&(f=new uw(s),qm(n,f)),n=f}}}class xl{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let a=0;a<i;++a){const r=e.getActiveUniform(n,a),o=e.getUniformLocation(n,r.name);dw(r,o,this)}}setValue(e,n,i,a){const r=this.map[n];r!==void 0&&r.setValue(e,i,a)}setOptional(e,n,i){const a=n[i];a!==void 0&&this.setValue(e,i,a)}static upload(e,n,i,a){for(let r=0,o=n.length;r!==o;++r){const s=n[r],l=i[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,a)}}static seqWithValue(e,n){const i=[];for(let a=0,r=e.length;a!==r;++a){const o=e[a];o.id in n&&i.push(o)}return i}}function Xm(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const fw=37297;let hw=0;function pw(t,e){const n=t.split(`
`),i=[],a=Math.max(e-6,0),r=Math.min(e+6,n.length);for(let o=a;o<r;o++){const s=o+1;i.push(`${s===e?">":" "} ${s}: ${n[o]}`)}return i.join(`
`)}function mw(t){const e=lt.getPrimaries(lt.workingColorSpace),n=lt.getPrimaries(t);let i;switch(e===n?i="":e===Yl&&n===Jl?i="LinearDisplayP3ToLinearSRGB":e===Jl&&n===Yl&&(i="LinearSRGBToLinearDisplayP3"),t){case ma:case Mc:return[i,"LinearTransferOETF"];case ni:case Zf:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[i,"LinearTransferOETF"]}}function Km(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),a=t.getShaderInfoLog(e).trim();if(i&&a==="")return"";const r=/ERROR: 0:(\d+)/.exec(a);if(r){const o=parseInt(r[1]);return n.toUpperCase()+`

`+a+`

`+pw(t.getShaderSource(e),o)}else return a}function gw(t,e){const n=mw(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function vw(t,e){let n;switch(e){case AM:n="Linear";break;case TM:n="Reinhard";break;case wM:n="OptimizedCineon";break;case CM:n="ACESFilmic";break;case PM:n="AgX";break;case LM:n="Neutral";break;case RM:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function yw(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(wo).join(`
`)}function _w(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function xw(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let a=0;a<i;a++){const r=t.getActiveAttrib(e,a),o=r.name;let s=1;r.type===t.FLOAT_MAT2&&(s=2),r.type===t.FLOAT_MAT3&&(s=3),r.type===t.FLOAT_MAT4&&(s=4),n[o]={type:r.type,location:t.getAttribLocation(e,o),locationSize:s}}return n}function wo(t){return t!==""}function Jm(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Ym(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Sw=/^[ \t]*#include +<([\w\d./]+)>/gm;function Wd(t){return t.replace(Sw,Ew)}const Mw=new Map;function Ew(t,e){let n=We[e];if(n===void 0){const i=Mw.get(e);if(i!==void 0)n=We[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return Wd(n)}const bw=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function $m(t){return t.replace(bw,Aw)}function Aw(t,e,n,i){let a="";for(let r=parseInt(e);r<parseInt(n);r++)a+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return a}function Zm(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Tw(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===j0?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===$S?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===vi&&(e="SHADOWMAP_TYPE_VSM"),e}function ww(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Xr:case Kr:e="ENVMAP_TYPE_CUBE";break;case xc:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Cw(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Kr:e="ENVMAP_MODE_REFRACTION";break}return e}function Rw(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case $f:e="ENVMAP_BLENDING_MULTIPLY";break;case EM:e="ENVMAP_BLENDING_MIX";break;case bM:e="ENVMAP_BLENDING_ADD";break}return e}function Pw(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function Lw(t,e,n,i){const a=t.getContext(),r=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=Tw(n),c=ww(n),u=Cw(n),f=Rw(n),h=Pw(n),p=yw(n),y=_w(r),_=a.createProgram();let m,d,g=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(wo).join(`
`),m.length>0&&(m+=`
`),d=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(wo).join(`
`),d.length>0&&(d+=`
`)):(m=[Zm(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(wo).join(`
`),d=[Zm(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==oa?"#define TONE_MAPPING":"",n.toneMapping!==oa?We.tonemapping_pars_fragment:"",n.toneMapping!==oa?vw("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",We.colorspace_pars_fragment,gw("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(wo).join(`
`)),o=Wd(o),o=Jm(o,n),o=Ym(o,n),s=Wd(s),s=Jm(s,n),s=Ym(s,n),o=$m(o),s=$m(s),n.isRawShaderMaterial!==!0&&(g=`#version 300 es
`,m=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,d=["#define varying in",n.glslVersion===pm?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===pm?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+d);const v=g+m+o,M=g+d+s,w=Xm(a,a.VERTEX_SHADER,v),T=Xm(a,a.FRAGMENT_SHADER,M);a.attachShader(_,w),a.attachShader(_,T),n.index0AttributeName!==void 0?a.bindAttribLocation(_,0,n.index0AttributeName):n.morphTargets===!0&&a.bindAttribLocation(_,0,"position"),a.linkProgram(_);function x(N){if(t.debug.checkShaderErrors){const W=a.getProgramInfoLog(_).trim(),D=a.getShaderInfoLog(w).trim(),K=a.getShaderInfoLog(T).trim();let J=!0,se=!0;if(a.getProgramParameter(_,a.LINK_STATUS)===!1)if(J=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(a,_,w,T);else{const re=Km(a,w,"vertex"),R=Km(a,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(_,a.VALIDATE_STATUS)+`

Material Name: `+N.name+`
Material Type: `+N.type+`

Program Info Log: `+W+`
`+re+`
`+R)}else W!==""?console.warn("THREE.WebGLProgram: Program Info Log:",W):(D===""||K==="")&&(se=!1);se&&(N.diagnostics={runnable:J,programLog:W,vertexShader:{log:D,prefix:m},fragmentShader:{log:K,prefix:d}})}a.deleteShader(w),a.deleteShader(T),P=new xl(a,_),b=xw(a,_)}let P;this.getUniforms=function(){return P===void 0&&x(this),P};let b;this.getAttributes=function(){return b===void 0&&x(this),b};let S=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return S===!1&&(S=a.getProgramParameter(_,fw)),S},this.destroy=function(){i.releaseStatesOfProgram(this),a.deleteProgram(_),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=hw++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=w,this.fragmentShader=T,this}let Dw=0;class Iw{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,a=this._getShaderStage(n),r=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(a)===!1&&(o.add(a),a.usedTimes++),o.has(r)===!1&&(o.add(r),r.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new Nw(e),n.set(e,i)),i}}class Nw{constructor(e){this.id=Dw++,this.code=e,this.usedTimes=0}}function Uw(t,e,n,i,a,r,o){const s=new iy,l=new Iw,c=new Set,u=[],f=a.logarithmicDepthBuffer,h=a.vertexTextures;let p=a.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(b){return c.add(b),b===0?"uv":`uv${b}`}function m(b,S,N,W,D){const K=W.fog,J=D.geometry,se=b.isMeshStandardMaterial?W.environment:null,re=(b.isMeshStandardMaterial?n:e).get(b.envMap||se),R=re&&re.mapping===xc?re.image.height:null,q=y[b.type];b.precision!==null&&(p=a.getMaxPrecision(b.precision),p!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",p,"instead."));const X=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,ce=X!==void 0?X.length:0;let Ee=0;J.morphAttributes.position!==void 0&&(Ee=1),J.morphAttributes.normal!==void 0&&(Ee=2),J.morphAttributes.color!==void 0&&(Ee=3);let Ke,j,ie,ge;if(q){const H=ii[q];Ke=H.vertexShader,j=H.fragmentShader}else Ke=b.vertexShader,j=b.fragmentShader,l.update(b),ie=l.getVertexShaderID(b),ge=l.getFragmentShaderID(b);const le=t.getRenderTarget(),Xe=D.isInstancedMesh===!0,Je=D.isBatchedMesh===!0,F=!!b.map,ct=!!b.matcap,Ae=!!re,rt=!!b.aoMap,Ne=!!b.lightMap,Qe=!!b.bumpMap,Fe=!!b.normalMap,et=!!b.displacementMap,vt=!!b.emissiveMap,C=!!b.metalnessMap,E=!!b.roughnessMap,G=b.anisotropy>0,$=b.clearcoat>0,te=b.dispersion>0,ae=b.iridescence>0,Re=b.sheen>0,he=b.transmission>0,pe=G&&!!b.anisotropyMap,He=$&&!!b.clearcoatMap,ue=$&&!!b.clearcoatNormalMap,Le=$&&!!b.clearcoatRoughnessMap,Ve=ae&&!!b.iridescenceMap,Ie=ae&&!!b.iridescenceThicknessMap,xe=Re&&!!b.sheenColorMap,je=Re&&!!b.sheenRoughnessMap,Ye=!!b.specularMap,yt=!!b.specularColorMap,ke=!!b.specularIntensityMap,I=he&&!!b.transmissionMap,Q=he&&!!b.thicknessMap,Y=!!b.gradientMap,ve=!!b.alphaMap,_e=b.alphaTest>0,tt=!!b.alphaHash,ut=!!b.extensions;let L=oa;b.toneMapped&&(le===null||le.isXRRenderTarget===!0)&&(L=t.toneMapping);const z={shaderID:q,shaderType:b.type,shaderName:b.name,vertexShader:Ke,fragmentShader:j,defines:b.defines,customVertexShaderID:ie,customFragmentShaderID:ge,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:p,batching:Je,instancing:Xe,instancingColor:Xe&&D.instanceColor!==null,instancingMorph:Xe&&D.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:le===null?t.outputColorSpace:le.isXRRenderTarget===!0?le.texture.colorSpace:ma,alphaToCoverage:!!b.alphaToCoverage,map:F,matcap:ct,envMap:Ae,envMapMode:Ae&&re.mapping,envMapCubeUVHeight:R,aoMap:rt,lightMap:Ne,bumpMap:Qe,normalMap:Fe,displacementMap:h&&et,emissiveMap:vt,normalMapObjectSpace:Fe&&b.normalMapType===WM,normalMapTangentSpace:Fe&&b.normalMapType===Z0,metalnessMap:C,roughnessMap:E,anisotropy:G,anisotropyMap:pe,clearcoat:$,clearcoatMap:He,clearcoatNormalMap:ue,clearcoatRoughnessMap:Le,dispersion:te,iridescence:ae,iridescenceMap:Ve,iridescenceThicknessMap:Ie,sheen:Re,sheenColorMap:xe,sheenRoughnessMap:je,specularMap:Ye,specularColorMap:yt,specularIntensityMap:ke,transmission:he,transmissionMap:I,thicknessMap:Q,gradientMap:Y,opaque:b.transparent===!1&&b.blending===Fr&&b.alphaToCoverage===!1,alphaMap:ve,alphaTest:_e,alphaHash:tt,combine:b.combine,mapUv:F&&_(b.map.channel),aoMapUv:rt&&_(b.aoMap.channel),lightMapUv:Ne&&_(b.lightMap.channel),bumpMapUv:Qe&&_(b.bumpMap.channel),normalMapUv:Fe&&_(b.normalMap.channel),displacementMapUv:et&&_(b.displacementMap.channel),emissiveMapUv:vt&&_(b.emissiveMap.channel),metalnessMapUv:C&&_(b.metalnessMap.channel),roughnessMapUv:E&&_(b.roughnessMap.channel),anisotropyMapUv:pe&&_(b.anisotropyMap.channel),clearcoatMapUv:He&&_(b.clearcoatMap.channel),clearcoatNormalMapUv:ue&&_(b.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Le&&_(b.clearcoatRoughnessMap.channel),iridescenceMapUv:Ve&&_(b.iridescenceMap.channel),iridescenceThicknessMapUv:Ie&&_(b.iridescenceThicknessMap.channel),sheenColorMapUv:xe&&_(b.sheenColorMap.channel),sheenRoughnessMapUv:je&&_(b.sheenRoughnessMap.channel),specularMapUv:Ye&&_(b.specularMap.channel),specularColorMapUv:yt&&_(b.specularColorMap.channel),specularIntensityMapUv:ke&&_(b.specularIntensityMap.channel),transmissionMapUv:I&&_(b.transmissionMap.channel),thicknessMapUv:Q&&_(b.thicknessMap.channel),alphaMapUv:ve&&_(b.alphaMap.channel),vertexTangents:!!J.attributes.tangent&&(Fe||G),vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!J.attributes.color&&J.attributes.color.itemSize===4,pointsUvs:D.isPoints===!0&&!!J.attributes.uv&&(F||ve),fog:!!K,useFog:b.fog===!0,fogExp2:!!K&&K.isFogExp2,flatShading:b.flatShading===!0,sizeAttenuation:b.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:D.isSkinnedMesh===!0,morphTargets:J.morphAttributes.position!==void 0,morphNormals:J.morphAttributes.normal!==void 0,morphColors:J.morphAttributes.color!==void 0,morphTargetsCount:ce,morphTextureStride:Ee,numDirLights:S.directional.length,numPointLights:S.point.length,numSpotLights:S.spot.length,numSpotLightMaps:S.spotLightMap.length,numRectAreaLights:S.rectArea.length,numHemiLights:S.hemi.length,numDirLightShadows:S.directionalShadowMap.length,numPointLightShadows:S.pointShadowMap.length,numSpotLightShadows:S.spotShadowMap.length,numSpotLightShadowsWithMaps:S.numSpotLightShadowsWithMaps,numLightProbes:S.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:b.dithering,shadowMapEnabled:t.shadowMap.enabled&&N.length>0,shadowMapType:t.shadowMap.type,toneMapping:L,useLegacyLights:t._useLegacyLights,decodeVideoTexture:F&&b.map.isVideoTexture===!0&&lt.getTransfer(b.map.colorSpace)===mt,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===xi,flipSided:b.side===yn,useDepthPacking:b.depthPacking>=0,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionClipCullDistance:ut&&b.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:ut&&b.extensions.multiDraw===!0&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:b.customProgramCacheKey()};return z.vertexUv1s=c.has(1),z.vertexUv2s=c.has(2),z.vertexUv3s=c.has(3),c.clear(),z}function d(b){const S=[];if(b.shaderID?S.push(b.shaderID):(S.push(b.customVertexShaderID),S.push(b.customFragmentShaderID)),b.defines!==void 0)for(const N in b.defines)S.push(N),S.push(b.defines[N]);return b.isRawShaderMaterial===!1&&(g(S,b),v(S,b),S.push(t.outputColorSpace)),S.push(b.customProgramCacheKey),S.join()}function g(b,S){b.push(S.precision),b.push(S.outputColorSpace),b.push(S.envMapMode),b.push(S.envMapCubeUVHeight),b.push(S.mapUv),b.push(S.alphaMapUv),b.push(S.lightMapUv),b.push(S.aoMapUv),b.push(S.bumpMapUv),b.push(S.normalMapUv),b.push(S.displacementMapUv),b.push(S.emissiveMapUv),b.push(S.metalnessMapUv),b.push(S.roughnessMapUv),b.push(S.anisotropyMapUv),b.push(S.clearcoatMapUv),b.push(S.clearcoatNormalMapUv),b.push(S.clearcoatRoughnessMapUv),b.push(S.iridescenceMapUv),b.push(S.iridescenceThicknessMapUv),b.push(S.sheenColorMapUv),b.push(S.sheenRoughnessMapUv),b.push(S.specularMapUv),b.push(S.specularColorMapUv),b.push(S.specularIntensityMapUv),b.push(S.transmissionMapUv),b.push(S.thicknessMapUv),b.push(S.combine),b.push(S.fogExp2),b.push(S.sizeAttenuation),b.push(S.morphTargetsCount),b.push(S.morphAttributeCount),b.push(S.numDirLights),b.push(S.numPointLights),b.push(S.numSpotLights),b.push(S.numSpotLightMaps),b.push(S.numHemiLights),b.push(S.numRectAreaLights),b.push(S.numDirLightShadows),b.push(S.numPointLightShadows),b.push(S.numSpotLightShadows),b.push(S.numSpotLightShadowsWithMaps),b.push(S.numLightProbes),b.push(S.shadowMapType),b.push(S.toneMapping),b.push(S.numClippingPlanes),b.push(S.numClipIntersection),b.push(S.depthPacking)}function v(b,S){s.disableAll(),S.supportsVertexTextures&&s.enable(0),S.instancing&&s.enable(1),S.instancingColor&&s.enable(2),S.instancingMorph&&s.enable(3),S.matcap&&s.enable(4),S.envMap&&s.enable(5),S.normalMapObjectSpace&&s.enable(6),S.normalMapTangentSpace&&s.enable(7),S.clearcoat&&s.enable(8),S.iridescence&&s.enable(9),S.alphaTest&&s.enable(10),S.vertexColors&&s.enable(11),S.vertexAlphas&&s.enable(12),S.vertexUv1s&&s.enable(13),S.vertexUv2s&&s.enable(14),S.vertexUv3s&&s.enable(15),S.vertexTangents&&s.enable(16),S.anisotropy&&s.enable(17),S.alphaHash&&s.enable(18),S.batching&&s.enable(19),S.dispersion&&s.enable(20),b.push(s.mask),s.disableAll(),S.fog&&s.enable(0),S.useFog&&s.enable(1),S.flatShading&&s.enable(2),S.logarithmicDepthBuffer&&s.enable(3),S.skinning&&s.enable(4),S.morphTargets&&s.enable(5),S.morphNormals&&s.enable(6),S.morphColors&&s.enable(7),S.premultipliedAlpha&&s.enable(8),S.shadowMapEnabled&&s.enable(9),S.useLegacyLights&&s.enable(10),S.doubleSided&&s.enable(11),S.flipSided&&s.enable(12),S.useDepthPacking&&s.enable(13),S.dithering&&s.enable(14),S.transmission&&s.enable(15),S.sheen&&s.enable(16),S.opaque&&s.enable(17),S.pointsUvs&&s.enable(18),S.decodeVideoTexture&&s.enable(19),S.alphaToCoverage&&s.enable(20),b.push(s.mask)}function M(b){const S=y[b.type];let N;if(S){const W=ii[S];N=_E.clone(W.uniforms)}else N=b.uniforms;return N}function w(b,S){let N;for(let W=0,D=u.length;W<D;W++){const K=u[W];if(K.cacheKey===S){N=K,++N.usedTimes;break}}return N===void 0&&(N=new Lw(t,S,b,r),u.push(N)),N}function T(b){if(--b.usedTimes===0){const S=u.indexOf(b);u[S]=u[u.length-1],u.pop(),b.destroy()}}function x(b){l.remove(b)}function P(){l.dispose()}return{getParameters:m,getProgramCacheKey:d,getUniforms:M,acquireProgram:w,releaseProgram:T,releaseShaderCache:x,programs:u,dispose:P}}function zw(){let t=new WeakMap;function e(r){let o=t.get(r);return o===void 0&&(o={},t.set(r,o)),o}function n(r){t.delete(r)}function i(r,o,s){t.get(r)[o]=s}function a(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:a}}function Fw(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Qm(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function eg(){const t=[];let e=0;const n=[],i=[],a=[];function r(){e=0,n.length=0,i.length=0,a.length=0}function o(f,h,p,y,_,m){let d=t[e];return d===void 0?(d={id:f.id,object:f,geometry:h,material:p,groupOrder:y,renderOrder:f.renderOrder,z:_,group:m},t[e]=d):(d.id=f.id,d.object=f,d.geometry=h,d.material=p,d.groupOrder=y,d.renderOrder=f.renderOrder,d.z=_,d.group=m),e++,d}function s(f,h,p,y,_,m){const d=o(f,h,p,y,_,m);p.transmission>0?i.push(d):p.transparent===!0?a.push(d):n.push(d)}function l(f,h,p,y,_,m){const d=o(f,h,p,y,_,m);p.transmission>0?i.unshift(d):p.transparent===!0?a.unshift(d):n.unshift(d)}function c(f,h){n.length>1&&n.sort(f||Fw),i.length>1&&i.sort(h||Qm),a.length>1&&a.sort(h||Qm)}function u(){for(let f=e,h=t.length;f<h;f++){const p=t[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:i,transparent:a,init:r,push:s,unshift:l,finish:u,sort:c}}function Ow(){let t=new WeakMap;function e(i,a){const r=t.get(i);let o;return r===void 0?(o=new eg,t.set(i,[o])):a>=r.length?(o=new eg,r.push(o)):o=r[a],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function Bw(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new k,color:new nt};break;case"SpotLight":n={position:new k,direction:new k,color:new nt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new k,color:new nt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new k,skyColor:new nt,groundColor:new nt};break;case"RectAreaLight":n={color:new nt,position:new k,halfWidth:new k,halfHeight:new k};break}return t[e.id]=n,n}}}function kw(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new at};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new at};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new at,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Hw=0;function Vw(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function jw(t){const e=new Bw,n=kw(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new k);const a=new k,r=new At,o=new At;function s(c,u){let f=0,h=0,p=0;for(let N=0;N<9;N++)i.probe[N].set(0,0,0);let y=0,_=0,m=0,d=0,g=0,v=0,M=0,w=0,T=0,x=0,P=0;c.sort(Vw);const b=u===!0?Math.PI:1;for(let N=0,W=c.length;N<W;N++){const D=c[N],K=D.color,J=D.intensity,se=D.distance,re=D.shadow&&D.shadow.map?D.shadow.map.texture:null;if(D.isAmbientLight)f+=K.r*J*b,h+=K.g*J*b,p+=K.b*J*b;else if(D.isLightProbe){for(let R=0;R<9;R++)i.probe[R].addScaledVector(D.sh.coefficients[R],J);P++}else if(D.isDirectionalLight){const R=e.get(D);if(R.color.copy(D.color).multiplyScalar(D.intensity*b),D.castShadow){const q=D.shadow,X=n.get(D);X.shadowBias=q.bias,X.shadowNormalBias=q.normalBias,X.shadowRadius=q.radius,X.shadowMapSize=q.mapSize,i.directionalShadow[y]=X,i.directionalShadowMap[y]=re,i.directionalShadowMatrix[y]=D.shadow.matrix,v++}i.directional[y]=R,y++}else if(D.isSpotLight){const R=e.get(D);R.position.setFromMatrixPosition(D.matrixWorld),R.color.copy(K).multiplyScalar(J*b),R.distance=se,R.coneCos=Math.cos(D.angle),R.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),R.decay=D.decay,i.spot[m]=R;const q=D.shadow;if(D.map&&(i.spotLightMap[T]=D.map,T++,q.updateMatrices(D),D.castShadow&&x++),i.spotLightMatrix[m]=q.matrix,D.castShadow){const X=n.get(D);X.shadowBias=q.bias,X.shadowNormalBias=q.normalBias,X.shadowRadius=q.radius,X.shadowMapSize=q.mapSize,i.spotShadow[m]=X,i.spotShadowMap[m]=re,w++}m++}else if(D.isRectAreaLight){const R=e.get(D);R.color.copy(K).multiplyScalar(J),R.halfWidth.set(D.width*.5,0,0),R.halfHeight.set(0,D.height*.5,0),i.rectArea[d]=R,d++}else if(D.isPointLight){const R=e.get(D);if(R.color.copy(D.color).multiplyScalar(D.intensity*b),R.distance=D.distance,R.decay=D.decay,D.castShadow){const q=D.shadow,X=n.get(D);X.shadowBias=q.bias,X.shadowNormalBias=q.normalBias,X.shadowRadius=q.radius,X.shadowMapSize=q.mapSize,X.shadowCameraNear=q.camera.near,X.shadowCameraFar=q.camera.far,i.pointShadow[_]=X,i.pointShadowMap[_]=re,i.pointShadowMatrix[_]=D.shadow.matrix,M++}i.point[_]=R,_++}else if(D.isHemisphereLight){const R=e.get(D);R.skyColor.copy(D.color).multiplyScalar(J*b),R.groundColor.copy(D.groundColor).multiplyScalar(J*b),i.hemi[g]=R,g++}}d>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ye.LTC_FLOAT_1,i.rectAreaLTC2=ye.LTC_FLOAT_2):(i.rectAreaLTC1=ye.LTC_HALF_1,i.rectAreaLTC2=ye.LTC_HALF_2)),i.ambient[0]=f,i.ambient[1]=h,i.ambient[2]=p;const S=i.hash;(S.directionalLength!==y||S.pointLength!==_||S.spotLength!==m||S.rectAreaLength!==d||S.hemiLength!==g||S.numDirectionalShadows!==v||S.numPointShadows!==M||S.numSpotShadows!==w||S.numSpotMaps!==T||S.numLightProbes!==P)&&(i.directional.length=y,i.spot.length=m,i.rectArea.length=d,i.point.length=_,i.hemi.length=g,i.directionalShadow.length=v,i.directionalShadowMap.length=v,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=w,i.spotShadowMap.length=w,i.directionalShadowMatrix.length=v,i.pointShadowMatrix.length=M,i.spotLightMatrix.length=w+T-x,i.spotLightMap.length=T,i.numSpotLightShadowsWithMaps=x,i.numLightProbes=P,S.directionalLength=y,S.pointLength=_,S.spotLength=m,S.rectAreaLength=d,S.hemiLength=g,S.numDirectionalShadows=v,S.numPointShadows=M,S.numSpotShadows=w,S.numSpotMaps=T,S.numLightProbes=P,i.version=Hw++)}function l(c,u){let f=0,h=0,p=0,y=0,_=0;const m=u.matrixWorldInverse;for(let d=0,g=c.length;d<g;d++){const v=c[d];if(v.isDirectionalLight){const M=i.directional[f];M.direction.setFromMatrixPosition(v.matrixWorld),a.setFromMatrixPosition(v.target.matrixWorld),M.direction.sub(a),M.direction.transformDirection(m),f++}else if(v.isSpotLight){const M=i.spot[p];M.position.setFromMatrixPosition(v.matrixWorld),M.position.applyMatrix4(m),M.direction.setFromMatrixPosition(v.matrixWorld),a.setFromMatrixPosition(v.target.matrixWorld),M.direction.sub(a),M.direction.transformDirection(m),p++}else if(v.isRectAreaLight){const M=i.rectArea[y];M.position.setFromMatrixPosition(v.matrixWorld),M.position.applyMatrix4(m),o.identity(),r.copy(v.matrixWorld),r.premultiply(m),o.extractRotation(r),M.halfWidth.set(v.width*.5,0,0),M.halfHeight.set(0,v.height*.5,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),y++}else if(v.isPointLight){const M=i.point[h];M.position.setFromMatrixPosition(v.matrixWorld),M.position.applyMatrix4(m),h++}else if(v.isHemisphereLight){const M=i.hemi[_];M.direction.setFromMatrixPosition(v.matrixWorld),M.direction.transformDirection(m),_++}}}return{setup:s,setupView:l,state:i}}function tg(t){const e=new jw(t),n=[],i=[];function a(u){c.camera=u,n.length=0,i.length=0}function r(u){n.push(u)}function o(u){i.push(u)}function s(u){e.setup(n,u)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:c,setupLights:s,setupLightsView:l,pushLight:r,pushShadow:o}}function Gw(t){let e=new WeakMap;function n(a,r=0){const o=e.get(a);let s;return o===void 0?(s=new tg(t),e.set(a,[s])):r>=o.length?(s=new tg(t),o.push(s)):s=o[r],s}function i(){e=new WeakMap}return{get:n,dispose:i}}class Ww extends $a{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=jM,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class qw extends $a{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Xw=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Kw=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Jw(t,e,n){let i=new eh;const a=new at,r=new at,o=new jt,s=new Ww({depthPacking:GM}),l=new qw,c={},u=n.maxTextureSize,f={[ca]:yn,[yn]:ca,[xi]:xi},h=new da({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new at},radius:{value:4}},vertexShader:Xw,fragmentShader:Kw}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const y=new kn;y.setAttribute("position",new Zn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new si(y,h),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=j0;let d=this.type;this.render=function(T,x,P){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||T.length===0)return;const b=t.getRenderTarget(),S=t.getActiveCubeFace(),N=t.getActiveMipmapLevel(),W=t.state;W.setBlending(ra),W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);const D=d!==vi&&this.type===vi,K=d===vi&&this.type!==vi;for(let J=0,se=T.length;J<se;J++){const re=T[J],R=re.shadow;if(R===void 0){console.warn("THREE.WebGLShadowMap:",re,"has no shadow.");continue}if(R.autoUpdate===!1&&R.needsUpdate===!1)continue;a.copy(R.mapSize);const q=R.getFrameExtents();if(a.multiply(q),r.copy(R.mapSize),(a.x>u||a.y>u)&&(a.x>u&&(r.x=Math.floor(u/q.x),a.x=r.x*q.x,R.mapSize.x=r.x),a.y>u&&(r.y=Math.floor(u/q.y),a.y=r.y*q.y,R.mapSize.y=r.y)),R.map===null||D===!0||K===!0){const ce=this.type!==vi?{minFilter:Un,magFilter:Un}:{};R.map!==null&&R.map.dispose(),R.map=new Xa(a.x,a.y,ce),R.map.texture.name=re.name+".shadowMap",R.camera.updateProjectionMatrix()}t.setRenderTarget(R.map),t.clear();const X=R.getViewportCount();for(let ce=0;ce<X;ce++){const Ee=R.getViewport(ce);o.set(r.x*Ee.x,r.y*Ee.y,r.x*Ee.z,r.y*Ee.w),W.viewport(o),R.updateMatrices(re,ce),i=R.getFrustum(),M(x,P,R.camera,re,this.type)}R.isPointLightShadow!==!0&&this.type===vi&&g(R,P),R.needsUpdate=!1}d=this.type,m.needsUpdate=!1,t.setRenderTarget(b,S,N)};function g(T,x){const P=e.update(_);h.defines.VSM_SAMPLES!==T.blurSamples&&(h.defines.VSM_SAMPLES=T.blurSamples,p.defines.VSM_SAMPLES=T.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new Xa(a.x,a.y)),h.uniforms.shadow_pass.value=T.map.texture,h.uniforms.resolution.value=T.mapSize,h.uniforms.radius.value=T.radius,t.setRenderTarget(T.mapPass),t.clear(),t.renderBufferDirect(x,null,P,h,_,null),p.uniforms.shadow_pass.value=T.mapPass.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,t.setRenderTarget(T.map),t.clear(),t.renderBufferDirect(x,null,P,p,_,null)}function v(T,x,P,b){let S=null;const N=P.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(N!==void 0)S=N;else if(S=P.isPointLight===!0?l:s,t.localClippingEnabled&&x.clipShadows===!0&&Array.isArray(x.clippingPlanes)&&x.clippingPlanes.length!==0||x.displacementMap&&x.displacementScale!==0||x.alphaMap&&x.alphaTest>0||x.map&&x.alphaTest>0){const W=S.uuid,D=x.uuid;let K=c[W];K===void 0&&(K={},c[W]=K);let J=K[D];J===void 0&&(J=S.clone(),K[D]=J,x.addEventListener("dispose",w)),S=J}if(S.visible=x.visible,S.wireframe=x.wireframe,b===vi?S.side=x.shadowSide!==null?x.shadowSide:x.side:S.side=x.shadowSide!==null?x.shadowSide:f[x.side],S.alphaMap=x.alphaMap,S.alphaTest=x.alphaTest,S.map=x.map,S.clipShadows=x.clipShadows,S.clippingPlanes=x.clippingPlanes,S.clipIntersection=x.clipIntersection,S.displacementMap=x.displacementMap,S.displacementScale=x.displacementScale,S.displacementBias=x.displacementBias,S.wireframeLinewidth=x.wireframeLinewidth,S.linewidth=x.linewidth,P.isPointLight===!0&&S.isMeshDistanceMaterial===!0){const W=t.properties.get(S);W.light=P}return S}function M(T,x,P,b,S){if(T.visible===!1)return;if(T.layers.test(x.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&S===vi)&&(!T.frustumCulled||i.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,T.matrixWorld);const D=e.update(T),K=T.material;if(Array.isArray(K)){const J=D.groups;for(let se=0,re=J.length;se<re;se++){const R=J[se],q=K[R.materialIndex];if(q&&q.visible){const X=v(T,q,b,S);T.onBeforeShadow(t,T,x,P,D,X,R),t.renderBufferDirect(P,null,D,X,T,R),T.onAfterShadow(t,T,x,P,D,X,R)}}}else if(K.visible){const J=v(T,K,b,S);T.onBeforeShadow(t,T,x,P,D,J,null),t.renderBufferDirect(P,null,D,J,T,null),T.onAfterShadow(t,T,x,P,D,J,null)}}const W=T.children;for(let D=0,K=W.length;D<K;D++)M(W[D],x,P,b,S)}function w(T){T.target.removeEventListener("dispose",w);for(const P in c){const b=c[P],S=T.target.uuid;S in b&&(b[S].dispose(),delete b[S])}}}function Yw(t){function e(){let I=!1;const Q=new jt;let Y=null;const ve=new jt(0,0,0,0);return{setMask:function(_e){Y!==_e&&!I&&(t.colorMask(_e,_e,_e,_e),Y=_e)},setLocked:function(_e){I=_e},setClear:function(_e,tt,ut,L,z){z===!0&&(_e*=L,tt*=L,ut*=L),Q.set(_e,tt,ut,L),ve.equals(Q)===!1&&(t.clearColor(_e,tt,ut,L),ve.copy(Q))},reset:function(){I=!1,Y=null,ve.set(-1,0,0,0)}}}function n(){let I=!1,Q=null,Y=null,ve=null;return{setTest:function(_e){_e?ge(t.DEPTH_TEST):le(t.DEPTH_TEST)},setMask:function(_e){Q!==_e&&!I&&(t.depthMask(_e),Q=_e)},setFunc:function(_e){if(Y!==_e){switch(_e){case gM:t.depthFunc(t.NEVER);break;case vM:t.depthFunc(t.ALWAYS);break;case yM:t.depthFunc(t.LESS);break;case Xl:t.depthFunc(t.LEQUAL);break;case _M:t.depthFunc(t.EQUAL);break;case xM:t.depthFunc(t.GEQUAL);break;case SM:t.depthFunc(t.GREATER);break;case MM:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Y=_e}},setLocked:function(_e){I=_e},setClear:function(_e){ve!==_e&&(t.clearDepth(_e),ve=_e)},reset:function(){I=!1,Q=null,Y=null,ve=null}}}function i(){let I=!1,Q=null,Y=null,ve=null,_e=null,tt=null,ut=null,L=null,z=null;return{setTest:function(H){I||(H?ge(t.STENCIL_TEST):le(t.STENCIL_TEST))},setMask:function(H){Q!==H&&!I&&(t.stencilMask(H),Q=H)},setFunc:function(H,ne,fe){(Y!==H||ve!==ne||_e!==fe)&&(t.stencilFunc(H,ne,fe),Y=H,ve=ne,_e=fe)},setOp:function(H,ne,fe){(tt!==H||ut!==ne||L!==fe)&&(t.stencilOp(H,ne,fe),tt=H,ut=ne,L=fe)},setLocked:function(H){I=H},setClear:function(H){z!==H&&(t.clearStencil(H),z=H)},reset:function(){I=!1,Q=null,Y=null,ve=null,_e=null,tt=null,ut=null,L=null,z=null}}}const a=new e,r=new n,o=new i,s=new WeakMap,l=new WeakMap;let c={},u={},f=new WeakMap,h=[],p=null,y=!1,_=null,m=null,d=null,g=null,v=null,M=null,w=null,T=new nt(0,0,0),x=0,P=!1,b=null,S=null,N=null,W=null,D=null;const K=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let J=!1,se=0;const re=t.getParameter(t.VERSION);re.indexOf("WebGL")!==-1?(se=parseFloat(/^WebGL (\d)/.exec(re)[1]),J=se>=1):re.indexOf("OpenGL ES")!==-1&&(se=parseFloat(/^OpenGL ES (\d)/.exec(re)[1]),J=se>=2);let R=null,q={};const X=t.getParameter(t.SCISSOR_BOX),ce=t.getParameter(t.VIEWPORT),Ee=new jt().fromArray(X),Ke=new jt().fromArray(ce);function j(I,Q,Y,ve){const _e=new Uint8Array(4),tt=t.createTexture();t.bindTexture(I,tt),t.texParameteri(I,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(I,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ut=0;ut<Y;ut++)I===t.TEXTURE_3D||I===t.TEXTURE_2D_ARRAY?t.texImage3D(Q,0,t.RGBA,1,1,ve,0,t.RGBA,t.UNSIGNED_BYTE,_e):t.texImage2D(Q+ut,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,_e);return tt}const ie={};ie[t.TEXTURE_2D]=j(t.TEXTURE_2D,t.TEXTURE_2D,1),ie[t.TEXTURE_CUBE_MAP]=j(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ie[t.TEXTURE_2D_ARRAY]=j(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ie[t.TEXTURE_3D]=j(t.TEXTURE_3D,t.TEXTURE_3D,1,1),a.setClear(0,0,0,1),r.setClear(1),o.setClear(0),ge(t.DEPTH_TEST),r.setFunc(Xl),Qe(!1),Fe(Fp),ge(t.CULL_FACE),rt(ra);function ge(I){c[I]!==!0&&(t.enable(I),c[I]=!0)}function le(I){c[I]!==!1&&(t.disable(I),c[I]=!1)}function Xe(I,Q){return u[I]!==Q?(t.bindFramebuffer(I,Q),u[I]=Q,I===t.DRAW_FRAMEBUFFER&&(u[t.FRAMEBUFFER]=Q),I===t.FRAMEBUFFER&&(u[t.DRAW_FRAMEBUFFER]=Q),!0):!1}function Je(I,Q){let Y=h,ve=!1;if(I){Y=f.get(Q),Y===void 0&&(Y=[],f.set(Q,Y));const _e=I.textures;if(Y.length!==_e.length||Y[0]!==t.COLOR_ATTACHMENT0){for(let tt=0,ut=_e.length;tt<ut;tt++)Y[tt]=t.COLOR_ATTACHMENT0+tt;Y.length=_e.length,ve=!0}}else Y[0]!==t.BACK&&(Y[0]=t.BACK,ve=!0);ve&&t.drawBuffers(Y)}function F(I){return p!==I?(t.useProgram(I),p=I,!0):!1}const ct={[Ra]:t.FUNC_ADD,[QS]:t.FUNC_SUBTRACT,[eM]:t.FUNC_REVERSE_SUBTRACT};ct[tM]=t.MIN,ct[nM]=t.MAX;const Ae={[iM]:t.ZERO,[aM]:t.ONE,[rM]:t.SRC_COLOR,[Od]:t.SRC_ALPHA,[dM]:t.SRC_ALPHA_SATURATE,[cM]:t.DST_COLOR,[sM]:t.DST_ALPHA,[oM]:t.ONE_MINUS_SRC_COLOR,[Bd]:t.ONE_MINUS_SRC_ALPHA,[uM]:t.ONE_MINUS_DST_COLOR,[lM]:t.ONE_MINUS_DST_ALPHA,[fM]:t.CONSTANT_COLOR,[hM]:t.ONE_MINUS_CONSTANT_COLOR,[pM]:t.CONSTANT_ALPHA,[mM]:t.ONE_MINUS_CONSTANT_ALPHA};function rt(I,Q,Y,ve,_e,tt,ut,L,z,H){if(I===ra){y===!0&&(le(t.BLEND),y=!1);return}if(y===!1&&(ge(t.BLEND),y=!0),I!==ZS){if(I!==_||H!==P){if((m!==Ra||v!==Ra)&&(t.blendEquation(t.FUNC_ADD),m=Ra,v=Ra),H)switch(I){case Fr:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Fd:t.blendFunc(t.ONE,t.ONE);break;case Op:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Bp:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",I);break}else switch(I){case Fr:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Fd:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case Op:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Bp:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",I);break}d=null,g=null,M=null,w=null,T.set(0,0,0),x=0,_=I,P=H}return}_e=_e||Q,tt=tt||Y,ut=ut||ve,(Q!==m||_e!==v)&&(t.blendEquationSeparate(ct[Q],ct[_e]),m=Q,v=_e),(Y!==d||ve!==g||tt!==M||ut!==w)&&(t.blendFuncSeparate(Ae[Y],Ae[ve],Ae[tt],Ae[ut]),d=Y,g=ve,M=tt,w=ut),(L.equals(T)===!1||z!==x)&&(t.blendColor(L.r,L.g,L.b,z),T.copy(L),x=z),_=I,P=!1}function Ne(I,Q){I.side===xi?le(t.CULL_FACE):ge(t.CULL_FACE);let Y=I.side===yn;Q&&(Y=!Y),Qe(Y),I.blending===Fr&&I.transparent===!1?rt(ra):rt(I.blending,I.blendEquation,I.blendSrc,I.blendDst,I.blendEquationAlpha,I.blendSrcAlpha,I.blendDstAlpha,I.blendColor,I.blendAlpha,I.premultipliedAlpha),r.setFunc(I.depthFunc),r.setTest(I.depthTest),r.setMask(I.depthWrite),a.setMask(I.colorWrite);const ve=I.stencilWrite;o.setTest(ve),ve&&(o.setMask(I.stencilWriteMask),o.setFunc(I.stencilFunc,I.stencilRef,I.stencilFuncMask),o.setOp(I.stencilFail,I.stencilZFail,I.stencilZPass)),vt(I.polygonOffset,I.polygonOffsetFactor,I.polygonOffsetUnits),I.alphaToCoverage===!0?ge(t.SAMPLE_ALPHA_TO_COVERAGE):le(t.SAMPLE_ALPHA_TO_COVERAGE)}function Qe(I){b!==I&&(I?t.frontFace(t.CW):t.frontFace(t.CCW),b=I)}function Fe(I){I!==JS?(ge(t.CULL_FACE),I!==S&&(I===Fp?t.cullFace(t.BACK):I===YS?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):le(t.CULL_FACE),S=I}function et(I){I!==N&&(J&&t.lineWidth(I),N=I)}function vt(I,Q,Y){I?(ge(t.POLYGON_OFFSET_FILL),(W!==Q||D!==Y)&&(t.polygonOffset(Q,Y),W=Q,D=Y)):le(t.POLYGON_OFFSET_FILL)}function C(I){I?ge(t.SCISSOR_TEST):le(t.SCISSOR_TEST)}function E(I){I===void 0&&(I=t.TEXTURE0+K-1),R!==I&&(t.activeTexture(I),R=I)}function G(I,Q,Y){Y===void 0&&(R===null?Y=t.TEXTURE0+K-1:Y=R);let ve=q[Y];ve===void 0&&(ve={type:void 0,texture:void 0},q[Y]=ve),(ve.type!==I||ve.texture!==Q)&&(R!==Y&&(t.activeTexture(Y),R=Y),t.bindTexture(I,Q||ie[I]),ve.type=I,ve.texture=Q)}function $(){const I=q[R];I!==void 0&&I.type!==void 0&&(t.bindTexture(I.type,null),I.type=void 0,I.texture=void 0)}function te(){try{t.compressedTexImage2D.apply(t,arguments)}catch(I){console.error("THREE.WebGLState:",I)}}function ae(){try{t.compressedTexImage3D.apply(t,arguments)}catch(I){console.error("THREE.WebGLState:",I)}}function Re(){try{t.texSubImage2D.apply(t,arguments)}catch(I){console.error("THREE.WebGLState:",I)}}function he(){try{t.texSubImage3D.apply(t,arguments)}catch(I){console.error("THREE.WebGLState:",I)}}function pe(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(I){console.error("THREE.WebGLState:",I)}}function He(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(I){console.error("THREE.WebGLState:",I)}}function ue(){try{t.texStorage2D.apply(t,arguments)}catch(I){console.error("THREE.WebGLState:",I)}}function Le(){try{t.texStorage3D.apply(t,arguments)}catch(I){console.error("THREE.WebGLState:",I)}}function Ve(){try{t.texImage2D.apply(t,arguments)}catch(I){console.error("THREE.WebGLState:",I)}}function Ie(){try{t.texImage3D.apply(t,arguments)}catch(I){console.error("THREE.WebGLState:",I)}}function xe(I){Ee.equals(I)===!1&&(t.scissor(I.x,I.y,I.z,I.w),Ee.copy(I))}function je(I){Ke.equals(I)===!1&&(t.viewport(I.x,I.y,I.z,I.w),Ke.copy(I))}function Ye(I,Q){let Y=l.get(Q);Y===void 0&&(Y=new WeakMap,l.set(Q,Y));let ve=Y.get(I);ve===void 0&&(ve=t.getUniformBlockIndex(Q,I.name),Y.set(I,ve))}function yt(I,Q){const ve=l.get(Q).get(I);s.get(Q)!==ve&&(t.uniformBlockBinding(Q,ve,I.__bindingPointIndex),s.set(Q,ve))}function ke(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},R=null,q={},u={},f=new WeakMap,h=[],p=null,y=!1,_=null,m=null,d=null,g=null,v=null,M=null,w=null,T=new nt(0,0,0),x=0,P=!1,b=null,S=null,N=null,W=null,D=null,Ee.set(0,0,t.canvas.width,t.canvas.height),Ke.set(0,0,t.canvas.width,t.canvas.height),a.reset(),r.reset(),o.reset()}return{buffers:{color:a,depth:r,stencil:o},enable:ge,disable:le,bindFramebuffer:Xe,drawBuffers:Je,useProgram:F,setBlending:rt,setMaterial:Ne,setFlipSided:Qe,setCullFace:Fe,setLineWidth:et,setPolygonOffset:vt,setScissorTest:C,activeTexture:E,bindTexture:G,unbindTexture:$,compressedTexImage2D:te,compressedTexImage3D:ae,texImage2D:Ve,texImage3D:Ie,updateUBOMapping:Ye,uniformBlockBinding:yt,texStorage2D:ue,texStorage3D:Le,texSubImage2D:Re,texSubImage3D:he,compressedTexSubImage2D:pe,compressedTexSubImage3D:He,scissor:xe,viewport:je,reset:ke}}function $w(t,e,n,i,a,r,o){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new at,u=new WeakMap;let f;const h=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(C,E){return p?new OffscreenCanvas(C,E):as("canvas")}function _(C,E,G){let $=1;const te=vt(C);if((te.width>G||te.height>G)&&($=G/Math.max(te.width,te.height)),$<1)if(typeof HTMLImageElement<"u"&&C instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&C instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&C instanceof ImageBitmap||typeof VideoFrame<"u"&&C instanceof VideoFrame){const ae=Math.floor($*te.width),Re=Math.floor($*te.height);f===void 0&&(f=y(ae,Re));const he=E?y(ae,Re):f;return he.width=ae,he.height=Re,he.getContext("2d").drawImage(C,0,0,ae,Re),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+te.width+"x"+te.height+") to ("+ae+"x"+Re+")."),he}else return"data"in C&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+te.width+"x"+te.height+")."),C;return C}function m(C){return C.generateMipmaps&&C.minFilter!==Un&&C.minFilter!==Jn}function d(C){t.generateMipmap(C)}function g(C,E,G,$,te=!1){if(C!==null){if(t[C]!==void 0)return t[C];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+C+"'")}let ae=E;if(E===t.RED&&(G===t.FLOAT&&(ae=t.R32F),G===t.HALF_FLOAT&&(ae=t.R16F),G===t.UNSIGNED_BYTE&&(ae=t.R8)),E===t.RED_INTEGER&&(G===t.UNSIGNED_BYTE&&(ae=t.R8UI),G===t.UNSIGNED_SHORT&&(ae=t.R16UI),G===t.UNSIGNED_INT&&(ae=t.R32UI),G===t.BYTE&&(ae=t.R8I),G===t.SHORT&&(ae=t.R16I),G===t.INT&&(ae=t.R32I)),E===t.RG&&(G===t.FLOAT&&(ae=t.RG32F),G===t.HALF_FLOAT&&(ae=t.RG16F),G===t.UNSIGNED_BYTE&&(ae=t.RG8)),E===t.RG_INTEGER&&(G===t.UNSIGNED_BYTE&&(ae=t.RG8UI),G===t.UNSIGNED_SHORT&&(ae=t.RG16UI),G===t.UNSIGNED_INT&&(ae=t.RG32UI),G===t.BYTE&&(ae=t.RG8I),G===t.SHORT&&(ae=t.RG16I),G===t.INT&&(ae=t.RG32I)),E===t.RGB&&G===t.UNSIGNED_INT_5_9_9_9_REV&&(ae=t.RGB9_E5),E===t.RGBA){const Re=te?Kl:lt.getTransfer($);G===t.FLOAT&&(ae=t.RGBA32F),G===t.HALF_FLOAT&&(ae=t.RGBA16F),G===t.UNSIGNED_BYTE&&(ae=Re===mt?t.SRGB8_ALPHA8:t.RGBA8),G===t.UNSIGNED_SHORT_4_4_4_4&&(ae=t.RGBA4),G===t.UNSIGNED_SHORT_5_5_5_1&&(ae=t.RGB5_A1)}return(ae===t.R16F||ae===t.R32F||ae===t.RG16F||ae===t.RG32F||ae===t.RGBA16F||ae===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ae}function v(C,E){return m(C)===!0||C.isFramebufferTexture&&C.minFilter!==Un&&C.minFilter!==Jn?Math.log2(Math.max(E.width,E.height))+1:C.mipmaps!==void 0&&C.mipmaps.length>0?C.mipmaps.length:C.isCompressedTexture&&Array.isArray(C.image)?E.mipmaps.length:1}function M(C){const E=C.target;E.removeEventListener("dispose",M),T(E),E.isVideoTexture&&u.delete(E)}function w(C){const E=C.target;E.removeEventListener("dispose",w),P(E)}function T(C){const E=i.get(C);if(E.__webglInit===void 0)return;const G=C.source,$=h.get(G);if($){const te=$[E.__cacheKey];te.usedTimes--,te.usedTimes===0&&x(C),Object.keys($).length===0&&h.delete(G)}i.remove(C)}function x(C){const E=i.get(C);t.deleteTexture(E.__webglTexture);const G=C.source,$=h.get(G);delete $[E.__cacheKey],o.memory.textures--}function P(C){const E=i.get(C);if(C.depthTexture&&C.depthTexture.dispose(),C.isWebGLCubeRenderTarget)for(let $=0;$<6;$++){if(Array.isArray(E.__webglFramebuffer[$]))for(let te=0;te<E.__webglFramebuffer[$].length;te++)t.deleteFramebuffer(E.__webglFramebuffer[$][te]);else t.deleteFramebuffer(E.__webglFramebuffer[$]);E.__webglDepthbuffer&&t.deleteRenderbuffer(E.__webglDepthbuffer[$])}else{if(Array.isArray(E.__webglFramebuffer))for(let $=0;$<E.__webglFramebuffer.length;$++)t.deleteFramebuffer(E.__webglFramebuffer[$]);else t.deleteFramebuffer(E.__webglFramebuffer);if(E.__webglDepthbuffer&&t.deleteRenderbuffer(E.__webglDepthbuffer),E.__webglMultisampledFramebuffer&&t.deleteFramebuffer(E.__webglMultisampledFramebuffer),E.__webglColorRenderbuffer)for(let $=0;$<E.__webglColorRenderbuffer.length;$++)E.__webglColorRenderbuffer[$]&&t.deleteRenderbuffer(E.__webglColorRenderbuffer[$]);E.__webglDepthRenderbuffer&&t.deleteRenderbuffer(E.__webglDepthRenderbuffer)}const G=C.textures;for(let $=0,te=G.length;$<te;$++){const ae=i.get(G[$]);ae.__webglTexture&&(t.deleteTexture(ae.__webglTexture),o.memory.textures--),i.remove(G[$])}i.remove(C)}let b=0;function S(){b=0}function N(){const C=b;return C>=a.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+C+" texture units while this GPU supports only "+a.maxTextures),b+=1,C}function W(C){const E=[];return E.push(C.wrapS),E.push(C.wrapT),E.push(C.wrapR||0),E.push(C.magFilter),E.push(C.minFilter),E.push(C.anisotropy),E.push(C.internalFormat),E.push(C.format),E.push(C.type),E.push(C.generateMipmaps),E.push(C.premultiplyAlpha),E.push(C.flipY),E.push(C.unpackAlignment),E.push(C.colorSpace),E.join()}function D(C,E){const G=i.get(C);if(C.isVideoTexture&&Fe(C),C.isRenderTargetTexture===!1&&C.version>0&&G.__version!==C.version){const $=C.image;if($===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if($.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ee(G,C,E);return}}n.bindTexture(t.TEXTURE_2D,G.__webglTexture,t.TEXTURE0+E)}function K(C,E){const G=i.get(C);if(C.version>0&&G.__version!==C.version){Ee(G,C,E);return}n.bindTexture(t.TEXTURE_2D_ARRAY,G.__webglTexture,t.TEXTURE0+E)}function J(C,E){const G=i.get(C);if(C.version>0&&G.__version!==C.version){Ee(G,C,E);return}n.bindTexture(t.TEXTURE_3D,G.__webglTexture,t.TEXTURE0+E)}function se(C,E){const G=i.get(C);if(C.version>0&&G.__version!==C.version){Ke(G,C,E);return}n.bindTexture(t.TEXTURE_CUBE_MAP,G.__webglTexture,t.TEXTURE0+E)}const re={[Vd]:t.REPEAT,[za]:t.CLAMP_TO_EDGE,[jd]:t.MIRRORED_REPEAT},R={[Un]:t.NEAREST,[DM]:t.NEAREST_MIPMAP_NEAREST,[Us]:t.NEAREST_MIPMAP_LINEAR,[Jn]:t.LINEAR,[au]:t.LINEAR_MIPMAP_NEAREST,[Fa]:t.LINEAR_MIPMAP_LINEAR},q={[qM]:t.NEVER,[ZM]:t.ALWAYS,[XM]:t.LESS,[Q0]:t.LEQUAL,[KM]:t.EQUAL,[$M]:t.GEQUAL,[JM]:t.GREATER,[YM]:t.NOTEQUAL};function X(C,E){if(E.type===Yi&&e.has("OES_texture_float_linear")===!1&&(E.magFilter===Jn||E.magFilter===au||E.magFilter===Us||E.magFilter===Fa||E.minFilter===Jn||E.minFilter===au||E.minFilter===Us||E.minFilter===Fa)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(C,t.TEXTURE_WRAP_S,re[E.wrapS]),t.texParameteri(C,t.TEXTURE_WRAP_T,re[E.wrapT]),(C===t.TEXTURE_3D||C===t.TEXTURE_2D_ARRAY)&&t.texParameteri(C,t.TEXTURE_WRAP_R,re[E.wrapR]),t.texParameteri(C,t.TEXTURE_MAG_FILTER,R[E.magFilter]),t.texParameteri(C,t.TEXTURE_MIN_FILTER,R[E.minFilter]),E.compareFunction&&(t.texParameteri(C,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(C,t.TEXTURE_COMPARE_FUNC,q[E.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(E.magFilter===Un||E.minFilter!==Us&&E.minFilter!==Fa||E.type===Yi&&e.has("OES_texture_float_linear")===!1)return;if(E.anisotropy>1||i.get(E).__currentAnisotropy){const G=e.get("EXT_texture_filter_anisotropic");t.texParameterf(C,G.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(E.anisotropy,a.getMaxAnisotropy())),i.get(E).__currentAnisotropy=E.anisotropy}}}function ce(C,E){let G=!1;C.__webglInit===void 0&&(C.__webglInit=!0,E.addEventListener("dispose",M));const $=E.source;let te=h.get($);te===void 0&&(te={},h.set($,te));const ae=W(E);if(ae!==C.__cacheKey){te[ae]===void 0&&(te[ae]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,G=!0),te[ae].usedTimes++;const Re=te[C.__cacheKey];Re!==void 0&&(te[C.__cacheKey].usedTimes--,Re.usedTimes===0&&x(E)),C.__cacheKey=ae,C.__webglTexture=te[ae].texture}return G}function Ee(C,E,G){let $=t.TEXTURE_2D;(E.isDataArrayTexture||E.isCompressedArrayTexture)&&($=t.TEXTURE_2D_ARRAY),E.isData3DTexture&&($=t.TEXTURE_3D);const te=ce(C,E),ae=E.source;n.bindTexture($,C.__webglTexture,t.TEXTURE0+G);const Re=i.get(ae);if(ae.version!==Re.__version||te===!0){n.activeTexture(t.TEXTURE0+G);const he=lt.getPrimaries(lt.workingColorSpace),pe=E.colorSpace===Xi?null:lt.getPrimaries(E.colorSpace),He=E.colorSpace===Xi||he===pe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,E.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,E.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,E.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,He);let ue=_(E.image,!1,a.maxTextureSize);ue=et(E,ue);const Le=r.convert(E.format,E.colorSpace),Ve=r.convert(E.type);let Ie=g(E.internalFormat,Le,Ve,E.colorSpace,E.isVideoTexture);X($,E);let xe;const je=E.mipmaps,Ye=E.isVideoTexture!==!0,yt=Re.__version===void 0||te===!0,ke=ae.dataReady,I=v(E,ue);if(E.isDepthTexture)Ie=t.DEPTH_COMPONENT16,E.type===Yi?Ie=t.DEPTH_COMPONENT32F:E.type===Jr?Ie=t.DEPTH_COMPONENT24:E.type===ds&&(Ie=t.DEPTH24_STENCIL8),yt&&(Ye?n.texStorage2D(t.TEXTURE_2D,1,Ie,ue.width,ue.height):n.texImage2D(t.TEXTURE_2D,0,Ie,ue.width,ue.height,0,Le,Ve,null));else if(E.isDataTexture)if(je.length>0){Ye&&yt&&n.texStorage2D(t.TEXTURE_2D,I,Ie,je[0].width,je[0].height);for(let Q=0,Y=je.length;Q<Y;Q++)xe=je[Q],Ye?ke&&n.texSubImage2D(t.TEXTURE_2D,Q,0,0,xe.width,xe.height,Le,Ve,xe.data):n.texImage2D(t.TEXTURE_2D,Q,Ie,xe.width,xe.height,0,Le,Ve,xe.data);E.generateMipmaps=!1}else Ye?(yt&&n.texStorage2D(t.TEXTURE_2D,I,Ie,ue.width,ue.height),ke&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,ue.width,ue.height,Le,Ve,ue.data)):n.texImage2D(t.TEXTURE_2D,0,Ie,ue.width,ue.height,0,Le,Ve,ue.data);else if(E.isCompressedTexture)if(E.isCompressedArrayTexture){Ye&&yt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,I,Ie,je[0].width,je[0].height,ue.depth);for(let Q=0,Y=je.length;Q<Y;Q++)xe=je[Q],E.format!==oi?Le!==null?Ye?ke&&n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Q,0,0,0,xe.width,xe.height,ue.depth,Le,xe.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Q,Ie,xe.width,xe.height,ue.depth,0,xe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ye?ke&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Q,0,0,0,xe.width,xe.height,ue.depth,Le,Ve,xe.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Q,Ie,xe.width,xe.height,ue.depth,0,Le,Ve,xe.data)}else{Ye&&yt&&n.texStorage2D(t.TEXTURE_2D,I,Ie,je[0].width,je[0].height);for(let Q=0,Y=je.length;Q<Y;Q++)xe=je[Q],E.format!==oi?Le!==null?Ye?ke&&n.compressedTexSubImage2D(t.TEXTURE_2D,Q,0,0,xe.width,xe.height,Le,xe.data):n.compressedTexImage2D(t.TEXTURE_2D,Q,Ie,xe.width,xe.height,0,xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ye?ke&&n.texSubImage2D(t.TEXTURE_2D,Q,0,0,xe.width,xe.height,Le,Ve,xe.data):n.texImage2D(t.TEXTURE_2D,Q,Ie,xe.width,xe.height,0,Le,Ve,xe.data)}else if(E.isDataArrayTexture)Ye?(yt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,I,Ie,ue.width,ue.height,ue.depth),ke&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,ue.width,ue.height,ue.depth,Le,Ve,ue.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Ie,ue.width,ue.height,ue.depth,0,Le,Ve,ue.data);else if(E.isData3DTexture)Ye?(yt&&n.texStorage3D(t.TEXTURE_3D,I,Ie,ue.width,ue.height,ue.depth),ke&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,ue.width,ue.height,ue.depth,Le,Ve,ue.data)):n.texImage3D(t.TEXTURE_3D,0,Ie,ue.width,ue.height,ue.depth,0,Le,Ve,ue.data);else if(E.isFramebufferTexture){if(yt)if(Ye)n.texStorage2D(t.TEXTURE_2D,I,Ie,ue.width,ue.height);else{let Q=ue.width,Y=ue.height;for(let ve=0;ve<I;ve++)n.texImage2D(t.TEXTURE_2D,ve,Ie,Q,Y,0,Le,Ve,null),Q>>=1,Y>>=1}}else if(je.length>0){if(Ye&&yt){const Q=vt(je[0]);n.texStorage2D(t.TEXTURE_2D,I,Ie,Q.width,Q.height)}for(let Q=0,Y=je.length;Q<Y;Q++)xe=je[Q],Ye?ke&&n.texSubImage2D(t.TEXTURE_2D,Q,0,0,Le,Ve,xe):n.texImage2D(t.TEXTURE_2D,Q,Ie,Le,Ve,xe);E.generateMipmaps=!1}else if(Ye){if(yt){const Q=vt(ue);n.texStorage2D(t.TEXTURE_2D,I,Ie,Q.width,Q.height)}ke&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Le,Ve,ue)}else n.texImage2D(t.TEXTURE_2D,0,Ie,Le,Ve,ue);m(E)&&d($),Re.__version=ae.version,E.onUpdate&&E.onUpdate(E)}C.__version=E.version}function Ke(C,E,G){if(E.image.length!==6)return;const $=ce(C,E),te=E.source;n.bindTexture(t.TEXTURE_CUBE_MAP,C.__webglTexture,t.TEXTURE0+G);const ae=i.get(te);if(te.version!==ae.__version||$===!0){n.activeTexture(t.TEXTURE0+G);const Re=lt.getPrimaries(lt.workingColorSpace),he=E.colorSpace===Xi?null:lt.getPrimaries(E.colorSpace),pe=E.colorSpace===Xi||Re===he?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,E.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,E.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,E.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,pe);const He=E.isCompressedTexture||E.image[0].isCompressedTexture,ue=E.image[0]&&E.image[0].isDataTexture,Le=[];for(let Y=0;Y<6;Y++)!He&&!ue?Le[Y]=_(E.image[Y],!0,a.maxCubemapSize):Le[Y]=ue?E.image[Y].image:E.image[Y],Le[Y]=et(E,Le[Y]);const Ve=Le[0],Ie=r.convert(E.format,E.colorSpace),xe=r.convert(E.type),je=g(E.internalFormat,Ie,xe,E.colorSpace),Ye=E.isVideoTexture!==!0,yt=ae.__version===void 0||$===!0,ke=te.dataReady;let I=v(E,Ve);X(t.TEXTURE_CUBE_MAP,E);let Q;if(He){Ye&&yt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,I,je,Ve.width,Ve.height);for(let Y=0;Y<6;Y++){Q=Le[Y].mipmaps;for(let ve=0;ve<Q.length;ve++){const _e=Q[ve];E.format!==oi?Ie!==null?Ye?ke&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,ve,0,0,_e.width,_e.height,Ie,_e.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,ve,je,_e.width,_e.height,0,_e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ye?ke&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,ve,0,0,_e.width,_e.height,Ie,xe,_e.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,ve,je,_e.width,_e.height,0,Ie,xe,_e.data)}}}else{if(Q=E.mipmaps,Ye&&yt){Q.length>0&&I++;const Y=vt(Le[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,I,je,Y.width,Y.height)}for(let Y=0;Y<6;Y++)if(ue){Ye?ke&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,0,0,0,Le[Y].width,Le[Y].height,Ie,xe,Le[Y].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,0,je,Le[Y].width,Le[Y].height,0,Ie,xe,Le[Y].data);for(let ve=0;ve<Q.length;ve++){const tt=Q[ve].image[Y].image;Ye?ke&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,ve+1,0,0,tt.width,tt.height,Ie,xe,tt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,ve+1,je,tt.width,tt.height,0,Ie,xe,tt.data)}}else{Ye?ke&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,0,0,0,Ie,xe,Le[Y]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,0,je,Ie,xe,Le[Y]);for(let ve=0;ve<Q.length;ve++){const _e=Q[ve];Ye?ke&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,ve+1,0,0,Ie,xe,_e.image[Y]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,ve+1,je,Ie,xe,_e.image[Y])}}}m(E)&&d(t.TEXTURE_CUBE_MAP),ae.__version=te.version,E.onUpdate&&E.onUpdate(E)}C.__version=E.version}function j(C,E,G,$,te,ae){const Re=r.convert(G.format,G.colorSpace),he=r.convert(G.type),pe=g(G.internalFormat,Re,he,G.colorSpace);if(!i.get(E).__hasExternalTextures){const ue=Math.max(1,E.width>>ae),Le=Math.max(1,E.height>>ae);te===t.TEXTURE_3D||te===t.TEXTURE_2D_ARRAY?n.texImage3D(te,ae,pe,ue,Le,E.depth,0,Re,he,null):n.texImage2D(te,ae,pe,ue,Le,0,Re,he,null)}n.bindFramebuffer(t.FRAMEBUFFER,C),Qe(E)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,$,te,i.get(G).__webglTexture,0,Ne(E)):(te===t.TEXTURE_2D||te>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&te<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,$,te,i.get(G).__webglTexture,ae),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ie(C,E,G){if(t.bindRenderbuffer(t.RENDERBUFFER,C),E.depthBuffer&&!E.stencilBuffer){let $=t.DEPTH_COMPONENT24;if(G||Qe(E)){const te=E.depthTexture;te&&te.isDepthTexture&&(te.type===Yi?$=t.DEPTH_COMPONENT32F:te.type===Jr&&($=t.DEPTH_COMPONENT24));const ae=Ne(E);Qe(E)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ae,$,E.width,E.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,ae,$,E.width,E.height)}else t.renderbufferStorage(t.RENDERBUFFER,$,E.width,E.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,C)}else if(E.depthBuffer&&E.stencilBuffer){const $=Ne(E);G&&Qe(E)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,$,t.DEPTH24_STENCIL8,E.width,E.height):Qe(E)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,$,t.DEPTH24_STENCIL8,E.width,E.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,E.width,E.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,C)}else{const $=E.textures;for(let te=0;te<$.length;te++){const ae=$[te],Re=r.convert(ae.format,ae.colorSpace),he=r.convert(ae.type),pe=g(ae.internalFormat,Re,he,ae.colorSpace),He=Ne(E);G&&Qe(E)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,He,pe,E.width,E.height):Qe(E)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,He,pe,E.width,E.height):t.renderbufferStorage(t.RENDERBUFFER,pe,E.width,E.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ge(C,E){if(E&&E.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,C),!(E.depthTexture&&E.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(E.depthTexture).__webglTexture||E.depthTexture.image.width!==E.width||E.depthTexture.image.height!==E.height)&&(E.depthTexture.image.width=E.width,E.depthTexture.image.height=E.height,E.depthTexture.needsUpdate=!0),D(E.depthTexture,0);const $=i.get(E.depthTexture).__webglTexture,te=Ne(E);if(E.depthTexture.format===Or)Qe(E)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,$,0,te):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,$,0);else if(E.depthTexture.format===is)Qe(E)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,$,0,te):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,$,0);else throw new Error("Unknown depthTexture format")}function le(C){const E=i.get(C),G=C.isWebGLCubeRenderTarget===!0;if(C.depthTexture&&!E.__autoAllocateDepthBuffer){if(G)throw new Error("target.depthTexture not supported in Cube render targets");ge(E.__webglFramebuffer,C)}else if(G){E.__webglDepthbuffer=[];for(let $=0;$<6;$++)n.bindFramebuffer(t.FRAMEBUFFER,E.__webglFramebuffer[$]),E.__webglDepthbuffer[$]=t.createRenderbuffer(),ie(E.__webglDepthbuffer[$],C,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,E.__webglFramebuffer),E.__webglDepthbuffer=t.createRenderbuffer(),ie(E.__webglDepthbuffer,C,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Xe(C,E,G){const $=i.get(C);E!==void 0&&j($.__webglFramebuffer,C,C.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),G!==void 0&&le(C)}function Je(C){const E=C.texture,G=i.get(C),$=i.get(E);C.addEventListener("dispose",w);const te=C.textures,ae=C.isWebGLCubeRenderTarget===!0,Re=te.length>1;if(Re||($.__webglTexture===void 0&&($.__webglTexture=t.createTexture()),$.__version=E.version,o.memory.textures++),ae){G.__webglFramebuffer=[];for(let he=0;he<6;he++)if(E.mipmaps&&E.mipmaps.length>0){G.__webglFramebuffer[he]=[];for(let pe=0;pe<E.mipmaps.length;pe++)G.__webglFramebuffer[he][pe]=t.createFramebuffer()}else G.__webglFramebuffer[he]=t.createFramebuffer()}else{if(E.mipmaps&&E.mipmaps.length>0){G.__webglFramebuffer=[];for(let he=0;he<E.mipmaps.length;he++)G.__webglFramebuffer[he]=t.createFramebuffer()}else G.__webglFramebuffer=t.createFramebuffer();if(Re)for(let he=0,pe=te.length;he<pe;he++){const He=i.get(te[he]);He.__webglTexture===void 0&&(He.__webglTexture=t.createTexture(),o.memory.textures++)}if(C.samples>0&&Qe(C)===!1){G.__webglMultisampledFramebuffer=t.createFramebuffer(),G.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,G.__webglMultisampledFramebuffer);for(let he=0;he<te.length;he++){const pe=te[he];G.__webglColorRenderbuffer[he]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,G.__webglColorRenderbuffer[he]);const He=r.convert(pe.format,pe.colorSpace),ue=r.convert(pe.type),Le=g(pe.internalFormat,He,ue,pe.colorSpace,C.isXRRenderTarget===!0),Ve=Ne(C);t.renderbufferStorageMultisample(t.RENDERBUFFER,Ve,Le,C.width,C.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+he,t.RENDERBUFFER,G.__webglColorRenderbuffer[he])}t.bindRenderbuffer(t.RENDERBUFFER,null),C.depthBuffer&&(G.__webglDepthRenderbuffer=t.createRenderbuffer(),ie(G.__webglDepthRenderbuffer,C,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ae){n.bindTexture(t.TEXTURE_CUBE_MAP,$.__webglTexture),X(t.TEXTURE_CUBE_MAP,E);for(let he=0;he<6;he++)if(E.mipmaps&&E.mipmaps.length>0)for(let pe=0;pe<E.mipmaps.length;pe++)j(G.__webglFramebuffer[he][pe],C,E,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+he,pe);else j(G.__webglFramebuffer[he],C,E,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+he,0);m(E)&&d(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Re){for(let he=0,pe=te.length;he<pe;he++){const He=te[he],ue=i.get(He);n.bindTexture(t.TEXTURE_2D,ue.__webglTexture),X(t.TEXTURE_2D,He),j(G.__webglFramebuffer,C,He,t.COLOR_ATTACHMENT0+he,t.TEXTURE_2D,0),m(He)&&d(t.TEXTURE_2D)}n.unbindTexture()}else{let he=t.TEXTURE_2D;if((C.isWebGL3DRenderTarget||C.isWebGLArrayRenderTarget)&&(he=C.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(he,$.__webglTexture),X(he,E),E.mipmaps&&E.mipmaps.length>0)for(let pe=0;pe<E.mipmaps.length;pe++)j(G.__webglFramebuffer[pe],C,E,t.COLOR_ATTACHMENT0,he,pe);else j(G.__webglFramebuffer,C,E,t.COLOR_ATTACHMENT0,he,0);m(E)&&d(he),n.unbindTexture()}C.depthBuffer&&le(C)}function F(C){const E=C.textures;for(let G=0,$=E.length;G<$;G++){const te=E[G];if(m(te)){const ae=C.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Re=i.get(te).__webglTexture;n.bindTexture(ae,Re),d(ae),n.unbindTexture()}}}const ct=[],Ae=[];function rt(C){if(C.samples>0){if(Qe(C)===!1){const E=C.textures,G=C.width,$=C.height;let te=t.COLOR_BUFFER_BIT;const ae=C.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Re=i.get(C),he=E.length>1;if(he)for(let pe=0;pe<E.length;pe++)n.bindFramebuffer(t.FRAMEBUFFER,Re.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+pe,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Re.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+pe,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Re.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Re.__webglFramebuffer);for(let pe=0;pe<E.length;pe++){if(C.resolveDepthBuffer&&(C.depthBuffer&&(te|=t.DEPTH_BUFFER_BIT),C.stencilBuffer&&C.resolveStencilBuffer&&(te|=t.STENCIL_BUFFER_BIT)),he){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Re.__webglColorRenderbuffer[pe]);const He=i.get(E[pe]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,He,0)}t.blitFramebuffer(0,0,G,$,0,0,G,$,te,t.NEAREST),l===!0&&(ct.length=0,Ae.length=0,ct.push(t.COLOR_ATTACHMENT0+pe),C.depthBuffer&&C.resolveDepthBuffer===!1&&(ct.push(ae),Ae.push(ae),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Ae)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,ct))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),he)for(let pe=0;pe<E.length;pe++){n.bindFramebuffer(t.FRAMEBUFFER,Re.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+pe,t.RENDERBUFFER,Re.__webglColorRenderbuffer[pe]);const He=i.get(E[pe]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Re.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+pe,t.TEXTURE_2D,He,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Re.__webglMultisampledFramebuffer)}else if(C.depthBuffer&&C.resolveDepthBuffer===!1&&l){const E=C.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[E])}}}function Ne(C){return Math.min(a.maxSamples,C.samples)}function Qe(C){const E=i.get(C);return C.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&E.__useRenderToTexture!==!1}function Fe(C){const E=o.render.frame;u.get(C)!==E&&(u.set(C,E),C.update())}function et(C,E){const G=C.colorSpace,$=C.format,te=C.type;return C.isCompressedTexture===!0||C.isVideoTexture===!0||G!==ma&&G!==Xi&&(lt.getTransfer(G)===mt?($!==oi||te!==ua)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",G)),E}function vt(C){return typeof HTMLImageElement<"u"&&C instanceof HTMLImageElement?(c.width=C.naturalWidth||C.width,c.height=C.naturalHeight||C.height):typeof VideoFrame<"u"&&C instanceof VideoFrame?(c.width=C.displayWidth,c.height=C.displayHeight):(c.width=C.width,c.height=C.height),c}this.allocateTextureUnit=N,this.resetTextureUnits=S,this.setTexture2D=D,this.setTexture2DArray=K,this.setTexture3D=J,this.setTextureCube=se,this.rebindTextures=Xe,this.setupRenderTarget=Je,this.updateRenderTargetMipmap=F,this.updateMultisampleRenderTarget=rt,this.setupDepthRenderbuffer=le,this.setupFrameBufferTexture=j,this.useMultisampledRTT=Qe}function Zw(t,e){function n(i,a=Xi){let r;const o=lt.getTransfer(a);if(i===ua)return t.UNSIGNED_BYTE;if(i===X0)return t.UNSIGNED_SHORT_4_4_4_4;if(i===K0)return t.UNSIGNED_SHORT_5_5_5_1;if(i===UM)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===IM)return t.BYTE;if(i===NM)return t.SHORT;if(i===W0)return t.UNSIGNED_SHORT;if(i===q0)return t.INT;if(i===Jr)return t.UNSIGNED_INT;if(i===Yi)return t.FLOAT;if(i===Sc)return t.HALF_FLOAT;if(i===zM)return t.ALPHA;if(i===FM)return t.RGB;if(i===oi)return t.RGBA;if(i===OM)return t.LUMINANCE;if(i===BM)return t.LUMINANCE_ALPHA;if(i===Or)return t.DEPTH_COMPONENT;if(i===is)return t.DEPTH_STENCIL;if(i===kM)return t.RED;if(i===J0)return t.RED_INTEGER;if(i===HM)return t.RG;if(i===Y0)return t.RG_INTEGER;if(i===$0)return t.RGBA_INTEGER;if(i===ru||i===ou||i===su||i===lu)if(o===mt)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(i===ru)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===ou)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===su)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===lu)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(i===ru)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===ou)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===su)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===lu)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===kp||i===Hp||i===Vp||i===jp)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(i===kp)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Hp)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Vp)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===jp)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Gp||i===Wp||i===qp)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(i===Gp||i===Wp)return o===mt?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(i===qp)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Xp||i===Kp||i===Jp||i===Yp||i===$p||i===Zp||i===Qp||i===em||i===tm||i===nm||i===im||i===am||i===rm||i===om)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(i===Xp)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Kp)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Jp)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Yp)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===$p)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Zp)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Qp)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===em)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===tm)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===nm)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===im)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===am)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===rm)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===om)return o===mt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===cu||i===sm||i===lm)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(i===cu)return o===mt?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===sm)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===lm)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===VM||i===cm||i===um||i===dm)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(i===cu)return r.COMPRESSED_RED_RGTC1_EXT;if(i===cm)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===um)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===dm)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===ds?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}class Qw extends In{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class il extends Wt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const e2={type:"move"};class zu{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new il,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new il,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new k,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new k),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new il,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new k,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new k),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let a=null,r=null,o=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const _ of e.hand.values()){const m=n.getJointPose(_,i),d=this._getHandJoint(c,_);m!==null&&(d.matrix.fromArray(m.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,d.jointRadius=m.radius),d.visible=m!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],h=u.position.distanceTo(f.position),p=.02,y=.005;c.inputState.pinching&&h>p+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=p-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(r=n.getPose(e.gripSpace,i),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(a=n.getPose(e.targetRaySpace,i),a===null&&r!==null&&(a=r),a!==null&&(s.matrix.fromArray(a.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,a.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(a.linearVelocity)):s.hasLinearVelocity=!1,a.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(a.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(e2)))}return s!==null&&(s.visible=a!==null),l!==null&&(l.visible=r!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new il;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}const t2=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,n2=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class i2{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,i){if(this.texture===null){const a=new ln,r=e.properties.get(a);r.__webglTexture=n.texture,(n.depthNear!=i.depthNear||n.depthFar!=i.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=a}}render(e,n){if(this.texture!==null){if(this.mesh===null){const i=n.cameras[0].viewport,a=new da({vertexShader:t2,fragmentShader:n2,uniforms:{depthColor:{value:this.texture},depthWidth:{value:i.z},depthHeight:{value:i.w}}});this.mesh=new si(new Ec(20,20),a)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class a2 extends to{constructor(e,n){super();const i=this;let a=null,r=1,o=null,s="local-floor",l=1,c=null,u=null,f=null,h=null,p=null,y=null;const _=new i2,m=n.getContextAttributes();let d=null,g=null;const v=[],M=[],w=new at;let T=null;const x=new In;x.layers.enable(1),x.viewport=new jt;const P=new In;P.layers.enable(2),P.viewport=new jt;const b=[x,P],S=new Qw;S.layers.enable(1),S.layers.enable(2);let N=null,W=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(j){let ie=v[j];return ie===void 0&&(ie=new zu,v[j]=ie),ie.getTargetRaySpace()},this.getControllerGrip=function(j){let ie=v[j];return ie===void 0&&(ie=new zu,v[j]=ie),ie.getGripSpace()},this.getHand=function(j){let ie=v[j];return ie===void 0&&(ie=new zu,v[j]=ie),ie.getHandSpace()};function D(j){const ie=M.indexOf(j.inputSource);if(ie===-1)return;const ge=v[ie];ge!==void 0&&(ge.update(j.inputSource,j.frame,c||o),ge.dispatchEvent({type:j.type,data:j.inputSource}))}function K(){a.removeEventListener("select",D),a.removeEventListener("selectstart",D),a.removeEventListener("selectend",D),a.removeEventListener("squeeze",D),a.removeEventListener("squeezestart",D),a.removeEventListener("squeezeend",D),a.removeEventListener("end",K),a.removeEventListener("inputsourceschange",J);for(let j=0;j<v.length;j++){const ie=M[j];ie!==null&&(M[j]=null,v[j].disconnect(ie))}N=null,W=null,_.reset(),e.setRenderTarget(d),p=null,h=null,f=null,a=null,g=null,Ke.stop(),i.isPresenting=!1,e.setPixelRatio(T),e.setSize(w.width,w.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(j){r=j,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(j){s=j,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(j){c=j},this.getBaseLayer=function(){return h!==null?h:p},this.getBinding=function(){return f},this.getFrame=function(){return y},this.getSession=function(){return a},this.setSession=async function(j){if(a=j,a!==null){if(d=e.getRenderTarget(),a.addEventListener("select",D),a.addEventListener("selectstart",D),a.addEventListener("selectend",D),a.addEventListener("squeeze",D),a.addEventListener("squeezestart",D),a.addEventListener("squeezeend",D),a.addEventListener("end",K),a.addEventListener("inputsourceschange",J),m.xrCompatible!==!0&&await n.makeXRCompatible(),T=e.getPixelRatio(),e.getSize(w),a.renderState.layers===void 0){const ie={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:r};p=new XRWebGLLayer(a,n,ie),a.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),g=new Xa(p.framebufferWidth,p.framebufferHeight,{format:oi,type:ua,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil})}else{let ie=null,ge=null,le=null;m.depth&&(le=m.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ie=m.stencil?is:Or,ge=m.stencil?ds:Jr);const Xe={colorFormat:n.RGBA8,depthFormat:le,scaleFactor:r};f=new XRWebGLBinding(a,n),h=f.createProjectionLayer(Xe),a.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),g=new Xa(h.textureWidth,h.textureHeight,{format:oi,type:ua,depthTexture:new hy(h.textureWidth,h.textureHeight,ge,void 0,void 0,void 0,void 0,void 0,void 0,ie),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1})}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await a.requestReferenceSpace(s),Ke.setContext(a),Ke.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode};function J(j){for(let ie=0;ie<j.removed.length;ie++){const ge=j.removed[ie],le=M.indexOf(ge);le>=0&&(M[le]=null,v[le].disconnect(ge))}for(let ie=0;ie<j.added.length;ie++){const ge=j.added[ie];let le=M.indexOf(ge);if(le===-1){for(let Je=0;Je<v.length;Je++)if(Je>=M.length){M.push(ge),le=Je;break}else if(M[Je]===null){M[Je]=ge,le=Je;break}if(le===-1)break}const Xe=v[le];Xe&&Xe.connect(ge)}}const se=new k,re=new k;function R(j,ie,ge){se.setFromMatrixPosition(ie.matrixWorld),re.setFromMatrixPosition(ge.matrixWorld);const le=se.distanceTo(re),Xe=ie.projectionMatrix.elements,Je=ge.projectionMatrix.elements,F=Xe[14]/(Xe[10]-1),ct=Xe[14]/(Xe[10]+1),Ae=(Xe[9]+1)/Xe[5],rt=(Xe[9]-1)/Xe[5],Ne=(Xe[8]-1)/Xe[0],Qe=(Je[8]+1)/Je[0],Fe=F*Ne,et=F*Qe,vt=le/(-Ne+Qe),C=vt*-Ne;ie.matrixWorld.decompose(j.position,j.quaternion,j.scale),j.translateX(C),j.translateZ(vt),j.matrixWorld.compose(j.position,j.quaternion,j.scale),j.matrixWorldInverse.copy(j.matrixWorld).invert();const E=F+vt,G=ct+vt,$=Fe-C,te=et+(le-C),ae=Ae*ct/G*E,Re=rt*ct/G*E;j.projectionMatrix.makePerspective($,te,ae,Re,E,G),j.projectionMatrixInverse.copy(j.projectionMatrix).invert()}function q(j,ie){ie===null?j.matrixWorld.copy(j.matrix):j.matrixWorld.multiplyMatrices(ie.matrixWorld,j.matrix),j.matrixWorldInverse.copy(j.matrixWorld).invert()}this.updateCamera=function(j){if(a===null)return;_.texture!==null&&(j.near=_.depthNear,j.far=_.depthFar),S.near=P.near=x.near=j.near,S.far=P.far=x.far=j.far,(N!==S.near||W!==S.far)&&(a.updateRenderState({depthNear:S.near,depthFar:S.far}),N=S.near,W=S.far,x.near=N,x.far=W,P.near=N,P.far=W,x.updateProjectionMatrix(),P.updateProjectionMatrix(),j.updateProjectionMatrix());const ie=j.parent,ge=S.cameras;q(S,ie);for(let le=0;le<ge.length;le++)q(ge[le],ie);ge.length===2?R(S,x,P):S.projectionMatrix.copy(x.projectionMatrix),X(j,S,ie)};function X(j,ie,ge){ge===null?j.matrix.copy(ie.matrixWorld):(j.matrix.copy(ge.matrixWorld),j.matrix.invert(),j.matrix.multiply(ie.matrixWorld)),j.matrix.decompose(j.position,j.quaternion,j.scale),j.updateMatrixWorld(!0),j.projectionMatrix.copy(ie.projectionMatrix),j.projectionMatrixInverse.copy(ie.projectionMatrixInverse),j.isPerspectiveCamera&&(j.fov=Gd*2*Math.atan(1/j.projectionMatrix.elements[5]),j.zoom=1)}this.getCamera=function(){return S},this.getFoveation=function(){if(!(h===null&&p===null))return l},this.setFoveation=function(j){l=j,h!==null&&(h.fixedFoveation=j),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=j)},this.hasDepthSensing=function(){return _.texture!==null};let ce=null;function Ee(j,ie){if(u=ie.getViewerPose(c||o),y=ie,u!==null){const ge=u.views;p!==null&&(e.setRenderTargetFramebuffer(g,p.framebuffer),e.setRenderTarget(g));let le=!1;ge.length!==S.cameras.length&&(S.cameras.length=0,le=!0);for(let Je=0;Je<ge.length;Je++){const F=ge[Je];let ct=null;if(p!==null)ct=p.getViewport(F);else{const rt=f.getViewSubImage(h,F);ct=rt.viewport,Je===0&&(e.setRenderTargetTextures(g,rt.colorTexture,h.ignoreDepthValues?void 0:rt.depthStencilTexture),e.setRenderTarget(g))}let Ae=b[Je];Ae===void 0&&(Ae=new In,Ae.layers.enable(Je),Ae.viewport=new jt,b[Je]=Ae),Ae.matrix.fromArray(F.transform.matrix),Ae.matrix.decompose(Ae.position,Ae.quaternion,Ae.scale),Ae.projectionMatrix.fromArray(F.projectionMatrix),Ae.projectionMatrixInverse.copy(Ae.projectionMatrix).invert(),Ae.viewport.set(ct.x,ct.y,ct.width,ct.height),Je===0&&(S.matrix.copy(Ae.matrix),S.matrix.decompose(S.position,S.quaternion,S.scale)),le===!0&&S.cameras.push(Ae)}const Xe=a.enabledFeatures;if(Xe&&Xe.includes("depth-sensing")){const Je=f.getDepthInformation(ge[0]);Je&&Je.isValid&&Je.texture&&_.init(e,Je,a.renderState)}}for(let ge=0;ge<v.length;ge++){const le=M[ge],Xe=v[ge];le!==null&&Xe!==void 0&&Xe.update(le,ie,c||o)}_.render(e,S),ce&&ce(j,ie),ie.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ie}),y=null}const Ke=new dy;Ke.setAnimationLoop(Ee),this.setAnimationLoop=function(j){ce=j},this.dispose=function(){}}}const ba=new ui,r2=new At;function o2(t,e){function n(m,d){m.matrixAutoUpdate===!0&&m.updateMatrix(),d.value.copy(m.matrix)}function i(m,d){d.color.getRGB(m.fogColor.value,ly(t)),d.isFog?(m.fogNear.value=d.near,m.fogFar.value=d.far):d.isFogExp2&&(m.fogDensity.value=d.density)}function a(m,d,g,v,M){d.isMeshBasicMaterial||d.isMeshLambertMaterial?r(m,d):d.isMeshToonMaterial?(r(m,d),f(m,d)):d.isMeshPhongMaterial?(r(m,d),u(m,d)):d.isMeshStandardMaterial?(r(m,d),h(m,d),d.isMeshPhysicalMaterial&&p(m,d,M)):d.isMeshMatcapMaterial?(r(m,d),y(m,d)):d.isMeshDepthMaterial?r(m,d):d.isMeshDistanceMaterial?(r(m,d),_(m,d)):d.isMeshNormalMaterial?r(m,d):d.isLineBasicMaterial?(o(m,d),d.isLineDashedMaterial&&s(m,d)):d.isPointsMaterial?l(m,d,g,v):d.isSpriteMaterial?c(m,d):d.isShadowMaterial?(m.color.value.copy(d.color),m.opacity.value=d.opacity):d.isShaderMaterial&&(d.uniformsNeedUpdate=!1)}function r(m,d){m.opacity.value=d.opacity,d.color&&m.diffuse.value.copy(d.color),d.emissive&&m.emissive.value.copy(d.emissive).multiplyScalar(d.emissiveIntensity),d.map&&(m.map.value=d.map,n(d.map,m.mapTransform)),d.alphaMap&&(m.alphaMap.value=d.alphaMap,n(d.alphaMap,m.alphaMapTransform)),d.bumpMap&&(m.bumpMap.value=d.bumpMap,n(d.bumpMap,m.bumpMapTransform),m.bumpScale.value=d.bumpScale,d.side===yn&&(m.bumpScale.value*=-1)),d.normalMap&&(m.normalMap.value=d.normalMap,n(d.normalMap,m.normalMapTransform),m.normalScale.value.copy(d.normalScale),d.side===yn&&m.normalScale.value.negate()),d.displacementMap&&(m.displacementMap.value=d.displacementMap,n(d.displacementMap,m.displacementMapTransform),m.displacementScale.value=d.displacementScale,m.displacementBias.value=d.displacementBias),d.emissiveMap&&(m.emissiveMap.value=d.emissiveMap,n(d.emissiveMap,m.emissiveMapTransform)),d.specularMap&&(m.specularMap.value=d.specularMap,n(d.specularMap,m.specularMapTransform)),d.alphaTest>0&&(m.alphaTest.value=d.alphaTest);const g=e.get(d),v=g.envMap,M=g.envMapRotation;if(v&&(m.envMap.value=v,ba.copy(M),ba.x*=-1,ba.y*=-1,ba.z*=-1,v.isCubeTexture&&v.isRenderTargetTexture===!1&&(ba.y*=-1,ba.z*=-1),m.envMapRotation.value.setFromMatrix4(r2.makeRotationFromEuler(ba)),m.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=d.reflectivity,m.ior.value=d.ior,m.refractionRatio.value=d.refractionRatio),d.lightMap){m.lightMap.value=d.lightMap;const w=t._useLegacyLights===!0?Math.PI:1;m.lightMapIntensity.value=d.lightMapIntensity*w,n(d.lightMap,m.lightMapTransform)}d.aoMap&&(m.aoMap.value=d.aoMap,m.aoMapIntensity.value=d.aoMapIntensity,n(d.aoMap,m.aoMapTransform))}function o(m,d){m.diffuse.value.copy(d.color),m.opacity.value=d.opacity,d.map&&(m.map.value=d.map,n(d.map,m.mapTransform))}function s(m,d){m.dashSize.value=d.dashSize,m.totalSize.value=d.dashSize+d.gapSize,m.scale.value=d.scale}function l(m,d,g,v){m.diffuse.value.copy(d.color),m.opacity.value=d.opacity,m.size.value=d.size*g,m.scale.value=v*.5,d.map&&(m.map.value=d.map,n(d.map,m.uvTransform)),d.alphaMap&&(m.alphaMap.value=d.alphaMap,n(d.alphaMap,m.alphaMapTransform)),d.alphaTest>0&&(m.alphaTest.value=d.alphaTest)}function c(m,d){m.diffuse.value.copy(d.color),m.opacity.value=d.opacity,m.rotation.value=d.rotation,d.map&&(m.map.value=d.map,n(d.map,m.mapTransform)),d.alphaMap&&(m.alphaMap.value=d.alphaMap,n(d.alphaMap,m.alphaMapTransform)),d.alphaTest>0&&(m.alphaTest.value=d.alphaTest)}function u(m,d){m.specular.value.copy(d.specular),m.shininess.value=Math.max(d.shininess,1e-4)}function f(m,d){d.gradientMap&&(m.gradientMap.value=d.gradientMap)}function h(m,d){m.metalness.value=d.metalness,d.metalnessMap&&(m.metalnessMap.value=d.metalnessMap,n(d.metalnessMap,m.metalnessMapTransform)),m.roughness.value=d.roughness,d.roughnessMap&&(m.roughnessMap.value=d.roughnessMap,n(d.roughnessMap,m.roughnessMapTransform)),d.envMap&&(m.envMapIntensity.value=d.envMapIntensity)}function p(m,d,g){m.ior.value=d.ior,d.sheen>0&&(m.sheenColor.value.copy(d.sheenColor).multiplyScalar(d.sheen),m.sheenRoughness.value=d.sheenRoughness,d.sheenColorMap&&(m.sheenColorMap.value=d.sheenColorMap,n(d.sheenColorMap,m.sheenColorMapTransform)),d.sheenRoughnessMap&&(m.sheenRoughnessMap.value=d.sheenRoughnessMap,n(d.sheenRoughnessMap,m.sheenRoughnessMapTransform))),d.clearcoat>0&&(m.clearcoat.value=d.clearcoat,m.clearcoatRoughness.value=d.clearcoatRoughness,d.clearcoatMap&&(m.clearcoatMap.value=d.clearcoatMap,n(d.clearcoatMap,m.clearcoatMapTransform)),d.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=d.clearcoatRoughnessMap,n(d.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),d.clearcoatNormalMap&&(m.clearcoatNormalMap.value=d.clearcoatNormalMap,n(d.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(d.clearcoatNormalScale),d.side===yn&&m.clearcoatNormalScale.value.negate())),d.dispersion>0&&(m.dispersion.value=d.dispersion),d.iridescence>0&&(m.iridescence.value=d.iridescence,m.iridescenceIOR.value=d.iridescenceIOR,m.iridescenceThicknessMinimum.value=d.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=d.iridescenceThicknessRange[1],d.iridescenceMap&&(m.iridescenceMap.value=d.iridescenceMap,n(d.iridescenceMap,m.iridescenceMapTransform)),d.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=d.iridescenceThicknessMap,n(d.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),d.transmission>0&&(m.transmission.value=d.transmission,m.transmissionSamplerMap.value=g.texture,m.transmissionSamplerSize.value.set(g.width,g.height),d.transmissionMap&&(m.transmissionMap.value=d.transmissionMap,n(d.transmissionMap,m.transmissionMapTransform)),m.thickness.value=d.thickness,d.thicknessMap&&(m.thicknessMap.value=d.thicknessMap,n(d.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=d.attenuationDistance,m.attenuationColor.value.copy(d.attenuationColor)),d.anisotropy>0&&(m.anisotropyVector.value.set(d.anisotropy*Math.cos(d.anisotropyRotation),d.anisotropy*Math.sin(d.anisotropyRotation)),d.anisotropyMap&&(m.anisotropyMap.value=d.anisotropyMap,n(d.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=d.specularIntensity,m.specularColor.value.copy(d.specularColor),d.specularColorMap&&(m.specularColorMap.value=d.specularColorMap,n(d.specularColorMap,m.specularColorMapTransform)),d.specularIntensityMap&&(m.specularIntensityMap.value=d.specularIntensityMap,n(d.specularIntensityMap,m.specularIntensityMapTransform))}function y(m,d){d.matcap&&(m.matcap.value=d.matcap)}function _(m,d){const g=e.get(d).light;m.referencePosition.value.setFromMatrixPosition(g.matrixWorld),m.nearDistance.value=g.shadow.camera.near,m.farDistance.value=g.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:a}}function s2(t,e,n,i){let a={},r={},o=[];const s=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(g,v){const M=v.program;i.uniformBlockBinding(g,M)}function c(g,v){let M=a[g.id];M===void 0&&(y(g),M=u(g),a[g.id]=M,g.addEventListener("dispose",m));const w=v.program;i.updateUBOMapping(g,w);const T=e.render.frame;r[g.id]!==T&&(h(g),r[g.id]=T)}function u(g){const v=f();g.__bindingPointIndex=v;const M=t.createBuffer(),w=g.__size,T=g.usage;return t.bindBuffer(t.UNIFORM_BUFFER,M),t.bufferData(t.UNIFORM_BUFFER,w,T),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,v,M),M}function f(){for(let g=0;g<s;g++)if(o.indexOf(g)===-1)return o.push(g),g;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(g){const v=a[g.id],M=g.uniforms,w=g.__cache;t.bindBuffer(t.UNIFORM_BUFFER,v);for(let T=0,x=M.length;T<x;T++){const P=Array.isArray(M[T])?M[T]:[M[T]];for(let b=0,S=P.length;b<S;b++){const N=P[b];if(p(N,T,b,w)===!0){const W=N.__offset,D=Array.isArray(N.value)?N.value:[N.value];let K=0;for(let J=0;J<D.length;J++){const se=D[J],re=_(se);typeof se=="number"||typeof se=="boolean"?(N.__data[0]=se,t.bufferSubData(t.UNIFORM_BUFFER,W+K,N.__data)):se.isMatrix3?(N.__data[0]=se.elements[0],N.__data[1]=se.elements[1],N.__data[2]=se.elements[2],N.__data[3]=0,N.__data[4]=se.elements[3],N.__data[5]=se.elements[4],N.__data[6]=se.elements[5],N.__data[7]=0,N.__data[8]=se.elements[6],N.__data[9]=se.elements[7],N.__data[10]=se.elements[8],N.__data[11]=0):(se.toArray(N.__data,K),K+=re.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,W,N.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(g,v,M,w){const T=g.value,x=v+"_"+M;if(w[x]===void 0)return typeof T=="number"||typeof T=="boolean"?w[x]=T:w[x]=T.clone(),!0;{const P=w[x];if(typeof T=="number"||typeof T=="boolean"){if(P!==T)return w[x]=T,!0}else if(P.equals(T)===!1)return P.copy(T),!0}return!1}function y(g){const v=g.uniforms;let M=0;const w=16;for(let x=0,P=v.length;x<P;x++){const b=Array.isArray(v[x])?v[x]:[v[x]];for(let S=0,N=b.length;S<N;S++){const W=b[S],D=Array.isArray(W.value)?W.value:[W.value];for(let K=0,J=D.length;K<J;K++){const se=D[K],re=_(se),R=M%w;R!==0&&w-R<re.boundary&&(M+=w-R),W.__data=new Float32Array(re.storage/Float32Array.BYTES_PER_ELEMENT),W.__offset=M,M+=re.storage}}}const T=M%w;return T>0&&(M+=w-T),g.__size=M,g.__cache={},this}function _(g){const v={boundary:0,storage:0};return typeof g=="number"||typeof g=="boolean"?(v.boundary=4,v.storage=4):g.isVector2?(v.boundary=8,v.storage=8):g.isVector3||g.isColor?(v.boundary=16,v.storage=12):g.isVector4?(v.boundary=16,v.storage=16):g.isMatrix3?(v.boundary=48,v.storage=48):g.isMatrix4?(v.boundary=64,v.storage=64):g.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",g),v}function m(g){const v=g.target;v.removeEventListener("dispose",m);const M=o.indexOf(v.__bindingPointIndex);o.splice(M,1),t.deleteBuffer(a[v.id]),delete a[v.id],delete r[v.id]}function d(){for(const g in a)t.deleteBuffer(a[g]);o=[],a={},r={}}return{bind:l,update:c,dispose:d}}class l2{constructor(e={}){const{canvas:n=eE(),context:i=null,depth:a=!0,stencil:r=!1,alpha:o=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let h;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=i.getContextAttributes().alpha}else h=o;const p=new Uint32Array(4),y=new Int32Array(4);let _=null,m=null;const d=[],g=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=ni,this._useLegacyLights=!1,this.toneMapping=oa,this.toneMappingExposure=1;const v=this;let M=!1,w=0,T=0,x=null,P=-1,b=null;const S=new jt,N=new jt;let W=null;const D=new nt(0);let K=0,J=n.width,se=n.height,re=1,R=null,q=null;const X=new jt(0,0,J,se),ce=new jt(0,0,J,se);let Ee=!1;const Ke=new eh;let j=!1,ie=!1;const ge=new At,le=new k,Xe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Je(){return x===null?re:1}let F=i;function ct(A,U){return n.getContext(A,U)}try{const A={alpha:!0,depth:a,stencil:r,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Yf}`),n.addEventListener("webglcontextlost",I,!1),n.addEventListener("webglcontextrestored",Q,!1),n.addEventListener("webglcontextcreationerror",Y,!1),F===null){const U="webgl2";if(F=ct(U,A),F===null)throw ct(U)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(A){throw console.error("THREE.WebGLRenderer: "+A.message),A}let Ae,rt,Ne,Qe,Fe,et,vt,C,E,G,$,te,ae,Re,he,pe,He,ue,Le,Ve,Ie,xe,je,Ye;function yt(){Ae=new gT(F),Ae.init(),xe=new Zw(F,Ae),rt=new uT(F,Ae,e,xe),Ne=new Yw(F),Qe=new _T(F),Fe=new zw,et=new $w(F,Ae,Ne,Fe,rt,xe,Qe),vt=new fT(v),C=new mT(v),E=new TE(F),je=new lT(F,E),G=new vT(F,E,Qe,je),$=new ST(F,G,E,Qe),Le=new xT(F,rt,et),pe=new dT(Fe),te=new Uw(v,vt,C,Ae,rt,je,pe),ae=new o2(v,Fe),Re=new Ow,he=new Gw(Ae),ue=new sT(v,vt,C,Ne,$,h,l),He=new Jw(v,$,rt),Ye=new s2(F,Qe,rt,Ne),Ve=new cT(F,Ae,Qe),Ie=new yT(F,Ae,Qe),Qe.programs=te.programs,v.capabilities=rt,v.extensions=Ae,v.properties=Fe,v.renderLists=Re,v.shadowMap=He,v.state=Ne,v.info=Qe}yt();const ke=new a2(v,F);this.xr=ke,this.getContext=function(){return F},this.getContextAttributes=function(){return F.getContextAttributes()},this.forceContextLoss=function(){const A=Ae.get("WEBGL_lose_context");A&&A.loseContext()},this.forceContextRestore=function(){const A=Ae.get("WEBGL_lose_context");A&&A.restoreContext()},this.getPixelRatio=function(){return re},this.setPixelRatio=function(A){A!==void 0&&(re=A,this.setSize(J,se,!1))},this.getSize=function(A){return A.set(J,se)},this.setSize=function(A,U,V=!0){if(ke.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}J=A,se=U,n.width=Math.floor(A*re),n.height=Math.floor(U*re),V===!0&&(n.style.width=A+"px",n.style.height=U+"px"),this.setViewport(0,0,A,U)},this.getDrawingBufferSize=function(A){return A.set(J*re,se*re).floor()},this.setDrawingBufferSize=function(A,U,V){J=A,se=U,re=V,n.width=Math.floor(A*V),n.height=Math.floor(U*V),this.setViewport(0,0,A,U)},this.getCurrentViewport=function(A){return A.copy(S)},this.getViewport=function(A){return A.copy(X)},this.setViewport=function(A,U,V,B){A.isVector4?X.set(A.x,A.y,A.z,A.w):X.set(A,U,V,B),Ne.viewport(S.copy(X).multiplyScalar(re).round())},this.getScissor=function(A){return A.copy(ce)},this.setScissor=function(A,U,V,B){A.isVector4?ce.set(A.x,A.y,A.z,A.w):ce.set(A,U,V,B),Ne.scissor(N.copy(ce).multiplyScalar(re).round())},this.getScissorTest=function(){return Ee},this.setScissorTest=function(A){Ne.setScissorTest(Ee=A)},this.setOpaqueSort=function(A){R=A},this.setTransparentSort=function(A){q=A},this.getClearColor=function(A){return A.copy(ue.getClearColor())},this.setClearColor=function(){ue.setClearColor.apply(ue,arguments)},this.getClearAlpha=function(){return ue.getClearAlpha()},this.setClearAlpha=function(){ue.setClearAlpha.apply(ue,arguments)},this.clear=function(A=!0,U=!0,V=!0){let B=0;if(A){let O=!1;if(x!==null){const me=x.texture.format;O=me===$0||me===Y0||me===J0}if(O){const me=x.texture.type,be=me===ua||me===Jr||me===W0||me===ds||me===X0||me===K0,Te=ue.getClearColor(),de=ue.getClearAlpha(),we=Te.r,De=Te.g,Ce=Te.b;be?(p[0]=we,p[1]=De,p[2]=Ce,p[3]=de,F.clearBufferuiv(F.COLOR,0,p)):(y[0]=we,y[1]=De,y[2]=Ce,y[3]=de,F.clearBufferiv(F.COLOR,0,y))}else B|=F.COLOR_BUFFER_BIT}U&&(B|=F.DEPTH_BUFFER_BIT),V&&(B|=F.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),F.clear(B)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",I,!1),n.removeEventListener("webglcontextrestored",Q,!1),n.removeEventListener("webglcontextcreationerror",Y,!1),Re.dispose(),he.dispose(),Fe.dispose(),vt.dispose(),C.dispose(),$.dispose(),je.dispose(),Ye.dispose(),te.dispose(),ke.dispose(),ke.removeEventListener("sessionstart",H),ke.removeEventListener("sessionend",ne),fe.stop()};function I(A){A.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function Q(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const A=Qe.autoReset,U=He.enabled,V=He.autoUpdate,B=He.needsUpdate,O=He.type;yt(),Qe.autoReset=A,He.enabled=U,He.autoUpdate=V,He.needsUpdate=B,He.type=O}function Y(A){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",A.statusMessage)}function ve(A){const U=A.target;U.removeEventListener("dispose",ve),_e(U)}function _e(A){tt(A),Fe.remove(A)}function tt(A){const U=Fe.get(A).programs;U!==void 0&&(U.forEach(function(V){te.releaseProgram(V)}),A.isShaderMaterial&&te.releaseShaderCache(A))}this.renderBufferDirect=function(A,U,V,B,O,me){U===null&&(U=Xe);const be=O.isMesh&&O.matrixWorld.determinant()<0,Te=dt(A,U,V,B,O);Ne.setMaterial(B,be);let de=V.index,we=1;if(B.wireframe===!0){if(de=G.getWireframeAttribute(V),de===void 0)return;we=2}const De=V.drawRange,Ce=V.attributes.position;let ft=De.start*we,zt=(De.start+De.count)*we;me!==null&&(ft=Math.max(ft,me.start*we),zt=Math.min(zt,(me.start+me.count)*we)),de!==null?(ft=Math.max(ft,0),zt=Math.min(zt,de.count)):Ce!=null&&(ft=Math.max(ft,0),zt=Math.min(zt,Ce.count));const an=zt-ft;if(an<0||an===1/0)return;je.setup(O,B,Te,V,de);let di,ot=Ve;if(de!==null&&(di=E.get(de),ot=Ie,ot.setIndex(di)),O.isMesh)B.wireframe===!0?(Ne.setLineWidth(B.wireframeLinewidth*Je()),ot.setMode(F.LINES)):ot.setMode(F.TRIANGLES);else if(O.isLine){let Ge=B.linewidth;Ge===void 0&&(Ge=1),Ne.setLineWidth(Ge*Je()),O.isLineSegments?ot.setMode(F.LINES):O.isLineLoop?ot.setMode(F.LINE_LOOP):ot.setMode(F.LINE_STRIP)}else O.isPoints?ot.setMode(F.POINTS):O.isSprite&&ot.setMode(F.TRIANGLES);if(O.isBatchedMesh)O._multiDrawInstances!==null?ot.renderMultiDrawInstances(O._multiDrawStarts,O._multiDrawCounts,O._multiDrawCount,O._multiDrawInstances):ot.renderMultiDraw(O._multiDrawStarts,O._multiDrawCounts,O._multiDrawCount);else if(O.isInstancedMesh)ot.renderInstances(ft,an,O.count);else if(V.isInstancedBufferGeometry){const Ge=V._maxInstanceCount!==void 0?V._maxInstanceCount:1/0,io=Math.min(V.instanceCount,Ge);ot.renderInstances(ft,an,io)}else ot.render(ft,an)};function ut(A,U,V){A.transparent===!0&&A.side===xi&&A.forceSinglePass===!1?(A.side=yn,A.needsUpdate=!0,wt(A,U,V),A.side=ca,A.needsUpdate=!0,wt(A,U,V),A.side=xi):wt(A,U,V)}this.compile=function(A,U,V=null){V===null&&(V=A),m=he.get(V),m.init(U),g.push(m),V.traverseVisible(function(O){O.isLight&&O.layers.test(U.layers)&&(m.pushLight(O),O.castShadow&&m.pushShadow(O))}),A!==V&&A.traverseVisible(function(O){O.isLight&&O.layers.test(U.layers)&&(m.pushLight(O),O.castShadow&&m.pushShadow(O))}),m.setupLights(v._useLegacyLights);const B=new Set;return A.traverse(function(O){const me=O.material;if(me)if(Array.isArray(me))for(let be=0;be<me.length;be++){const Te=me[be];ut(Te,V,O),B.add(Te)}else ut(me,V,O),B.add(me)}),g.pop(),m=null,B},this.compileAsync=function(A,U,V=null){const B=this.compile(A,U,V);return new Promise(O=>{function me(){if(B.forEach(function(be){Fe.get(be).currentProgram.isReady()&&B.delete(be)}),B.size===0){O(A);return}setTimeout(me,10)}Ae.get("KHR_parallel_shader_compile")!==null?me():setTimeout(me,10)})};let L=null;function z(A){L&&L(A)}function H(){fe.stop()}function ne(){fe.start()}const fe=new dy;fe.setAnimationLoop(z),typeof self<"u"&&fe.setContext(self),this.setAnimationLoop=function(A){L=A,ke.setAnimationLoop(A),A===null?fe.stop():fe.start()},ke.addEventListener("sessionstart",H),ke.addEventListener("sessionend",ne),this.render=function(A,U){if(U!==void 0&&U.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;A.matrixWorldAutoUpdate===!0&&A.updateMatrixWorld(),U.parent===null&&U.matrixWorldAutoUpdate===!0&&U.updateMatrixWorld(),ke.enabled===!0&&ke.isPresenting===!0&&(ke.cameraAutoUpdate===!0&&ke.updateCamera(U),U=ke.getCamera()),A.isScene===!0&&A.onBeforeRender(v,A,U,x),m=he.get(A,g.length),m.init(U),g.push(m),ge.multiplyMatrices(U.projectionMatrix,U.matrixWorldInverse),Ke.setFromProjectionMatrix(ge),ie=this.localClippingEnabled,j=pe.init(this.clippingPlanes,ie),_=Re.get(A,d.length),_.init(),d.push(_),Be(A,U,0,v.sortObjects),_.finish(),v.sortObjects===!0&&_.sort(R,q);const V=ke.enabled===!1||ke.isPresenting===!1||ke.hasDepthSensing()===!1;V&&ue.addToRenderList(_,A),this.info.render.frame++,j===!0&&pe.beginShadows();const B=m.state.shadowsArray;He.render(B,A,U),j===!0&&pe.endShadows(),this.info.autoReset===!0&&this.info.reset();const O=_.opaque,me=_.transmissive;if(m.setupLights(v._useLegacyLights),U.isArrayCamera){const be=U.cameras;if(me.length>0)for(let Te=0,de=be.length;Te<de;Te++){const we=be[Te];Se(O,me,A,we)}V&&ue.render(A);for(let Te=0,de=be.length;Te<de;Te++){const we=be[Te];Pe(_,A,we,we.viewport)}}else me.length>0&&Se(O,me,A,U),V&&ue.render(A),Pe(_,A,U);x!==null&&(et.updateMultisampleRenderTarget(x),et.updateRenderTargetMipmap(x)),A.isScene===!0&&A.onAfterRender(v,A,U),je.resetDefaultState(),P=-1,b=null,g.pop(),g.length>0?(m=g[g.length-1],j===!0&&pe.setGlobalState(v.clippingPlanes,m.state.camera)):m=null,d.pop(),d.length>0?_=d[d.length-1]:_=null};function Be(A,U,V,B){if(A.visible===!1)return;if(A.layers.test(U.layers)){if(A.isGroup)V=A.renderOrder;else if(A.isLOD)A.autoUpdate===!0&&A.update(U);else if(A.isLight)m.pushLight(A),A.castShadow&&m.pushShadow(A);else if(A.isSprite){if(!A.frustumCulled||Ke.intersectsSprite(A)){B&&le.setFromMatrixPosition(A.matrixWorld).applyMatrix4(ge);const be=$.update(A),Te=A.material;Te.visible&&_.push(A,be,Te,V,le.z,null)}}else if((A.isMesh||A.isLine||A.isPoints)&&(!A.frustumCulled||Ke.intersectsObject(A))){const be=$.update(A),Te=A.material;if(B&&(A.boundingSphere!==void 0?(A.boundingSphere===null&&A.computeBoundingSphere(),le.copy(A.boundingSphere.center)):(be.boundingSphere===null&&be.computeBoundingSphere(),le.copy(be.boundingSphere.center)),le.applyMatrix4(A.matrixWorld).applyMatrix4(ge)),Array.isArray(Te)){const de=be.groups;for(let we=0,De=de.length;we<De;we++){const Ce=de[we],ft=Te[Ce.materialIndex];ft&&ft.visible&&_.push(A,be,ft,V,le.z,Ce)}}else Te.visible&&_.push(A,be,Te,V,le.z,null)}}const me=A.children;for(let be=0,Te=me.length;be<Te;be++)Be(me[be],U,V,B)}function Pe(A,U,V,B){const O=A.opaque,me=A.transmissive,be=A.transparent;m.setupLightsView(V),j===!0&&pe.setGlobalState(v.clippingPlanes,V),B&&Ne.viewport(S.copy(B)),O.length>0&&Oe(O,U,V),me.length>0&&Oe(me,U,V),be.length>0&&Oe(be,U,V),Ne.buffers.depth.setTest(!0),Ne.buffers.depth.setMask(!0),Ne.buffers.color.setMask(!0),Ne.setPolygonOffset(!1)}function Se(A,U,V,B){if((V.isScene===!0?V.overrideMaterial:null)!==null)return;m.state.transmissionRenderTarget[B.id]===void 0&&(m.state.transmissionRenderTarget[B.id]=new Xa(1,1,{generateMipmaps:!0,type:Ae.has("EXT_color_buffer_half_float")||Ae.has("EXT_color_buffer_float")?Sc:ua,minFilter:Fa,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1}));const me=m.state.transmissionRenderTarget[B.id],be=B.viewport||S;me.setSize(be.z,be.w);const Te=v.getRenderTarget();v.setRenderTarget(me),v.getClearColor(D),K=v.getClearAlpha(),K<1&&v.setClearColor(16777215,.5),v.clear();const de=v.toneMapping;v.toneMapping=oa;const we=B.viewport;if(B.viewport!==void 0&&(B.viewport=void 0),m.setupLightsView(B),j===!0&&pe.setGlobalState(v.clippingPlanes,B),Oe(A,V,B),et.updateMultisampleRenderTarget(me),et.updateRenderTargetMipmap(me),Ae.has("WEBGL_multisampled_render_to_texture")===!1){let De=!1;for(let Ce=0,ft=U.length;Ce<ft;Ce++){const zt=U[Ce],an=zt.object,di=zt.geometry,ot=zt.material,Ge=zt.group;if(ot.side===xi&&an.layers.test(B.layers)){const io=ot.side;ot.side=yn,ot.needsUpdate=!0,ze(an,V,B,di,ot,Ge),ot.side=io,ot.needsUpdate=!0,De=!0}}De===!0&&(et.updateMultisampleRenderTarget(me),et.updateRenderTargetMipmap(me))}v.setRenderTarget(Te),v.setClearColor(D,K),we!==void 0&&(B.viewport=we),v.toneMapping=de}function Oe(A,U,V){const B=U.isScene===!0?U.overrideMaterial:null;for(let O=0,me=A.length;O<me;O++){const be=A[O],Te=be.object,de=be.geometry,we=B===null?be.material:B,De=be.group;Te.layers.test(V.layers)&&ze(Te,U,V,de,we,De)}}function ze(A,U,V,B,O,me){A.onBeforeRender(v,U,V,B,O,me),A.modelViewMatrix.multiplyMatrices(V.matrixWorldInverse,A.matrixWorld),A.normalMatrix.getNormalMatrix(A.modelViewMatrix),O.onBeforeRender(v,U,V,B,A,me),O.transparent===!0&&O.side===xi&&O.forceSinglePass===!1?(O.side=yn,O.needsUpdate=!0,v.renderBufferDirect(V,U,B,O,A,me),O.side=ca,O.needsUpdate=!0,v.renderBufferDirect(V,U,B,O,A,me),O.side=xi):v.renderBufferDirect(V,U,B,O,A,me),A.onAfterRender(v,U,V,B,O,me)}function wt(A,U,V){U.isScene!==!0&&(U=Xe);const B=Fe.get(A),O=m.state.lights,me=m.state.shadowsArray,be=O.state.version,Te=te.getParameters(A,O.state,me,U,V),de=te.getProgramCacheKey(Te);let we=B.programs;B.environment=A.isMeshStandardMaterial?U.environment:null,B.fog=U.fog,B.envMap=(A.isMeshStandardMaterial?C:vt).get(A.envMap||B.environment),B.envMapRotation=B.environment!==null&&A.envMap===null?U.environmentRotation:A.envMapRotation,we===void 0&&(A.addEventListener("dispose",ve),we=new Map,B.programs=we);let De=we.get(de);if(De!==void 0){if(B.currentProgram===De&&B.lightsStateVersion===be)return Ue(A,Te),De}else Te.uniforms=te.getUniforms(A),A.onBuild(V,Te,v),A.onBeforeCompile(Te,v),De=te.acquireProgram(Te,de),we.set(de,De),B.uniforms=Te.uniforms;const Ce=B.uniforms;return(!A.isShaderMaterial&&!A.isRawShaderMaterial||A.clipping===!0)&&(Ce.clippingPlanes=pe.uniform),Ue(A,Te),B.needsLights=ga(A),B.lightsStateVersion=be,B.needsLights&&(Ce.ambientLightColor.value=O.state.ambient,Ce.lightProbe.value=O.state.probe,Ce.directionalLights.value=O.state.directional,Ce.directionalLightShadows.value=O.state.directionalShadow,Ce.spotLights.value=O.state.spot,Ce.spotLightShadows.value=O.state.spotShadow,Ce.rectAreaLights.value=O.state.rectArea,Ce.ltc_1.value=O.state.rectAreaLTC1,Ce.ltc_2.value=O.state.rectAreaLTC2,Ce.pointLights.value=O.state.point,Ce.pointLightShadows.value=O.state.pointShadow,Ce.hemisphereLights.value=O.state.hemi,Ce.directionalShadowMap.value=O.state.directionalShadowMap,Ce.directionalShadowMatrix.value=O.state.directionalShadowMatrix,Ce.spotShadowMap.value=O.state.spotShadowMap,Ce.spotLightMatrix.value=O.state.spotLightMatrix,Ce.spotLightMap.value=O.state.spotLightMap,Ce.pointShadowMap.value=O.state.pointShadowMap,Ce.pointShadowMatrix.value=O.state.pointShadowMatrix),B.currentProgram=De,B.uniformsList=null,De}function Lt(A){if(A.uniformsList===null){const U=A.currentProgram.getUniforms();A.uniformsList=xl.seqWithValue(U.seq,A.uniforms)}return A.uniformsList}function Ue(A,U){const V=Fe.get(A);V.outputColorSpace=U.outputColorSpace,V.batching=U.batching,V.instancing=U.instancing,V.instancingColor=U.instancingColor,V.instancingMorph=U.instancingMorph,V.skinning=U.skinning,V.morphTargets=U.morphTargets,V.morphNormals=U.morphNormals,V.morphColors=U.morphColors,V.morphTargetsCount=U.morphTargetsCount,V.numClippingPlanes=U.numClippingPlanes,V.numIntersection=U.numClipIntersection,V.vertexAlphas=U.vertexAlphas,V.vertexTangents=U.vertexTangents,V.toneMapping=U.toneMapping}function dt(A,U,V,B,O){U.isScene!==!0&&(U=Xe),et.resetTextureUnits();const me=U.fog,be=B.isMeshStandardMaterial?U.environment:null,Te=x===null?v.outputColorSpace:x.isXRRenderTarget===!0?x.texture.colorSpace:ma,de=(B.isMeshStandardMaterial?C:vt).get(B.envMap||be),we=B.vertexColors===!0&&!!V.attributes.color&&V.attributes.color.itemSize===4,De=!!V.attributes.tangent&&(!!B.normalMap||B.anisotropy>0),Ce=!!V.morphAttributes.position,ft=!!V.morphAttributes.normal,zt=!!V.morphAttributes.color;let an=oa;B.toneMapped&&(x===null||x.isXRRenderTarget===!0)&&(an=v.toneMapping);const di=V.morphAttributes.position||V.morphAttributes.normal||V.morphAttributes.color,ot=di!==void 0?di.length:0,Ge=Fe.get(B),io=m.state.lights;if(j===!0&&(ie===!0||A!==b)){const wn=A===b&&B.id===P;pe.setState(B,A,wn)}let _t=!1;B.version===Ge.__version?(Ge.needsLights&&Ge.lightsStateVersion!==io.state.version||Ge.outputColorSpace!==Te||O.isBatchedMesh&&Ge.batching===!1||!O.isBatchedMesh&&Ge.batching===!0||O.isInstancedMesh&&Ge.instancing===!1||!O.isInstancedMesh&&Ge.instancing===!0||O.isSkinnedMesh&&Ge.skinning===!1||!O.isSkinnedMesh&&Ge.skinning===!0||O.isInstancedMesh&&Ge.instancingColor===!0&&O.instanceColor===null||O.isInstancedMesh&&Ge.instancingColor===!1&&O.instanceColor!==null||O.isInstancedMesh&&Ge.instancingMorph===!0&&O.morphTexture===null||O.isInstancedMesh&&Ge.instancingMorph===!1&&O.morphTexture!==null||Ge.envMap!==de||B.fog===!0&&Ge.fog!==me||Ge.numClippingPlanes!==void 0&&(Ge.numClippingPlanes!==pe.numPlanes||Ge.numIntersection!==pe.numIntersection)||Ge.vertexAlphas!==we||Ge.vertexTangents!==De||Ge.morphTargets!==Ce||Ge.morphNormals!==ft||Ge.morphColors!==zt||Ge.toneMapping!==an||Ge.morphTargetsCount!==ot)&&(_t=!0):(_t=!0,Ge.__version=B.version);let va=Ge.currentProgram;_t===!0&&(va=wt(B,U,O));let ah=!1,ao=!1,Ac=!1;const Jt=va.getUniforms(),Ni=Ge.uniforms;if(Ne.useProgram(va.program)&&(ah=!0,ao=!0,Ac=!0),B.id!==P&&(P=B.id,ao=!0),ah||b!==A){Jt.setValue(F,"projectionMatrix",A.projectionMatrix),Jt.setValue(F,"viewMatrix",A.matrixWorldInverse);const wn=Jt.map.cameraPosition;wn!==void 0&&wn.setValue(F,le.setFromMatrixPosition(A.matrixWorld)),rt.logarithmicDepthBuffer&&Jt.setValue(F,"logDepthBufFC",2/(Math.log(A.far+1)/Math.LN2)),(B.isMeshPhongMaterial||B.isMeshToonMaterial||B.isMeshLambertMaterial||B.isMeshBasicMaterial||B.isMeshStandardMaterial||B.isShaderMaterial)&&Jt.setValue(F,"isOrthographic",A.isOrthographicCamera===!0),b!==A&&(b=A,ao=!0,Ac=!0)}if(O.isSkinnedMesh){Jt.setOptional(F,O,"bindMatrix"),Jt.setOptional(F,O,"bindMatrixInverse");const wn=O.skeleton;wn&&(wn.boneTexture===null&&wn.computeBoneTexture(),Jt.setValue(F,"boneTexture",wn.boneTexture,et))}O.isBatchedMesh&&(Jt.setOptional(F,O,"batchingTexture"),Jt.setValue(F,"batchingTexture",O._matricesTexture,et));const Tc=V.morphAttributes;if((Tc.position!==void 0||Tc.normal!==void 0||Tc.color!==void 0)&&Le.update(O,V,va),(ao||Ge.receiveShadow!==O.receiveShadow)&&(Ge.receiveShadow=O.receiveShadow,Jt.setValue(F,"receiveShadow",O.receiveShadow)),B.isMeshGouraudMaterial&&B.envMap!==null&&(Ni.envMap.value=de,Ni.flipEnvMap.value=de.isCubeTexture&&de.isRenderTargetTexture===!1?-1:1),B.isMeshStandardMaterial&&B.envMap===null&&U.environment!==null&&(Ni.envMapIntensity.value=U.environmentIntensity),ao&&(Jt.setValue(F,"toneMappingExposure",v.toneMappingExposure),Ge.needsLights&&Dt(Ni,Ac),me&&B.fog===!0&&ae.refreshFogUniforms(Ni,me),ae.refreshMaterialUniforms(Ni,B,re,se,m.state.transmissionRenderTarget[A.id]),xl.upload(F,Lt(Ge),Ni,et)),B.isShaderMaterial&&B.uniformsNeedUpdate===!0&&(xl.upload(F,Lt(Ge),Ni,et),B.uniformsNeedUpdate=!1),B.isSpriteMaterial&&Jt.setValue(F,"center",O.center),Jt.setValue(F,"modelViewMatrix",O.modelViewMatrix),Jt.setValue(F,"normalMatrix",O.normalMatrix),Jt.setValue(F,"modelMatrix",O.matrixWorld),B.isShaderMaterial||B.isRawShaderMaterial){const wn=B.uniformsGroups;for(let wc=0,Ey=wn.length;wc<Ey;wc++){const rh=wn[wc];Ye.update(rh,va),Ye.bind(rh,va)}}return va}function Dt(A,U){A.ambientLightColor.needsUpdate=U,A.lightProbe.needsUpdate=U,A.directionalLights.needsUpdate=U,A.directionalLightShadows.needsUpdate=U,A.pointLights.needsUpdate=U,A.pointLightShadows.needsUpdate=U,A.spotLights.needsUpdate=U,A.spotLightShadows.needsUpdate=U,A.rectAreaLights.needsUpdate=U,A.hemisphereLights.needsUpdate=U}function ga(A){return A.isMeshLambertMaterial||A.isMeshToonMaterial||A.isMeshPhongMaterial||A.isMeshStandardMaterial||A.isShadowMaterial||A.isShaderMaterial&&A.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(A,U,V){Fe.get(A.texture).__webglTexture=U,Fe.get(A.depthTexture).__webglTexture=V;const B=Fe.get(A);B.__hasExternalTextures=!0,B.__autoAllocateDepthBuffer=V===void 0,B.__autoAllocateDepthBuffer||Ae.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),B.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(A,U){const V=Fe.get(A);V.__webglFramebuffer=U,V.__useDefaultFramebuffer=U===void 0},this.setRenderTarget=function(A,U=0,V=0){x=A,w=U,T=V;let B=!0,O=null,me=!1,be=!1;if(A){const de=Fe.get(A);de.__useDefaultFramebuffer!==void 0?(Ne.bindFramebuffer(F.FRAMEBUFFER,null),B=!1):de.__webglFramebuffer===void 0?et.setupRenderTarget(A):de.__hasExternalTextures&&et.rebindTextures(A,Fe.get(A.texture).__webglTexture,Fe.get(A.depthTexture).__webglTexture);const we=A.texture;(we.isData3DTexture||we.isDataArrayTexture||we.isCompressedArrayTexture)&&(be=!0);const De=Fe.get(A).__webglFramebuffer;A.isWebGLCubeRenderTarget?(Array.isArray(De[U])?O=De[U][V]:O=De[U],me=!0):A.samples>0&&et.useMultisampledRTT(A)===!1?O=Fe.get(A).__webglMultisampledFramebuffer:Array.isArray(De)?O=De[V]:O=De,S.copy(A.viewport),N.copy(A.scissor),W=A.scissorTest}else S.copy(X).multiplyScalar(re).floor(),N.copy(ce).multiplyScalar(re).floor(),W=Ee;if(Ne.bindFramebuffer(F.FRAMEBUFFER,O)&&B&&Ne.drawBuffers(A,O),Ne.viewport(S),Ne.scissor(N),Ne.setScissorTest(W),me){const de=Fe.get(A.texture);F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_CUBE_MAP_POSITIVE_X+U,de.__webglTexture,V)}else if(be){const de=Fe.get(A.texture),we=U||0;F.framebufferTextureLayer(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,de.__webglTexture,V||0,we)}P=-1},this.readRenderTargetPixels=function(A,U,V,B,O,me,be){if(!(A&&A.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Te=Fe.get(A).__webglFramebuffer;if(A.isWebGLCubeRenderTarget&&be!==void 0&&(Te=Te[be]),Te){Ne.bindFramebuffer(F.FRAMEBUFFER,Te);try{const de=A.texture,we=de.format,De=de.type;if(!rt.textureFormatReadable(we)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!rt.textureTypeReadable(De)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}U>=0&&U<=A.width-B&&V>=0&&V<=A.height-O&&F.readPixels(U,V,B,O,xe.convert(we),xe.convert(De),me)}finally{const de=x!==null?Fe.get(x).__webglFramebuffer:null;Ne.bindFramebuffer(F.FRAMEBUFFER,de)}}},this.copyFramebufferToTexture=function(A,U,V=0){const B=Math.pow(2,-V),O=Math.floor(U.image.width*B),me=Math.floor(U.image.height*B);et.setTexture2D(U,0),F.copyTexSubImage2D(F.TEXTURE_2D,V,0,0,A.x,A.y,O,me),Ne.unbindTexture()},this.copyTextureToTexture=function(A,U,V,B=0){const O=U.image.width,me=U.image.height,be=xe.convert(V.format),Te=xe.convert(V.type);et.setTexture2D(V,0),F.pixelStorei(F.UNPACK_FLIP_Y_WEBGL,V.flipY),F.pixelStorei(F.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),F.pixelStorei(F.UNPACK_ALIGNMENT,V.unpackAlignment),U.isDataTexture?F.texSubImage2D(F.TEXTURE_2D,B,A.x,A.y,O,me,be,Te,U.image.data):U.isCompressedTexture?F.compressedTexSubImage2D(F.TEXTURE_2D,B,A.x,A.y,U.mipmaps[0].width,U.mipmaps[0].height,be,U.mipmaps[0].data):F.texSubImage2D(F.TEXTURE_2D,B,A.x,A.y,be,Te,U.image),B===0&&V.generateMipmaps&&F.generateMipmap(F.TEXTURE_2D),Ne.unbindTexture()},this.copyTextureToTexture3D=function(A,U,V,B,O=0){const me=A.max.x-A.min.x,be=A.max.y-A.min.y,Te=A.max.z-A.min.z,de=xe.convert(B.format),we=xe.convert(B.type);let De;if(B.isData3DTexture)et.setTexture3D(B,0),De=F.TEXTURE_3D;else if(B.isDataArrayTexture||B.isCompressedArrayTexture)et.setTexture2DArray(B,0),De=F.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}F.pixelStorei(F.UNPACK_FLIP_Y_WEBGL,B.flipY),F.pixelStorei(F.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),F.pixelStorei(F.UNPACK_ALIGNMENT,B.unpackAlignment);const Ce=F.getParameter(F.UNPACK_ROW_LENGTH),ft=F.getParameter(F.UNPACK_IMAGE_HEIGHT),zt=F.getParameter(F.UNPACK_SKIP_PIXELS),an=F.getParameter(F.UNPACK_SKIP_ROWS),di=F.getParameter(F.UNPACK_SKIP_IMAGES),ot=V.isCompressedTexture?V.mipmaps[O]:V.image;F.pixelStorei(F.UNPACK_ROW_LENGTH,ot.width),F.pixelStorei(F.UNPACK_IMAGE_HEIGHT,ot.height),F.pixelStorei(F.UNPACK_SKIP_PIXELS,A.min.x),F.pixelStorei(F.UNPACK_SKIP_ROWS,A.min.y),F.pixelStorei(F.UNPACK_SKIP_IMAGES,A.min.z),V.isDataTexture||V.isData3DTexture?F.texSubImage3D(De,O,U.x,U.y,U.z,me,be,Te,de,we,ot.data):B.isCompressedArrayTexture?F.compressedTexSubImage3D(De,O,U.x,U.y,U.z,me,be,Te,de,ot.data):F.texSubImage3D(De,O,U.x,U.y,U.z,me,be,Te,de,we,ot),F.pixelStorei(F.UNPACK_ROW_LENGTH,Ce),F.pixelStorei(F.UNPACK_IMAGE_HEIGHT,ft),F.pixelStorei(F.UNPACK_SKIP_PIXELS,zt),F.pixelStorei(F.UNPACK_SKIP_ROWS,an),F.pixelStorei(F.UNPACK_SKIP_IMAGES,di),O===0&&B.generateMipmaps&&F.generateMipmap(De),Ne.unbindTexture()},this.initTexture=function(A){A.isCubeTexture?et.setTextureCube(A,0):A.isData3DTexture?et.setTexture3D(A,0):A.isDataArrayTexture||A.isCompressedArrayTexture?et.setTexture2DArray(A,0):et.setTexture2D(A,0),Ne.unbindTexture()},this.resetState=function(){w=0,T=0,x=null,Ne.reset(),je.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ei}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===Zf?"display-p3":"srgb",n.unpackColorSpace=lt.workingColorSpace===Mc?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class c2 extends Wt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ui,this.environmentIntensity=1,this.environmentRotation=new ui,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class _y extends $a{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new nt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Zl=new k,Ql=new k,ng=new At,Mo=new Qf,al=new ms,Fu=new k,ig=new k;class u2 extends Wt{constructor(e=new kn,n=new _y){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let a=1,r=n.count;a<r;a++)Zl.fromBufferAttribute(n,a-1),Ql.fromBufferAttribute(n,a),i[a]=i[a-1],i[a]+=Zl.distanceTo(Ql);e.setAttribute("lineDistance",new Fn(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,a=this.matrixWorld,r=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),al.copy(i.boundingSphere),al.applyMatrix4(a),al.radius+=r,e.ray.intersectsSphere(al)===!1)return;ng.copy(a).invert(),Mo.copy(e.ray).applyMatrix4(ng);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=this.isLineSegments?2:1,u=i.index,h=i.attributes.position;if(u!==null){const p=Math.max(0,o.start),y=Math.min(u.count,o.start+o.count);for(let _=p,m=y-1;_<m;_+=c){const d=u.getX(_),g=u.getX(_+1),v=rl(this,e,Mo,l,d,g);v&&n.push(v)}if(this.isLineLoop){const _=u.getX(y-1),m=u.getX(p),d=rl(this,e,Mo,l,_,m);d&&n.push(d)}}else{const p=Math.max(0,o.start),y=Math.min(h.count,o.start+o.count);for(let _=p,m=y-1;_<m;_+=c){const d=rl(this,e,Mo,l,_,_+1);d&&n.push(d)}if(this.isLineLoop){const _=rl(this,e,Mo,l,y-1,p);_&&n.push(_)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const a=n[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=a.length;r<o;r++){const s=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=r}}}}}function rl(t,e,n,i,a,r){const o=t.geometry.attributes.position;if(Zl.fromBufferAttribute(o,a),Ql.fromBufferAttribute(o,r),n.distanceSqToSegment(Zl,Ql,Fu,ig)>i)return;Fu.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo(Fu);if(!(l<e.near||l>e.far))return{distance:l,point:ig.clone().applyMatrix4(t.matrixWorld),index:a,face:null,faceIndex:null,object:t}}class xy extends $a{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new nt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const ag=new At,qd=new Qf,ol=new ms,sl=new k;class d2 extends Wt{constructor(e=new kn,n=new xy){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,a=this.matrixWorld,r=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),ol.copy(i.boundingSphere),ol.applyMatrix4(a),ol.radius+=r,e.ray.intersectsSphere(ol)===!1)return;ag.copy(a).invert(),qd.copy(e.ray).applyMatrix4(ag);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=i.index,f=i.attributes.position;if(c!==null){const h=Math.max(0,o.start),p=Math.min(c.count,o.start+o.count);for(let y=h,_=p;y<_;y++){const m=c.getX(y);sl.fromBufferAttribute(f,m),rg(sl,m,l,a,e,n,this)}}else{const h=Math.max(0,o.start),p=Math.min(f.count,o.start+o.count);for(let y=h,_=p;y<_;y++)sl.fromBufferAttribute(f,y),rg(sl,y,l,a,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const a=n[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=a.length;r<o;r++){const s=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=r}}}}}function rg(t,e,n,i,a,r,o){const s=qd.distanceSqToPoint(t);if(s<n){const l=new k;qd.closestPointToPoint(t,l),l.applyMatrix4(i);const c=a.ray.origin.distanceTo(l);if(c<a.near||c>a.far)return;r.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:o})}}class nh extends kn{constructor(e=1,n=.4,i=12,a=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:a,arc:r},i=Math.floor(i),a=Math.floor(a);const o=[],s=[],l=[],c=[],u=new k,f=new k,h=new k;for(let p=0;p<=i;p++)for(let y=0;y<=a;y++){const _=y/a*r,m=p/i*Math.PI*2;f.x=(e+n*Math.cos(m))*Math.cos(_),f.y=(e+n*Math.cos(m))*Math.sin(_),f.z=n*Math.sin(m),s.push(f.x,f.y,f.z),u.x=e*Math.cos(_),u.y=e*Math.sin(_),h.subVectors(f,u).normalize(),l.push(h.x,h.y,h.z),c.push(y/a),c.push(p/i)}for(let p=1;p<=i;p++)for(let y=1;y<=a;y++){const _=(a+1)*p+y-1,m=(a+1)*(p-1)+y-1,d=(a+1)*(p-1)+y,g=(a+1)*p+y;o.push(_,m,g),o.push(m,d,g)}this.setIndex(o),this.setAttribute("position",new Fn(s,3)),this.setAttribute("normal",new Fn(l,3)),this.setAttribute("uv",new Fn(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nh(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class f2 extends $a{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new nt(16777215),this.specular=new nt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Z0,this.normalScale=new at(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ui,this.combine=$f,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}const og={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class h2{constructor(e,n,i){const a=this;let r=!1,o=0,s=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(u){s++,r===!1&&a.onStart!==void 0&&a.onStart(u,o,s),r=!0},this.itemEnd=function(u){o++,a.onProgress!==void 0&&a.onProgress(u,o,s),o===s&&(r=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(u){a.onError!==void 0&&a.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,h=c.length;f<h;f+=2){const p=c[f],y=c[f+1];if(p.global&&(p.lastIndex=0),p.test(u))return y}return null}}}const p2=new h2;class ih{constructor(e){this.manager=e!==void 0?e:p2,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(a,r){i.load(e,a,n,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}ih.DEFAULT_MATERIAL_NAME="__DEFAULT";class m2 extends ih{constructor(e){super(e)}load(e,n,i,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=og.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){n&&n(o),r.manager.itemEnd(e)},0),o;const s=as("img");function l(){u(),og.add(e,this),n&&n(this),r.manager.itemEnd(e)}function c(f){u(),a&&a(f),r.manager.itemError(e),r.manager.itemEnd(e)}function u(){s.removeEventListener("load",l,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),r.manager.itemStart(e),s.src=e,s}}class g2 extends ih{constructor(e){super(e)}load(e,n,i,a){const r=new ln,o=new m2(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){r.image=s,r.needsUpdate=!0,n!==void 0&&n(r)},i,a),r}}class v2 extends Wt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new nt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}const Ou=new At,sg=new k,lg=new k;class y2{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new at(512,512),this.map=null,this.mapPass=null,this.matrix=new At,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new eh,this._frameExtents=new at(1,1),this._viewportCount=1,this._viewports=[new jt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;sg.setFromMatrixPosition(e.matrixWorld),n.position.copy(sg),lg.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(lg),n.updateMatrixWorld(),Ou.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ou),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Ou)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class _2 extends y2{constructor(){super(new fy(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class x2 extends v2{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Wt.DEFAULT_UP),this.updateMatrix(),this.target=new Wt,this.shadow=new _2}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Yf}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Yf);const S2=()=>{const t=Z.useRef(null),e=Z.useRef({x:0,y:0});return Z.useEffect(()=>{const n=new c2,i=new In(75,window.innerWidth/window.innerHeight,.1,1e3),a=new l2({antialias:!0});a.setSize(window.innerWidth,window.innerHeight),t.current&&t.current.appendChild(a.domElement);const r=new x2(16777215,10);r.position.set(-10,10,10),n.add(r);const o=new f2({color:16777215,opacity:.7,transparent:!0,shininess:100}),s=new nh(1,.3,16,100),l=new si(s,o);n.add(l);const c=new xy({color:16777215,size:.1,map:new g2().load("https://threejs.org/examples/textures/particle2.png"),blending:Fd,transparent:!0}),u=new kn,f=500,h=new Float32Array(f*3);for(let M=0;M<f;M++)h[M*3]=(Math.random()-.5)*10,h[M*3+1]=(Math.random()-.5)*10,h[M*3+2]=(Math.random()-.5)*10;u.setAttribute("position",new Zn(h,3));const p=new d2(u,c);n.add(p);const y=new _y({color:2236962,linewidth:120}),_=new kn,m=[];for(let M=0;M<100;M++)m.push(Math.random()*5-2.5,Math.random()*5-2.5,Math.random()*5-2.5);_.setAttribute("position",new Fn(m,3));const d=new u2(_,y);n.add(d),i.position.z=1;const g=()=>{requestAnimationFrame(g),l.rotation.x+=.01,l.rotation.y+=.01,p.rotation.x+=.002,p.rotation.y+=.002,_.attributes.position.needsUpdate=!0;const M=e.current.x/window.innerWidth*2-1,w=-(e.current.y/window.innerHeight)*2+1;l.position.x=M,l.position.y=w,p.position.x=M,p.position.y=w,d.position.x=M,d.position.y=w,a.render(n,i)};g();const v=M=>{e.current={x:M.clientX,y:M.clientY}};return window.addEventListener("mousemove",v),()=>{var M,w;window.removeEventListener("mousemove",v),(w=(M=a.domElement)==null?void 0:M.parentNode)==null||w.removeChild(a.domElement),a.dispose()}},[]),ee.jsx("div",{ref:t,style:{width:"100%",height:"100%"}})},Bu=()=>ee.jsxs("div",{style:{position:"relative",height:"100vh"},children:[ee.jsx(S2,{}),ee.jsx(KS,{})]}),M2="SANTO DE LOS SANTOS",E2="1250 - 985 a.C.",b2=[{year:"1270 a.C.",events:[{name:"Nacimiento de Moisés",text:"En tiempos de gran tensión en Egipto, el faraón ordenó eliminar a todos los varones hebreos recién nacidos para controlar a la creciente población esclava. En medio de esta amenaza, la madre de Moisés decidió salvarlo colocando al bebé en una canasta sobre el río Nilo. La hija del faraón encontró al niño y lo crió en el palacio real. Por decisión silenciosa, la madre biológica permaneció cerca, amamantando a Moisés en secreto, mientras él crecía entre el lujo del palacio y la vida humilde de su pueblo.",cities:["Egipto"]}]},{year:"1265 a.C.",events:[{name:"Moisés asesina a un guardia egipcio",text:"Un día, Moisés vio a un guardia maltratando a un esclavo hebreo. La rabia estalló en su pecho. En un impulso violento, golpeó al egipcio y lo mató. Supo entonces que su vida en el palacio estaba condenada. Huir era la única salida.",cities:["Egipto"]}]},{year:"1250 a.C.",events:[{name:"Reencuentro con Aarón y Miriam",text:"En Madián, Moisés encontró refugio y silencio. Dios lo llamó desde una zarza que ardía sin consumirse. Temeroso, buscó apoyo en su hermano Aarón, quien lo aguardaba en el desierto. Miriam, su hermana, también acompañaba desde lejos, guardiana de su historia y de la promesa que aún debía cumplir.",cities:["Madián","Egipto"]}]},{year:"1249 a.C.",events:[{name:"Comienzo de las Plagas de Egipto",text:"Aarón y Moisés confrontaron al faraón con señales y plagas. Aarón, como portavoz, ejecutó milagros como convertir la vara en serpiente (Éxodo 7). Esta etapa consolidó su autoridad divina ante Israel. La participación de Aarón en actos de poder marcó el comienzo de su rol mediador entre Dios y el pueblo, antes de asumir formalmente como sacerdote.",cities:["Egipto"]}]},{year:"1248 a.C.",events:[{name:"Éxodo y el cruce del Mar Rojo",text:"Tras la décima plaga, los hebreos salieron de Egipto. Moisés guió la huida y dividió las aguas del Mar Rojo. Miriam dirigió una danza con panderos, liderando a las mujeres en canto y celebración (Éxodo 15:20-21). Este episodio destaca su papel como figura espiritual femenina, reconocida por el pueblo aunque excluida del sacerdocio formal.",cities:["Egipto","Mar Rojo"]}]},{year:"1247 a.C.",events:[{name:"Maná, agua y conflictos",text:"En el desierto, el pueblo comenzó a quejarse. Dios proveyó maná y agua milagrosamente. Aarón estuvo presente como líder visible junto a Moisés. Sin embargo, la tensión con el pueblo fue constante. La autoridad de los hermanos comenzó a consolidarse tanto en lo religioso como en lo político.",cities:["Desierto de Sinaí"]}]},{year:"1246 a.C.",events:[{name:"Entrega de la Ley y construcción del Arca",text:"En el Monte Sinaí, Moisés recibió las Tablas de la Ley. Aarón fue designado para asistir mientras Moisés subía (Éxodo 24:14). Paralelamente, se dieron instrucciones para construir el Arca de la Alianza y el Santuario móvil (Éxodo 25-31), donde Aarón y sus hijos servirían como sacerdotes. El diseño incluía el 'Santo de los Santos', espacio exclusivo para el sumo sacerdote una vez al año.",cities:["Monte Sinaí"]}]},{year:"1245 a.C.",events:[{name:"El Becerro de Oro",text:"Mientras Moisés estaba en el monte, Aarón cedió a la presión del pueblo y fabricó un becerro de oro (Éxodo 32). Este acto fue condenado severamente. Moisés rompió las tablas y ordenó castigo. A pesar de este pecado, Aarón fue perdonado y posteriormente consagrado como Sumo Sacerdote. Este episodio revela las tensiones internas en la conducción espiritual y política.",cities:["Monte Sinaí"]}]},{year:"1244 a.C.",events:[{name:"Consagración de Aarón como Sumo Sacerdote",text:"Dios ordenó a Moisés consagrar a Aarón y a sus hijos (Éxodo 28-29; Levítico 8-9). Aarón vistió ropas sagradas, incluyendo el efod y el pectoral. Se estableció el rol exclusivo del Kohen Gadol, encargado de los sacrificios y de entrar una vez al año al 'Santo de los Santos' en Yom Kippur. Este acto institucionalizó el sacerdocio patrilineal, excluyendo a mujeres y a otras tribus.",cities:["Tabernáculo del desierto"]}]},{year:"1243 a.C.",events:[{name:"La vara de almendro de Aarón",text:"Tras una rebelión de los levitas (Números 17), Dios mandó colocar una vara por cada jefe tribal. Sólo la de Aarón floreció, confirmando su elección divina como Sumo Sacerdote. Este milagro selló su legitimidad ante las tribus. La vara fue guardada en el Arca, junto a las Tablas y una porción de maná.",cities:["Desierto"]}]},{year:"1242 a.C.",events:[{name:"Roles diferenciados de Moisés y Aarón",text:"Moisés continuó como profeta y líder político; Aarón se dedicó al culto. Esta división de funciones refleja la creación de una estructura institucional en el campamento israelita: poder espiritual-sacerdotal (Aarón) y poder profético-legal (Moisés). Miriam continuó siendo reconocida como profetisa, aunque tuvo un conflicto con sus hermanos en Números 12, que terminó con un castigo divino por cuestionar la autoridad de Moisés.",cities:["Campamento israelita"]}]},{year:"1241 a.C.",events:[{name:"Muerte de Miriam",text:"Miriam murió en Cades (Números 20:1). Su muerte marcó el fin de una generación de líderes espirituales. Aunque excluida del sacerdocio, su figura es crucial como símbolo del liderazgo femenino en el relato bíblico.",cities:["Cades"]}]},{year:"1240 a.C.",events:[{name:"Muerte de Aarón",text:"Aarón murió en el monte Hor (Números 20:22-29). Debido a una desobediencia de Aarón y Moisés en Meribá, Dios decretó que no entrarían en la Tierra Prometida y que Aarón moriría en ese lugar. Antes de morir, Moisés le quitó las vestiduras sacerdotales y se las entregó a su hijo Eleazar, quien fue designado para sucederlo como Sumo Sacerdote. Esta transición marcó el primer relevo generacional en el linaje de los Kohanim Gedolim, asegurando la continuidad del sacerdocio levítico.",cities:["Monte Hor","Meribá"]},{name:"Muerte de Nadab y Abiú",text:"Los hijos mayores de Aarón, Nadab y Abiú, murieron al ofrecer 'fuego extraño' (Levítico 10:1-2), un sacrificio no autorizado según las estrictas normas del culto levítico. Este episodio ejemplifica la severidad de las leyes rituales y la intolerancia divina hacia cualquier desviación en el servicio al Tabernáculo. Como consecuencia, sólo Eleazar y otro hijo de Aarón, Itamar, quedaron habilitados para ejercer el sacerdocio, fortaleciendo así la disciplina y pureza del sistema religioso israelita.",cities:["Desierto de Sinaí"]}]},{year:"1239 a.C.",events:[{name:"Eleazar asume como Kohen Gadol",text:"Tras la muerte de Aarón, Eleazar asumió el cargo de Sumo Sacerdote (Números 20:28), encargándose de mantener la continuidad y la estricta observancia del culto en el Tabernáculo. Durante su mandato no se registraron episodios de rebeldía ni desviaciones graves, lo que indica un fortalecimiento de la autoridad sacerdotal y un mayor respeto por las leyes de pureza y ritualidad. Eleazar estableció una era de disciplina y orden en el sistema religioso de Israel.",cities:["Desierto","Campamento israelita"]}]},{year:"1210 a.C.",events:[{name:"Fines de Eleazar y sucesión de Finés",text:"Finés, hijo de Eleazar, es recordado por su acción en Números 25, cuando ejecutó a una pareja israelita que cometía idolatría y relaciones ilícitas con mujeres moabitas. Esta intervención, aunque violenta, fue vista como una defensa decisiva de la pureza religiosa y moral del pueblo, y por ello Finés fue recompensado divinamente con el sacerdocio perpetuo. Su sucesión aseguró la continuidad de la línea sacerdotal y reforzó la vigilancia sobre la integridad del culto israelita.",cities:["Sitím","Israel"]}]},{year:"1190 a.C.",events:[{name:"Edad de Hierro: consolidación tribal",text:"Durante este período se asentaron las tribus israelitas en Canaán. El sacerdocio jugó un rol crucial en consolidar la identidad tribal, étnica y religiosa. Las leyes de Deuteronomio prohibían matrimonios mixtos, y se reforzó la autoridad patriarcal. No obstante, el Libro de Jueces destaca la figura de Débora, una mujer líder, juez y profetisa que lideró una victoria militar (Jueces 4–5).",cities:["Canaán","Israel"]}]},{year:"1120 a.C.",events:[{name:"Bukki, hijo de Abisúa, asume el sacerdocio",text:"Bukki fue parte de la línea sucesoria de los kohanim según 1 Crónicas 6. No se registra un hecho sobresaliente en su período, lo que indica una época posiblemente estable, aunque marcada por la exclusión sistemática de mujeres y extranjeros del culto.",cities:["Israel"]}]},{year:"1100 a.C.",events:[{name:"Uzzi continúa la línea sacerdotal",text:"Uzzi, hijo de Bukki, asumió como Kohen Gadol. La época se caracteriza por un énfasis creciente en la pureza ritual y el control religioso sobre la vida social. Las leyes de Levítico regulaban severamente la sexualidad, incluyendo la condena explícita a la homosexualidad (Levítico 18:22).",cities:["Israel"]}]},{year:"1080 a.C.",events:[{name:"Ahitub ejerce el sacerdocio durante los inicios de la monarquía",text:"Ahitub fue sacerdote en tiempos previos a la instauración del reino unido. Su ministerio ocurrió en un contexto de conflictos internos entre tribus y consolidación de estructuras centralizadas. Las mujeres, aunque ausentes del sacerdocio, comenzaron a influir en relatos proféticos y políticos, como Ana, madre de Samuel.",cities:["Israel"]}]},{year:"1050 a.C.",events:[{name:"Eli como Sumo Sacerdote y Juez",text:"Eli fue una figura dual: juez y sumo sacerdote. Según 1 Samuel, su mandato terminó trágicamente por la corrupción de sus hijos, Ofni y Finees. La historia resalta los desafíos de la transmisión familiar del poder. Ana, madre de Samuel, desafió normas al orar directamente a Dios, siendo escuchada. Su oración marca un hito de agencia femenina en la narrativa bíblica.",cities:["Silo"]}]},{year:"1040 a.C.",events:[{name:"Nacimiento de Samuel",text:"Samuel nació como respuesta al voto de Ana, quien lo dedicó al servicio en el santuario de Silo (1 Samuel 1). Aunque no fue Kohen Gadol, ejerció autoridad profética y religiosa, actuando como puente entre la era tribal y la monarquía. Su historia ilustra cómo las mujeres, como Ana, podían alterar el rumbo religioso incluso sin tener roles formales.",cities:["Silo"]}]},{year:"1020 a.C.",events:[{name:"Ahimelec apoya a David",text:"Ahimelec, descendiente de Ahitub, fue asesinado por orden de Saúl tras brindar ayuda a David (1 Samuel 21-22). Este acto refleja la tensión entre el poder político y el religioso. Abiatar, su hijo, escapó y fue el último descendiente de Elí en ejercer como sacerdote, lo que cerró una línea marcada por crisis sucesivas.",cities:["Nob"]}]},{year:"1015 a.C.",events:[{name:"Samuel designa jueces a sus hijos",text:"Cuando Samuel envejeció, puso a sus hijos Joel y Abías como jueces en Beerseba. Sin embargo, ellos no siguieron su ejemplo: se dejaron corromper por la avaricia, aceptaron sobornos y pervirtieron la justicia (1 Samuel 8:1-3). Este fracaso en la sucesión sacerdotal impulsó la demanda del pueblo por un rey.",cities:["Beerseba","Silo"]}]},{year:"1014 a.C.",events:[{name:"Rechazo a los hijos de Samuel y surgimiento de la monarquía",text:"El pueblo rechazó a los hijos de Samuel como jueces, pidiendo un rey como el resto de las naciones. Samuel se mostró reticente, pero Dios le indicó que no lo rechazaban a él, sino a Dios mismo como rey. Este momento sella el tránsito institucional de una teocracia tribal a una monarquía centralizada.",cities:["Silo","Ramá"]}]},{year:"990 a.C.",events:[{name:"Hemán, nieto de Samuel, como vidente y músico real",text:"Hemán, nieto del profeta Samuel según 1 Crónicas 6:33, fue uno de los tres levitas nombrados por David para dirigir la música en el santuario. Reconocido como 'vidente del rey', combinó función espiritual y artística en la corte. También fue el autor del Salmo 88, de tono sombrío y profundamente humano.",cities:["Jerusalén"]}]},{year:"989 a.C.",events:[{name:"Los hijos y las hijas de Hemán",text:"Dios otorgó a Hemán catorce hijos y tres hijas (1 Crónicas 25:5). Todos ellos participaron en el culto musical del Templo bajo la supervisión del rey David. Los hijos de Hemán —entre ellos Buquías, Matanías, Uziel y otros— representaban una dinastía levítica de cantores que fusionaba profecía, música y liturgia.",cities:["Jerusalén"]}]},{year:"985 a.C.",events:[{name:"Fin del sacerdocio de Abiatar",text:"Abiatar fue removido por el rey Salomón por haber apoyado a Adonías en su disputa por el trono (1 Reyes 2:26-27). Este evento marcó el fin de la línea sacerdotal de Elí y el inicio de la centralización del culto en Jerusalén bajo la dinastía davídica. Comienza así una nueva etapa en la historia del sacerdocio.",cities:["Jerusalén"]}]}],A2={title:M2,duration:E2,years:b2},T2="Reyes",w2="c. 1010 - 586 a.C.",C2=[{year:"1010 a.C.",events:[{name:"Abiathar y el reinado de David",text:"Abiathar, hijo de Ahimelec y nieto de Ahitob, sobrevivió a la masacre de Nob ordenada por Saúl, quien temía que los sacerdotes apoyaran a David (1 Samuel 22). Abiathar se convirtió en sacerdote durante el reinado de David, siendo un pilar en la legitimación religiosa del rey.",cities:["Jerusalén","Nob"]}]},{year:"1009 a.C.",events:[{name:"El harén de David: Mical y Betsabé",text:"Durante el reinado de David, Mical, hija del rey Saúl y primera esposa de David, y Betsabé, madre de Salomón, fueron figuras femeninas influyentes en el harén real. Betsabé, viuda de Urías y esposa de David, jugó un rol en asegurar la sucesión de su hijo Salomón.",cities:["Jerusalén"]}]},{year:"980 a.C.",events:[{name:"Ahimaaz, hijo de Zadok",text:"Ahimaaz, hijo del sacerdote Zadok y miembro de la línea sacerdotal de Eleazar, sirvió como mensajero durante la rebelión de Absalón, hijo de David. Maacá, madre de Absalón, fue una figura destacada en la familia real.",cities:["Jerusalén"]}]},{year:"979 a.C.",events:[{name:"Harenes reales y sucesión",text:"Los harenes reales funcionaban como espacios estratégicos para alianzas políticas, con mujeres que influían en la sucesión y decisiones de poder. Aunque los sacerdotes estaban apartados de estos espacios, el harén intervenía indirectamente en nombramientos y facciones del poder.",cities:["Jerusalén"]}]},{year:"950 a.C.",events:[{name:"Azariah I y el templo bajo Salomón",text:"Azariah I, hijo de Ahimaaz y nieto de Zadok, ejerció como sacerdote durante el apogeo del Reino Unido bajo Salomón, hijo de David y Betsabé. Fue testigo del esplendor del Primer Templo y del fortalecimiento del poder sacerdotal.",cities:["Jerusalén"]}]},{year:"949 a.C.",events:[{name:"Naamá y la consolidación del harén de Salomón",text:"El harén de Salomón incluyó a mujeres extranjeras, como Naamá la amonita, madre de Roboam. Estas mujeres reforzaban alianzas políticas, aunque también introducían tensiones culturales y religiosas.",cities:["Jerusalén"]}]},{year:"870 a.C.",events:[{name:"Joash, sacerdote en Judá",text:"Joash ejerció su sacerdocio en tiempos de la reina madre Atalía, hija de Acab y Jezabel, quien gobernó Judá tras la muerte de su hijo Ocozías. El sacerdocio luchaba por mantener la pureza del culto en medio del sincretismo religioso promovido por la corte.",cities:["Judá"]}]},{year:"869 a.C.",events:[{name:"El harén como centro de poder paralelo",text:"Las concubinas reales tenían influencia en las decisiones políticas y religiosas. La rivalidad dentro del harén afectaba la estabilidad del reino, y la sexualidad era utilizada como instrumento de alianzas y control sucesorio.",cities:["Judá"]}]},{year:"800 a.C.",events:[{name:"Jehoiarib y la decadencia espiritual",text:"Jehoiarib lideró una división sacerdotal en tiempos de decadencia espiritual. Los sacerdotes enfrentaban la tarea de preservar su pureza frente al aumento del sincretismo y la corrupción emanada desde la corte.",cities:["Jerusalén"]}]},{year:"799 a.C.",events:[{name:"Maacá y el culto a Asera",text:"Maacá, madre del rey Asa, fue retirada de su posición por promover el culto a Asera, lo que refleja los límites del poder femenino cuando entraba en conflicto con las reformas religiosas impulsadas por el sacerdocio.",cities:["Jerusalén"]}]},{year:"740 a.C.",events:[{name:"Uriah y la introducción de cultos extranjeros",text:"Uriah sirvió como sacerdote durante el reinado de Acaz, quien introdujo altares damascenos en Jerusalén. La influencia extranjera alteraba las prácticas religiosas tradicionales y debilitaba la autoridad sacerdotal.",cities:["Jerusalén","Damasco"]}]},{year:"739 a.C.",events:[{name:"Decadencia del harén y crisis religiosa",text:"El harén, antes instrumento de consolidación monárquica, se convirtió en un espacio influenciado por cultos extranjeros. La sexualidad se politizó, reflejando la crisis moral y religiosa de la época.",cities:["Jerusalén"]}]},{year:"640 a.C.",events:[{name:"Hilkiah y la reforma de Josías",text:"Hilkiah, sumo sacerdote y padre de Safán, descubrió el 'Libro de la Ley' durante las reformas del rey Josías. Esta reforma centralizó el culto en Jerusalén, prohibió cultos ajenos y reguló el harén real con severidad.",cities:["Jerusalén"]}]},{year:"639 a.C.",events:[{name:"Jedidá y las mujeres del harén reformado",text:"Jedidá, madre de Josías, fue una figura influyente en el harén. Durante la reforma, muchas mujeres fueron apartadas por vínculos con cultos extranjeros, mostrando el nuevo rol subordinado del harén frente al poder sacerdotal.",cities:["Jerusalén"]}]},{year:"620 a.C.",events:[{name:"Seraiah, último sumo sacerdote",text:"Seraiah, considerado padre de Esdras según tradición, fue uno de los últimos sumos sacerdotes del Primer Templo. Su liderazgo coincidió con el colapso del poder real y la inminente amenaza de Babilonia.",cities:["Jerusalén"]}]},{year:"619 a.C.",events:[{name:"Nehusta, la reina en el exilio",text:"Nehusta, esposa del rey Joaquín, fue deportada junto a su esposo a Babilonia. Su figura simboliza el fin de la influencia de las mujeres cortesanas y la caída del harén como institución.",cities:["Jerusalén","Babilonia"]}]},{year:"586 a.C.",events:[{name:"Exilio babilónico y pérdida del Templo",text:"Con la destrucción del Templo, el sacerdocio se desplazó hacia formas legales y comunitarias. Las mujeres como Susana y otras matriarcas jugaron un rol clave en la conservación de la identidad durante el exilio.",cities:["Babilonia","Jerusalén"]}]}],R2={title:T2,duration:w2,years:C2},P2="Rebeldes",L2="587 a.C. - 30 a.C.",D2=[{year:"587 a.C.",events:[{name:"Destrucción del Primer Templo y exilio",text:"Nabucodonosor II destruye el Primer Templo en Jerusalén y deporta a parte de la población a Babilonia. En los textos bíblicos como Lamentaciones, Jerusalén es representada simbólicamente como una mujer humillada. Comienza el período del exilio babilónico.",cities:["Jerusalén","Babilonia"]}]},{year:"539 a.C.",events:[{name:"Edicto de Ciro y retorno a Jerusalén",text:"Ciro el Grande conquista Babilonia y permite el retorno de los judíos. El edicto persa inicia la reconstrucción del Templo. El liderazgo del retorno está encabezado por figuras sacerdotales y aristocráticas.",cities:["Babilonia","Jerusalén","Persia"]}]},{year:"516 a.C.",events:[{name:"Finalización del Segundo Templo",text:"Se completa la reconstrucción del Segundo Templo bajo Zorobabel y Josué ben Josadac. Se restablece el culto. El nuevo templo no incluye el Arca de la Alianza.",cities:["Jerusalén"]}]},{year:"486 a.C.",events:[{name:"Ascenso de Esther",text:"Según el libro de Esther, una joven judía llamada Esther se convierte en reina del Imperio Persa y logra salvar a su pueblo de un genocidio planeado por Amán. El relato es de carácter literario y no tiene confirmación arqueológica.",cities:["Persia","Susa"]}]},{year:"474 a.C.",events:[{name:"Historia de Purim",text:"La festividad de Purim conmemora, según el relato del libro de Esther, la salvación del pueblo judío en Persia. Se celebra con lectura del rollo, banquetes y regalos, aunque su historicidad es debatida.",cities:["Persia","Susa"]}]},{year:"331 a.C.",events:[{name:"Conquista de Alejandro Magno",text:"Alejandro Magno conquista la región de Palestina, marcando el inicio de la influencia helénica en Judea. Se introducen elementos culturales griegos en las ciudades.",cities:["Palestina","Jerusalén"]}]},{year:"330 a.C.",events:[{name:"Encuentro entre Alejandro Magno y el Sumo Sacerdote",text:"Según Flavio Josefo, Alejandro Magno se encontró con el Sumo Sacerdote Jadúa en Jerusalén. Aunque la anécdota es citada por Josefo, carece de confirmación en fuentes griegas. Alejandro otorgó libertad religiosa a los judíos durante su dominio.",cities:["Jerusalén"]}]},{year:"329 a.C.",events:[{name:"Autonomía bajo el dominio helenístico",text:"Tras la conquista de Alejandro, Judea goza de autonomía relativa bajo los diádocos. Las instituciones religiosas continúan funcionando con escasa interferencia externa.",cities:["Judea","Jerusalén"]}]},{year:"198 a.C.",events:[{name:"Dominio seléucida",text:"Los seléucidas, bajo Antíoco III, toman el control de Judea de manos de los Ptolomeos. Comienza un período de influencia helénica más activa en la región.",cities:["Judea","Antioquía"]}]},{year:"167 a.C.",events:[{name:"Rebelión de los Macabeos",text:"Comienza la revuelta de los Macabeos contra la imposición de prácticas religiosas helenísticas por parte de Antíoco IV Epífanes. Se restablecen las prácticas tradicionales judías.",cities:["Judea","Jerusalén"]}]},{year:"164 a.C.",events:[{name:"Rededicación del Segundo Templo",text:"Tras la victoria de los Macabeos, se purifica y rededica el Templo de Jerusalén. Este evento da origen a la festividad de Janucá.",cities:["Jerusalén"]}]},{year:"63 a.C.",events:[{name:"Conquista romana de Judea",text:"El general romano Pompeyo conquista Jerusalén, integrando Judea en la esfera de influencia romana. Comienzan las tensiones entre el poder romano y las autoridades religiosas judías.",cities:["Jerusalén","Roma"]}]}],I2={title:P2,duration:L2,years:D2},N2="Una Estrella",U2="c. 20 a.C. - 70 d.C.",z2=[{year:"25 a.C.",events:[{name:"Contexto social y posición de los Kohanim y la familia de Ana",text:"En Jerusalén, la familia de Ana, futura madre de María, forma parte de la casta sacerdotal hakohen, con gran influencia en la vida religiosa y social. Los Kohanim gozan de estatus elevado, pero también enfrentan tensiones internas y disputas con otras facciones del poder religioso y político, como la dinastía davídica. La familia de Ana mantiene relaciones discretas pero significativas con la realeza y los harenes, que ejercen control sobre la política y la religión.",cities:["Jerusalén"]}]},{year:"20 a.C.",events:[{name:"Nacimiento de Ana, madre de María",text:"Ana nace en Jerusalén dentro de esta familia sacerdotal hakohen tradicional. Es criada en un ambiente de estricta observancia religiosa. Ana se casó y tuvo a María, quien unirá las líneas davídica y sacerdotal en su descendencia.",cities:["Jerusalén"]}]},{year:"15 a.C.",events:[{name:"Emergencia de las tensiones entre Kohanim y dinastía davídica",text:"Durante este periodo se profundizan las disputas entre el sacerdocio hakohen y la dinastía davídica, ambas con aspiraciones a liderar al pueblo judío. Estas tensiones afectan la vida política y religiosa de Jerusalén, influenciando también el posicionamiento de familias como la de Ana y María, que transitan entre ambos linajes con una posición ambivalente dentro de los círculos de poder.",cities:["Jerusalén"]}]},{year:"10 a.C.",events:[{name:"Nacimiento de María, madre de Jesús",text:"María nace en Jerusalén, hija de Ana, portando la doble herencia sacerdotal hakohen y la tradición davídica. Aunque limitada en el ámbito público, María crece con profunda formación religiosa y conocimiento de su rol vital en la unión de las dos dinastías. Su posición socioeconómica es modesta, vinculada a familias devotas pero no ricas, ubicándose en la clase media baja de Jerusalén.",cities:["Jerusalén"]}]},{year:"6 a.C.",events:[{name:"Conjunción astronómica y el nombre de Yeshúa",text:"La triple conjunción de Júpiter con Régulus es interpretada por sacerdotes magos y astrólogos como señal mesiánica. Llegan a Jerusalén buscando al rey prometido, lo que alarma a Herodes. Los hakohen y escribas interpretan la señal en clave profética. En esta época, el nombre hebreo יֵשׁוּעַ (Yeshúa), que significa 'Yahwe es Salvación', se pronuncia 'Yeshú'. En griego se adapta como Ἰησοῦς (Iēsoûs), reflejando la fusión cultural de la región.",cities:["Jerusalén","Babilonia","Galilea"]}]},{year:"5 a.C.",events:[{name:"La figura de los Magos como reyes-sacerdotes",text:"Los Magos que visitan a Jesús son entendidos como sabios-reyes o sacerdotes de Babilonia, posiblemente de la casta hakohen exiliada. Su conocimiento astrológico y religioso simboliza el reconocimiento de Jesús como un mesías con legitimidad tanto sacerdotal como real, aunque aún no plenamente asumida.",cities:["Babilonia","Jerusalén","Belén"]}]},{year:"4 a.C.",events:[{name:"Nacimiento de Jesús y matanza de los inocentes",text:"Jesús nace en Belén, hijo de María (linaje hakohen) y José (descendiente de David). Su nacimiento representa una fusión crucial para el mesianismo. Herodes el Grande, temiendo una amenaza al poder, ordena la ejecución de niños en Belén. Sectores del sacerdocio hakohen legitiman esta violencia en defensa del orden patriarcal y heteronormativo.",cities:["Belén","Jerusalén"]}]},{year:"3 a.C.",events:[{name:"Vida y embarazo de María",text:"María, con su embarazo considerado milagroso, asume un papel central como puente entre el sacerdocio hakohen y la realeza davídica. Su embarazo genera debates en torno al linaje, la pureza ritual y la legitimidad mesiánica dentro de las comunidades religiosas.",cities:["Nazaret","Jerusalén"]}]},{year:"1 d.C.",events:[{name:"Leyendas sobre Sara la Negra y José de Arimatea",text:"Según tradición medieval, tras la crucifixión, figuras como María Magdalena y José de Arimatea huyeron hacia Occidente. En la Camarga francesa surge el culto a Sainte-Sara, considerada reina y patrona del pueblo gitano. José de Arimatea, miembro del Sanedrín y pariente de María, actúa como tutor de Jesús y viaja luego a Britania, fundando la iglesia de Glastonbury y llevando el Santo Grial.",cities:["Camarga","Saintes-Maries-de-la-Mer","Jerusalén","Glastonbury"]}]},{year:"6 d.C.",events:[{name:"Nacimiento de Juan el Bautista",text:"Juan el Bautista nace en Judea, hijo de Zacarías y Elisabet, ambos de linaje hakohen. Su rol profético será clave en la preparación del camino para Jesús. Se distingue por su mensaje de conversión y su cercanía a los marginados.",cities:["Judea"]}]},{year:"10 d.C.",events:[{name:"Rabban Gamaliel I preside el Sanedrín",text:"Rabban Gamaliel I, nieto de Hilel el Anciano y descendiente hakohen, lidera el Sanedrín. Su mandato equilibra el respeto por la tradición con cierta apertura hacia movimientos emergentes como los primeros seguidores de Jesús.",cities:["Jerusalén"]}]},{year:"30 d.C.",events:[{name:"Ministerio y muerte de Jesús de Nazaret",text:"Jesús inicia su ministerio en Galilea y Jerusalén, proclamando un mensaje que desafía al sacerdocio hakohen, las normas patriarcales y la autoridad romana. Es crucificado con la complicidad del Sanedrín. Su muerte marca un punto de inflexión para el judaísmo y el surgimiento del cristianismo.",cities:["Galilea","Jerusalén"]}]},{year:"48 d.C.",events:[{name:"Dispersión de discípulos y cristianismo en la Galia",text:"Según tradiciones medievales, discípulos como Lázaro predican en Marsella, Marta y Marcela en Tarascón, Trófimo en Arlés, María Magdalena se retira a Saint-Maximin, y Maximino a Aix-en-Provence. Así se extiende el cristianismo primitivo en la Galia romana.",cities:["Marsella","Tarascón","Arlés","Saint-Maximin-la-Sainte-Baume","Aix en Provence"]}]},{year:"50 d.C.",events:[{name:"Simeon ben Gamaliel y la resistencia contra Roma",text:"Simeon ben Gamaliel, líder hakohen y descendiente davídico, encabeza la resistencia religiosa ante la ocupación romana. Su liderazgo en el Sanedrín representa uno de los últimos intentos de unir la autoridad religiosa y política tradicional en Judea.",cities:["Jerusalén","Galilea"]}]},{year:"63 d.C.",events:[{name:"Fundación de la iglesia de Glastonbury",text:"Según leyenda, José de Arimatea funda la primera iglesia cristiana en Glastonbury, llevando el Santo Grial. Este acto simboliza la expansión del cristianismo hacia las islas británicas antes de la llegada oficial del cristianismo romano.",cities:["Glastonbury"]}]},{year:"68 d.C.",events:[{name:"Fin de la dinastía Julio-Claudia",text:"La dinastía Julio-Claudia, que gobernó desde Augusto hasta Nerón, llega a su fin en 68 d.C. con la muerte de Nerón. Esto desata una crisis de sucesión en Roma que también repercute en las provincias como Judea.",cities:["Roma","Judea"]}]},{year:"70 d.C.",events:[{name:"Destrucción del Segundo Templo",text:"El Segundo Templo es destruido por las legiones romanas bajo Tito. Esto marca el fin del sacerdocio hakohen como centro del judaísmo, iniciando una nueva era basada en la ley oral y las comunidades rabínicas, y abre nuevas formas espirituales en la diáspora judía y cristiana.",cities:["Jerusalén"]}]}],F2={title:N2,duration:U2,years:z2},O2="Los Príncipes y las luchas sociales",B2="70 - 850",k2=[{year:"71",events:[{name:"Deportación de familias sacerdotales según tradiciones familiares",text:"después de la caída de Jerusalén en sus manos y la destrucción del segundo Beit ha-Mikdash (Templo de Jerusalén), el emperador romano Tito tomó prisioneros a los patriarcas de cuatro familias nobles de la provincia de Yehuda y de la ciudad de Jerusalén y los exilió a Roma. Según tradiciones genealógicas judías-italianas posteriores, familias sacerdotales como Anav, de Pomis, dei Rossi y degli Adolescentoli vinculadas a la línea HaKohen, fueron deportadas por Tito tras la destrucción del Segundo Templo y se asentaron en Roma.",cities:["Jerusalén"]}]},{year:"72",events:[{name:"Asentamiento de las familias sacerdotales en Roma",text:"Las familias sacerdotales deportadas fueron establecidas en Roma. Allí comenzaron a integrarse en la comunidad judía local, adaptándose a un nuevo entorno mientras mantenían tradiciones religiosas y sociales propias. Tanaim es ",cities:["Roma"]}]},{year:"110",events:[{name:"Shimón ben Gamliel II y la herencia sacerdotal",text:"Shimón ben Gamliel II, hijo de Gamliel II y descendiente de la casa HaKohen, nació en Galilea en tiempos difíciles. Desde pequeño fue instruido en la tradición y la memoria del Templo, preparándose para preservar el linaje y la ley en el exilio. ",cities:["Galilea"]}]},{year:"135",events:[{name:"Judá HaNasi y la línea HaKohen",text:"Judá HaNasi, hijo de Shimón ben Gamliel II y su esposa Miriam, descendía del linaje HaKohen por vía materna. Como presidente del Sanedrín, consolidó la unión de la estirpe de Hilel con la sacerdotal, compilando la Mishná y protegiendo derechos hereditarios y legales. Fue un líder clave de la comunidad judía en la Judea ocupada por los romanos después de la revuelta de Bar Kokhba . Como Nasí, su riqueza era comparable a la de los gobernantes romanos, y destinó gran parte de ella a auxiliar a los menos favorecidos. Desde los días de Moshé Rabeinu hasta Rabeinu HaKadosh, nunca se encontró un gran conocimiento de la Torá junto con una gran riqueza.",cities:["Galilea"]}]},{year:"170",events:[{name:"Casa de Judá HaNasi",text:"En la residencia de Judá HaNasi, su familia participaba en la vida intelectual y legal, editor de la Mishná en su forma real. Se refieren a él como: Príncipe y Maestro por excelencia, y como: Rabeinu HaKadosh, Nuestro Santo Rabino.",cities:["Galilea"]}]},{year:"220",events:[{name:"Gamaliel III e Ima Shalom",text:"Gamaliel III, hijo de Judá HaNasi, dirigió el Sanedrín en Tiberíades. Su esposa, Ima Shalom, sobrina de Rabí Eliezer ben Hircano, es recordada por su intervención en asuntos legales y su defensa de los derechos femeninos en el marco rabínico.",cities:["Tiberíades"]}]},{year:"230",events:[{name:"Rav Huna y Yalta",text:"En Babilonia, Rav Huna se casó con Yalta, hija de Rabí Hisda y descendiente materna de la línea HaKohen. Yalta, reconocida por su erudición, defendió la inclusión de las mujeres en prácticas rituales, marcando el inicio de resistencias de género en la comunidad rabínica.",cities:["Sura"]}]},{year:"270",events:[{name:"Judá III y Gamaliel IV",text:"Judá III, hijo de Gamaliel III, y su hijo Gamaliel IV, lideraron el Sanedrín en tiempos de presión romana. Sus familias fortalecieron una red de refugio y resistencia espiritual y social, asegurando la continuidad del linaje HaKohen.",cities:["Tiberíades"]}]},{year:"300",events:[{name:"Primera mención en el Talmud de los santos ocultos",text:"El Talmud babilónico, compilado por generaciones de sabios conocidos como Amoraim entre los siglos III y V, menciona en el tratado Sanedrín 97b y Sucá 45b que en cada generación existen al menos 36 tzadikim (justos) que 'ven el rostro de la Shejiná'. Estos justos anónimos, conocidos más tarde como 'Lamed Vav Tzadikim', sostienen espiritualmente al mundo aunque su identidad es desconocida incluso para ellos mismos. Esta idea inaugura el concepto de los 'santos ocultos', cuya mera existencia garantiza la continuidad del mundo."}]},{year:"310",events:[{name:"Huna bar Nathan y Miriam bat Hisda",text:"En Sura, Miriam bat Hisda enseñó a su hijo Huna bar Nathan la historia del linaje HaKohen. Huna llegó a ser gaón y líder legal, participando en debates sobre halajá y política en Babilonia.",cities:["Sura"]}]},{year:"360",events:[{name:"Huna bar Nathan, gaón y asesor político",text:"Como gaón de Sura, Huna bar Nathan defendió la autonomía de la comunidad judía y combinó la tradición legal con la diplomacia ante el poder persa.",cities:["Sura"]}]},{year:"420",events:[{name:"Mar Zutra I y la resistencia ante los sasánidas",text:"Mar Zutra I, nieto de Huna bar Nathan, se destacó en Nehardea por preservar el linaje HaKohen y organizar la defensa de la autonomía judía frente a las amenazas sasánidas.",cities:["Nehardea"]}]},{year:"520",events:[{name:"Rebelión de Mar Zutra II en Mahoza",text:"Mar Zutra II, hijo de Mar Zutra I, lideró una revuelta en Mahoza contra el imperio persa. Tras su ejecución, su hijo Mar Zutra III continuó el legado en la academia de Tiberíades.",cities:["Mahoza","Tiberíades"]}]},{year:"590",events:[{name:"Haninai ben Huna y Mari bat Haninai",text:"Haninai ben Huna, gaón en Sura, se casó con Mari bat Haninai, hija del gaón Mari. Juntos fortalecieron el linaje HaKohen y la tradición rabínica.",cities:["Sura"]}]},{year:"650",events:[{name:"Bustannai y la unión con Dara, princesa persa",text:"Bustannai, exilarca e hijo de Haninai, se casó con Dara, hija del rey persa Yazdegerd III. De esta unión nacieron Hasdai y Baradoi, quienes fusionaron tradiciones judías y persas y continuaron el linaje HaKohen.",cities:["Bagdad"]}]},{year:"690",events:[{name:"Hasdai ben Bustannai y Judith bat Mari",text:"Hasdai, líder en Pumbedita, se casó con Judith bat Mari, descendiente de gaones. Su hijo Natronai continuó el linaje HaKohen y la tradición rabínica en Bagdad.",cities:["Pumbedita","Bagdad"]}]},{year:"750",events:[{name:"Natronai ben Hasdai y el poder rabínico",text:"Natronai, hijo de Hasdai y Judith, lideró la comunidad judía de Bagdad y fortaleció la yeshivá, defendiendo los derechos de su pueblo y la continuidad del linaje HaKohen.",cities:["Bagdad"]}]},{year:"800",events:[{name:"Exilio y diáspora: comunidades HaKohen en Europa",text:"Con la expansión islámica, miembros del linaje HaKohen migraron hacia Europa, estableciendo comunidades en Francia y Alemania. Mujeres como Miriam bat Natronai organizaron redes de ayuda, preservando la identidad y la tradición en tiempos difíciles.",cities:["Francia","Alemania"]}]},{year:"850",events:[{name:"Desarrollo del Gaonato y legado sacerdotal",text:"En Bagdad, el Gaonato alcanzó gran influencia con líderes como Saadia Gaon. La tradición sacerdotal HaKohen se entrelazó con la erudición rabínica, y las mujeres del linaje continuaron enseñando y defendiendo los derechos de su pueblo.",cities:["Bagdad"]}]}],H2={title:O2,duration:B2,years:k2},V2="Askenazíes",j2="c. siglo XI - siglo XX",G2=[{year:"1250",events:[{name:"Nacimiento de Mordechai ben Hillel HaKohen",text:"Nace Mordechai ben Hillel HaKohen en Halberstadt, Alemania, en el seno de una familia de eruditos. Su madre, Zelda bat Jacob, lo introdujo al estudio de la Torá y la tradición sacerdotal.",cities:["Halberstadt"]}]},{year:"1270",events:[{name:"Mordechai ben Hillel en Núremberg",text:"Mordechai ben Hillel HaKohen se establece en Núremberg como estudiante de Meir ben Baruch de Rothenburg.",cities:["Núremberg"]}]},{year:"1298",events:[{name:"Masacres de Rintfleisch y mártir Mordechai",text:"Durante las masacres de Rintfleisch en Franconia, Mordechai ben Hillel HaKohen es asesinado junto a su familia. Su madre logra escapar con las hijas menores y establece redes de enseñanza clandestina para huérfanas.",cities:["Rintfleisch","Franconia"]}]},{year:"1300",events:[{name:"Moisés de León y el Zohar",text:"Moisés de León, místico y rabino, es tradicionalmente considerado el autor del Zohar, obra central de la cábala judía.",cities:["Cuenca","Salamanca","España"]}]},{year:"1306",events:[{name:"Aharon HaKohen de Narbona y expulsión judía",text:"Aharon HaKohen, rabino provenzal y autor de 'Archot Chaim', es exiliado tras la expulsión de judíos de Francia. Organiza refugio en Aviñón para familias judías.",cities:["Narbona","Aviñón"]}]},{year:"1328",events:[{name:"Kalonymus ben Kalonymus en Aviñón",text:"Kalonymus ben Kalonymus, poeta y traductor provenzal, defiende la causa judía ante el Papa en Aviñón, fomentando la resistencia cultural durante el exilio.",cities:["Aviñón","Roma"]}]},{year:"1348",events:[{name:"Peste Negra y redes de apoyo HaKohen",text:"La Peste Negra arrasa Europa y pone en peligro a las comunidades judías. En Núremberg, la viuda Rachel bat Meir organiza una red de ayuda para enfermos y huérfanos, inspirada en las enseñanzas de Mordechai ben Hillel.",cities:["Núremberg"]}]},{year:"1492",events:[{name:"Expulsión de judíos de España y migración HaKohen",text:"Con los Reyes Católicos se promulga el Decreto de Alhambra, expulsando a los judíos de España. Muchos HaKohen provenzales se trasladan al norte de Italia y al Sacro Imperio, donde fundan academias domésticas para refugiados.",cities:["Toledo","Venecia","Ferrara"]}]},{year:"1648",events:[{name:"Masacres de Khmelnytsky en Polonia-Lituania",text:"Las revueltas de Bohdan Khmelnytsky provocan asesinatos de miles de judíos en Polonia-Lituania. La comunidad HaKohen de Lublin sufre grandes pérdidas y funda círculos de estudio solo para mujeres supervivientes.",cities:["Lublin","Cracovia"]}]},{year:"1750",events:[{name:"Bustannai HaKohen en Bagdad",text:"Bustannai HaKohen, exilarca de la comunidad en Sura, funda en Bagdad una yeshivá en la que las mujeres participan en el estudio del Talmud.",cities:["Bagdad"]}]},{year:"1812",events:[{name:"Invasión napoleónica y emancipación parcial",text:"Con Napoleón en Rusia, varios shtetls asquenazíes reciben tolerancia temporal. En Vilna, la familia HaKohen aprovecha la apertura para incluir mujeres en la administración comunitaria.",cities:["Vilna"]}]},{year:"1881",events:[{name:"Pogromos en el Imperio Ruso y emigración HaKohen",text:"Tras el asesinato de Alejandro II, estallan pogromos en el Imperio Ruso. La familia HaKohen de Odessa organiza partidas de refugiados hacia América, estableciendo redes de ayuda en Nueva York.",cities:["Odessa","Nueva York"]}]},{year:"1908",events:[{name:"Muhá Bacha y refugio en Vilna",text:"Durante las agitaciones políticas en el Imperio Ruso, Muhá Bacha HaKohen funda en Vilna un círculo literario feminista donde mujeres judías debaten igualdad de género y autonomía comunitaria.",cities:["Vilna"]}]},{year:"1388",events:[{name:"Carta de privilegios en Trakai",text:"El Gran Duque de Lituania Otón de Wartenberg concede privilegios a los judíos de Trakai, estableciendo derechos de comercio y protección judicial. Desde entonces, la comunidad HaKohen se asentó en la región.",cities:["Trakai"]}]},{year:"1389",events:[{name:"Privilegios en Grodno",text:"Se extienden privilegios a la comunidad judía en Grodno, permitiendo la creación de sinagogas y escuelas de estudio.",cities:["Grodno"]}]},{year:"1392",events:[{name:"Tratado de Vytautas (Acuerdo de Ostrow)",text:"El Gran Duque Vytautas firma el Acuerdo de Ostrow con el rey Vladislao II Jagellón, confirmando derechos a las comunidades judías lituanas.",cities:["Vilna","Ostrow"]}]},{year:"1398",events:[{name:"Alianza de Vytautas con los mongoles",text:"Vytautas se alía con los mongoles para controlar el Mar Negro y fortalecer su posición en la región báltica.",cities:["Vilna","Mar Negro"]}]},{year:"1399",events:[{name:"Alianza cristiana y masacre en Posen",text:"Vytautas se une a los cristianos contra los mongoles y sufre derrota. En Posen, representantes de la comunidad judía son ejecutados bajo acusaciones de profanación de la hostia.",cities:["Posen","Poznań"]}]},{year:"1400",events:[{name:"Primeras influencias renacentistas en Vilna",text:"Algunas comunidades HaKohen de Vilna adoptan innovaciones culturales de Europa Occidental, iniciando traducciones médicas y textos humanísticos al hebreo.",cities:["Vilna"]}]},{year:"1407",events:[{name:"Primer libelo de sangre en Cracovia",text:"En Cracovia aparece el primer libelo de sangre contra judíos, obligando a muchos a refugiarse en la iglesia de Santa Ana, que luego es incendiada. El Concilio de la Regencia restituye legislación antijudía.",cities:["Cracovia"]}]},{year:"1408",events:[{name:"Segismundo de Hungría y la Orden del Dragón",text:"En 1408, Segismundo de Hungría funda la Orden del Dragón para defender el cristianismo contra el Imperio Otomano.",cities:["Buda","Hungría"]}]},{year:"1410",events:[{name:"Batalla de Grunwald",text:"La coalición polaco-lituana derrota a los Caballeros Teutónicos en Grunwald, marcando un punto de inflexión en la historia de la región báltica.",cities:["Grunwald"]}]},{year:"1413",events:[{name:"Disputa de Tortosa",text:"Don Fernando de Aragón inaugura la Disputa de Tortosa para forzar la conversión de judíos. Ningún argumento judío se registró oficialmente y el Talmud es prohibido.",cities:["Tortosa","Aragón"]}]},{year:"1414",events:[{name:"Guerra del hambre en Europa",text:"Europa sufre una hambruna prolongada que afecta a todas las comunidades. En Vilna, se organizan despensas comunitarias para sostener a los más vulnerables.",cities:["Vilna"]}]},{year:"1415",events:[{name:"Federico III asume el imperio",text:"Federico III asume el título de Emperador del Sacro Imperio. En Silesia, se imponen restricciones mayores a las comunidades judías.",cities:["Breslau","Silesia"]}]},{year:"1420",events:[{name:"Acusaciones en Viena y expulsión en Lyon",text:"Alberto V de Austria acusa a judíos de Viena de profanar hostias; muchos son encarcelados. Lyon expulsa a todos los judíos ese mismo año.",cities:["Viena","Lyon"]}]},{year:"1421",events:[{name:"Represalias en Viena",text:"El Archiduque Alberto respalda acusaciones contra la comunidad judía de Viena, con bautismos forzosos y expulsiones masivas.",cities:["Viena"]}]},{year:"1422",events:[{name:"Guerra de Golub",text:"Los Caballeros Teutónicos atacan Polonia y Lituania en la guerra de Golub.",cities:["Golub"]}]},{year:"1427",events:[{name:"Bula de Martín V",text:"El Papa Martín V prohíbe el transporte de judíos a Tierra Santa, afectando a la comunidad de Trieste.",cities:["Roma","Trieste"]}]},{year:"1429",events:[{name:"Juana de Arco y acción humanitaria",text:"En Orleans, Juana de Arco lidera la victoria francesa. En Rouen, algunos simpatizantes judíos organizan ayuda a los pobladores afectados.",cities:["Orleans","Rouen"]}]},{year:"1434",events:[{name:"Concilio de Basilea",text:"El Concilio de Basilea prohíbe a los judíos asistir a universidades y refuerza restricciones sobre su educación.",cities:["Basel","Zúrich"]}]},{year:"1442",events:[{name:"Bula de Martín V y sus efectos",text:"El Papa Martín V emite y luego retira una Bula que prohibía incitar contra los judíos, tras influencias políticas en Roma.",cities:["Roma"]}]},{year:"1447",events:[{name:"Vlad II Dracul en Valaquia",text:"Vlad II Dracul asume el trono de Valaquia. Jakob ben Chajim, rabino de Worms, visita la corte como consejero.",cities:["Valaquia","Worms"]}]},{year:"1449",events:[{name:"Revuelta en Toledo",text:"Un alzamiento contra nuevos conversos en Toledo deja centenares de víctimas y expulsiones de marranos.",cities:["Toledo"]}]},{year:"1452",events:[{name:"Juan de Capistrano y expulsiones en Baviera",text:"Juan de Capistrano convence a duques bávaros de expulsar a los judíos. En Breslau, muchos son quemados y crucificados.",cities:["Baviera","Breslau","Wurzburg"]}]},{year:"1454",events:[{name:"Derrota polaca y ataques antijudíos",text:"Tras la derrota de Polonia ante la Orden Teutónica, el obispo Zbignev declara el malestar como castigo divino y las masacres se extienden en Cracovia.",cities:["Cracovia","Prusia"]}]},{year:"1455",events:[{name:"Masacre de judíos en Cracovia",text:"Una turba ataca y asesina a la comunidad judía de Cracovia; muchos logran huir a Lviv.",cities:["Cracovia","Lviv"]}]},{year:"1459",events:[{name:"Nace Maximiliano I de Habsburgo",text:"Maximiliano I de Habsburgo, futuro Emperador, nace en Wiener Neustadt; su reinado impactaría a las comunidades judías de la región.",cities:["Wiener Neustadt","Viena"]}]},{year:"1464",events:[{name:"David Kalonymus ben Jacob y la astrología",text:"David Kalonymus ben Jacob, astrólogo judío italiano, publica tratados en Nápoles y Viena, influyendo en el estudio de astronomía entre judíos asquenazíes.",cities:["Nápoles","Viena"]}]},{year:"1478",events:[{name:"Nacimiento de Felipe el Hermoso",text:"Felipe el Hermoso nace en Brujas; durante su vida, las políticas imperiales afectarían a la diáspora judía en Europa Occidental.",cities:["Brujas"]}]},{year:"1480",events:[{name:"Nacimiento del Maharal de Praga",text:"Jose Chaim Loew (Maharal) nace en Praga, marcando el inicio de una gran influencia rabínica asquenazí en Europa Central.",cities:["Praga"]}]},{year:"1484",events:[{name:"Bula Summis Desiderantes Affectibus",text:"El papa Inocencio VIII publica la bula que legitima la persecución de brujas, afectando indirectamente a judías acusadas de prácticas esotéricas.",cities:["Roma"]}]},{year:"1485",events:[{name:"Fracaso de Heinrich Kramer en Innsbruck",text:"Heinrich Kramer intenta procesar a mujeres por brujería en Innsbruck, pero el obispo local desautoriza sus acusaciones.",cities:["Innsbruck"]}]},{year:"1487",events:[{name:"Publicación del Malleus Maleficarum",text:"El Sacro Imperio vive crisis religiosa e inestabilidad. Heinrich Kramer publica el Malleus Maleficarum, exacerbando la caza de brujas en Europa.",cities:["Estrasburgo","Aquisgrán"]}]},{year:"1488",events:[{name:"Nacimiento de Yosef ben Efraim Caro",text:"Yosef ben Efraim Caro nace en Toledo, futuro autor del 'Shulján Aruj', codificación de la Halajá que influiría en judíos asquenazíes y sefardíes por siglos.",cities:["Toledo"]}]}],W2={title:V2,duration:j2,years:G2},q2="Kalonymus",X2="801 - 1480",K2=[{year:"800",events:[{name:"Migración de la familia Kalonymus",text:"Durante el reinado de Carlomagno, miembros de la familia Kalonymus-HaKohen, como Kalonymus ben Meshullam, se asentaron en Mainz y Speyer. Trajeron conocimientos talmúdicos y científicos, fundando las bases de la tradición rabínica asquenazí."}]},{year:"823",events:[{name:"Protección a judíos en la corte de Carlos el Calvo",text:"Carlos el Calvo favoreció la integración de sabios judíos en su corte. Se reforzó la presencia de la familia Kalonymus-HaKohen en Germania, especialmente en Mainz, en roles médicos, fiscales y diplomáticos."}]},{year:"843",events:[{name:"Tratado de Verdún y consolidación Kalonymus-HaKohen",text:"Tras el Tratado de Verdún, la familia Kalonymus-HaKohen se consolidó en Mainz y Speyer como sabios y líderes comunitarios, organizando estructuras comunales judías."}]},{year:"846",events:[{name:"Privilegios fiscales a judíos",text:"Durante el reinado de Luis el Tartamudo, miembros de la familia Kalonymus-HaKohen recibieron protección legal y privilegios fiscales en Francia Occidental."}]},{year:"850",events:[{name:"Moisés I ben Meshulam, poeta litúrgico",text:"Moisés I ben Meshulam, de los Kalonymus-HaKohen en Italia, fue un destacado poeta litúrgico. Su obra influyó en el Mahzor y fue base para academias rabínicas en Mainz."}]},{year:"951",events:[{name:"Desarrollo de la mística judía temprana",text:"Surge la mística judía en textos como el Sefer Yetzirá, que enfatizan que justos anónimos sostienen el mundo. (Autor tradicional: Anónimo, ya que la autoría exacta del Sefer Yetzirá es objeto de debate)"}]},{year:"876",events:[{name:"Academias rabínicas Kalonymus-HaKohen",text:"Bajo Carlos el Calvo, la familia Kalonymus-HaKohen fundó academias rabínicas en Mainz y Speyer, influyendo en el judaísmo europeo como rabinos, banqueros y asesores cortesanos."}]},{year:"879",events:[{name:"Organización litúrgica en la corte de Carlos el Simple",text:"Durante el reinado de Carlos el Simple, los Kalonymus-HaKohen lideraron la organización litúrgica y educativa de las comunidades judías en Francia."}]},{year:"912",events:[{name:"Kalonymus y el Sacro Imperio",text:"Durante el reinado de Otón I, la familia Kalonymus-HaKohen consolidó su influencia como banqueros, jueces rabínicos y poetas en Mainz y Speyer."}]},{year:"939",events:[{name:"Hai Gaon y el linaje HaKohen",text:"Hai ben Sherira (Hai Gaon), descendiente de familias kohenitas, lideró la academia de Pumbedita y tuvo influencia en redes rabínicas HaKohen de la diáspora."}]},{year:"950",events:[{name:"Kalonymus II ben Moisés y liderazgo halájico",text:"Kalonymus II ben Moisés, activo hacia 950 en Lucca o Roma, fue un halajista y poeta litúrgico de la familia Kalonymus HaKohen. Fue consultado por Rabbenu Gershom, evidenciando su autoridad en Europa medieval.",cities:["Lucca","Roma"]}]},{year:"976",events:[{name:"Meshullam el Grande",text:"Meshullam HaKohen, llamado 'el Romano', fue un halajista y poeta litúrgico activo en Roma o Lucca. Correspondió con Rabbeinu Gershom y escribió comentarios y piyutim que influyeron en el pensamiento rabínico italiano.",cities:["Roma","Lucca"]}]},{year:"997",events:[{name:"Hai Gaon y la transmisión del liderazgo",text:"Tras ser brevemente encarcelado con su padre Sherira, Hai Gaon asumió el liderazgo de la academia de Pumbedita en 998. Ambos pertenecían al linaje HaKohen, consolidando su rol en la diáspora.",cities:["Bagdad","Pumbedita"]}]},{year:"1000",events:[{name:"Kalonymus III en Maguncia",text:"Kalonymus III HaKohen se estableció en Maguncia como poeta litúrgico y líder. Se le atribuye la autoría del Unetanneh Tokef. Casado con Rivka bat Eliezer, tuvo descendencia rabínica destacada.",cities:["Maguncia"]},{name:"División de los Kalonymus",text:"A comienzos del siglo XI, los Kalonymus HaKohen se dividen en ramas germano-italiana (Lucca, Maguncia, Worms) y occitana (Narbona), fundando academias y organizando comunidades judías europeas.",cities:["Narbona","Lucca","Maguncia","Worms"]}]},{year:"1010",events:[{name:"Persecución en Francia y migración",text:"Las acusaciones de Raoul Glaber contra los judíos causaron expulsiones en Limoges. Una rama menor de los HaKohen-Kalonymus emigró a Aragón o Provenza.",cities:["Limoges"]}]},{year:"1012",events:[{name:"Expulsión en Mainz",text:"El emperador Enrique II expulsó a judíos de Mainz que rehusaron convertirse, incluyendo a los HaKohen-Kalonymus. Muchos se refugiaron en Worms o Speyer.",cities:["Mainz","Worms","Speyer"]}]},{year:"1014",events:[{name:"Masacre en Zaragoza",text:"Durante las guerras del Califato, descendientes de los Kalonymus-HaKohen en Zaragoza fueron asesinados. Sobrevivientes se refugiaron en Toledo y Girona.",cities:["Zaragoza","Toledo","Girona"]}]},{year:"1020",events:[{name:"Moisés ben Kalonymus en Maguncia",text:"Moisés ben Kalonymus HaKohen continuó la tradición rabínica en Maguncia. Autor de piyutim y dayan, fue educado por su padre Meshullam. Casado con Miriam bat David, tuvo tres hijos.",cities:["Maguncia","Lucca"]}]},{year:"1060",events:[{name:"Moisés ben Kalonymus en Maguncia",text:"Desde allí [Lucca] hay seis días de viaje hasta la gran ciudad de Roma. Roma es la cabeza de los reinos de la cristiandad y contiene alrededor de 200 judíos, que ocupan una posición honorable y no pagan tributo, y entre ellos hay funcionarios del papa Alejandro [III], el jefe espiritual de toda la cristiandad. Grandes eruditos residen aquí, a la cabeza de ellos están R. Daniel [Anav], el rabino jefe, y R. Yechiel, un funcionario del papa. Es un joven apuesto, inteligente y sabio, y tiene la entrada al palacio del papa; porque es el administrador de su casa y de todo lo que tiene. Es nieto de R. Natan, que compuso el Aruch y sus comentarios.",cities:["Roma","Lucca"]}]},{year:"1280",events:[{name:"Redacción del Zohar",text:"Se escribe el Zohar, una obra central de la Cábala atribuida tradicionalmente a Rabí Simeón bar Yochai, que profundiza en las nociones místicas de los tzadikim, aunque sin mencionar explícitamente a los 36 justos.",cities:["Castilla"]}]},{year:"1286",events:[{name:"Kalonymus ben Kalonymus",text:"Kalonymus ben Kalonymus HaKohen nació en Arlés. Filósofo, poeta y traductor, estudió en Montpellier y defendió a los judíos en Aviñón. Su obra refleja tensiones entre espiritualidad y filosofía.",cities:["Arlés","Aviñón","Montpellier"]}]},{year:"1291",events:[{name:"Residencia de Mordechai ben Hillel en Núremberg",text:"Mordechai ben Hillel se instala en Núremberg y dirige una yeshivá que atrae estudiantes de toda Europa.",cities:["Núremberg","Goslar"]}]},{year:"1298",events:[{name:"Masacres de Rintfleisch",text:"Mordechai ben Hillel HaKohen, junto con su esposa e hijos, son asesinados en las masacres de Rintfleisch.",cities:["Alemania"]}]},{year:"1306",events:[{name:"Aharon HaCohen de Lunil / Narbona",text:"El rabino Aharon HaCohen, también conocido como Aharon ben Yaakov HaCohen, fue un rabino provenzal activo a finales del siglo XIII y principios del XIV, autor del libro 'Archot Chaim'. Provenía de una familia de eruditos HaKohen de Narbona, Francia, que sufrió la expulsión de los judíos en 1306.",cities:["Narbona","Lunil","Provenza","Mallorca"]},{name:"Linaje HaKohen de Aharon",text:"Aharon menciona en su libro a su abuelo paterno, el rabino David Bar-Yitzhak HaCohen, y a su bisabuelo, el rabino Yitzhak HaCohen, alumno del rabino Asher Ashkenazi. Luego de la expulsión, Aharon emigró a Mallorca, donde estudió con el rabino Shem Tov Falcho.",cities:["Narbona","Mallorca"]}]},{year:"1327",events:[{name:"Obra Orchot Hayyim",text:"Antes de 1327, Aharon HaCohen compone la obra ritual 'Orchot Hayyim' en Mallorca, un compendio de leyes y discusiones talmúdicas.",cities:["Mallorca"]}]}],J2={title:q2,duration:X2,years:K2},Y2="Litvak",$2="1703 - 1898",Z2=[{year:"1703",events:[{name:"Creacion de San Petersburgo",text:"A principios de 1700, en el área que hoy se conoce como Ucrania, a un niño huérfano llamado Israel ben Eleazar le encantaba andar por el bosque, incluso dormir allí durante la noche.",cities:["San Petersburgo","Rusia","Neva"]}]},{year:"1703",events:[{name:"Creacion de San Petersburgo",text:"Pedro el Grande, zar de Rusia, impulsó profundas reformas para modernizar el país y convertirlo en una potencia europea. En 1703 el zar Pedro I fundó San Petersburgo en el delta del río Nevá, tras conquistar territorios suecos en la Gran Guerra del Norte, con el objetivo de abrir una 'ventana a Europa' y establecer una capital estratégica y moderna. La ciudad, construida en condiciones duras y con mano de obra forzada, reemplazó a Moscú como capital en 1712, simbolizando la occidentalización y el ascenso de Rusia como gran potencia. Pedro mantuvo varias esposas y concubinas, incluyendo a Catalina I.",cities:["San Petersburgo","Rusia","Neva"]}]},{year:"1708",events:[{name:"Destrucción de comunidades judías en Ucrania",text:"Durante la Gran Guerra del Norte, las tropas del zar Pedro I fundador del imperio Ruso arrasaron comunidades judías en Ucrania acusadas de colaborar con los suecos. Muchas familias huyeron hacia Galicia y Lituania.",cities:["Chernigov","Galitzia"]}]},{year:"1711",events:[{name:"Expulsiones y restricciones en Sajonia",text:"El elector de Sajonia, Augusto II, ordenó nuevas restricciones a los judíos, limitando su derecho a residir en ciudades y comerciar libremente. Muchas familias buscaron refugio en Prusia y territorios polacos.",cities:["Dresde","Varsovia"]}]},{year:"1715",events:[{name:"Fundación de comunidad jasídica embrionaria",text:"Israel ben Eliezer, conocido como el Baal Shem Tov, con apenas 17 años comenzó a reunir seguidores en pequeñas aldeas de los Cárpatos, como Okopy y Medzhybizh. Nacido en un contexto de pobreza y orfandad, su espiritualidad se caracterizaba por un misticismo accesible y una relación emocional intensa con Dios, en contraste con el formalismo rabínico dominante. Su enseñanza promovía la alegría en el culto y la cercanía directa con lo divino, sentando las bases del jasidismo, un movimiento que revitalizó la vida religiosa judía en Europa del Este durante un periodo de crisis social y política. el Baal Shem Tov, el padre del movimiento jasídico, era un curandero, un herbolario y una especie de chamán, que iba por ahí con su pipa encantada, brindando curación a la gente. No olvidemos que la palabra para hongos ( petriot en hebreo) se menciona varias veces en el Talmud, como señaló la estudiante rabínica Paige Lincenberg en su presentación durante un panel sobre chamanismo judío.",cities:["Okopy","Medzhybizh"]}]},{year:"1717",events:[{name:"Reorganización de las kehilot en Lituania",text:"Las comunidades judías en Lituania enfrentaban crisis económicas y represiones políticas bajo el dominio del Gran Ducado de Lituania y la Mancomunidad Polaco-Lituana. En respuesta, reorganizaron sus kehilot, o consejos comunales, fortaleciendo la autoridad del rabino y los sistemas tradicionales de educación judía. Esta estructura comunal fue clave para la preservación cultural y religiosa en un entorno marcado por la inestabilidad y la presión externa, preparando el terreno para movimientos renovadores como el jasidismo y el mitnagdim (opositores al jasidismo).",cities:["Vilna","Kovno"]}]},{year:"1740",events:[{name:"Nacimiento del Jasidismo",text:"El movimiento jasídico se desarrolla en Europa del Este con figuras como el Baal Shem Tov, reafirmando la idea de que en cada generación existen justos ocultos que sostienen el mundo.",cities:["Medzhybizh"]}]},{year:"1777",events:[{name:"Yaakov Yosef HaKohen de Polnoy",text:"Muere el 19 de junio Yaakov Yosef HaKohen, principal discípulo del Baal Shem Tov y autor del primer libro jasídico impreso: 'Toldot Yaakov Yosef'. Fue clave en la expansión del jasidismo en Ucrania.",cities:["Polnoy","Medzhybizh"]}]},{year:"1778",events:[{name:"José II de Habsburgo",text:"Se inaugura la Ópera Estatal de Viena durante el reinado de José II, hijo de María Teresa. El emperador impulsa reformas ilustradas que transforman el Imperio, especialmente en educación y tolerancia religiosa.",cities:["Viena"]}]},{year:"1779",events:[{name:"Illuminatis",text:"La Orden de los Iluminados (Illuminati), fundada por Adam Weishaupt, gana influencia en círculos académicos y aristocráticos. Sus ideales racionalistas buscan combatir la superstición y el absolutismo clerical.",cities:["Ingolstadt","Múnich"]}]},{year:"1780",events:[{name:"María Teresa de Austria",text:"Muere María Teresa el 29 de noviembre de 1780. Su reinado marcó la transición entre el absolutismo tradicional y las reformas ilustradas. Fue una figura clave en la política europea del siglo XVIII.",cities:["Viena"]}]},{year:"1781",events:[{name:"José II de Habsburgo",text:"Promulga el Edicto de Tolerancia que concede derechos civiles limitados a protestantes, ortodoxos y judíos. Aunque seguían existiendo restricciones, fue un paso hacia la emancipación en el Imperio Habsburgo. ",cities:["Viena","Praga","Bratislava"]}]},{year:"1782",events:[{name:"Elías ben Shlomó Zalman (Gaón de Vilna)",text:"Redacta comentarios críticos a la Mishná y textos cabalísticos. Se intensifica su oposición al jasidismo, promoviendo un judaísmo racionalista, disciplinado y textual, en contraste con la mística emocional del Besht.",cities:["Vilna"]}]},{year:"1783",events:[{name:"Naphtali Wessely",text:"Publica 'Divrei Shalom ve-Emet', apoyando las reformas ilustradas de José II y abogando por la integración cultural de los judíos en la sociedad alemana. Es un hito de la Haskalá, o Ilustración judía.",cities:["Berlín","Viena"]}]},{year:"1784",events:[{name:"Adam Weishaupt",text:"La Orden de los Iluminados es prohibida en Baviera tras presiones de la Iglesia y la nobleza. Documentos confiscados revelan su organización secreta, provocando escándalo en Europa.",cities:["Múnich","Ingolstadt"]}]},{year:"1785",events:[{name:"Miklos Sinay",text:"En su vejez, Miklos Sinay escribe ensayos teológicos y políticos influenciados por el pensamiento ilustrado protestante. Defiende una reforma universitaria integral y la educación laica.",cities:["Debrecen","Viena"]}]},{year:"1786",events:[{name:"Moses Mendelssohn",text:"Muere el 4 de enero Moses Mendelssohn, filósofo judío alemán y figura clave de la Haskalá. Promovió el diálogo entre judaísmo y modernidad, y tradujo la Torá al alemán en caracteres hebreos.",cities:["Berlín"]}]},{year:"1787",events:[{name:"José II de Habsburgo",text:"Ordena nuevas reformas centralizadoras que limitan el poder de la nobleza y la Iglesia. Entre ellas, establece el matrimonio civil y reforma el sistema judicial, pero genera resistencias en Hungría y los Países Bajos.",cities:["Viena","Buda","Bruselas"]}]},{year:"1788",events:[{name:"Elías ben Shlomó Zalman (Gaón de Vilna)",text:"Comienza a redactar sus comentarios sobre el Zohar y textos cabalísticos clásicos, intentando conciliar mística y halajá desde una óptica racional. Su autoridad rabínica se afianza en Europa Oriental.",cities:["Vilna"]}]},{year:"1789",events:[{name:"Revolución Francesa",text:"El estallido de la Revolución Francesa introduce los principios de ciudadanía, secularismo e igualdad jurídica. La Asamblea Nacional debate por primera vez el estatus de los judíos franceses.",cities:["París"]}]},{year:"1790",events:[{name:"Marquis de Clermont-Tonnerre",text:"El 23 de diciembre defiende en la Asamblea Francesa la igualdad de derechos para los judíos: 'A los judíos como individuos, todo; como nación, nada'. Es una frase clave en la emancipación moderna.",cities:["París"]}]},{year:"1791",events:[{name:"Revolución Francesa",text:"La Asamblea Nacional otorga ciudadanía plena a los judíos franceses el 28 de septiembre, marcando el inicio formal de la emancipación judía en Europa occidental.",cities:["París","Alsacia","Lorena"]}]},{year:"1792",events:[{name:"República Francesa",text:"Se proclama la Primera República Francesa. Se intensifican las tensiones con las monarquías absolutistas europeas, incluidas Austria y Prusia, donde el antisemitismo aún domina la legislación.",cities:["París","Viena","Berlín"]}]},{year:"1793",events:[{name:"Revolución Francesa",text:"Durante el Reinado del Terror, numerosos judíos son perseguidos por sus vínculos con el comercio y la nobleza. Sin embargo, los derechos adquiridos no son revocados oficialmente.",cities:["París","Burdeos"]}]},{year:"1794",events:[{name:"Kether Shem Tov",text:"Se imprime por primera vez 'Kether Shem Tov', una recopilación de enseñanzas del Baal Shem Tov. Marca el paso del jasidismo oral al texto escrito, consolidando la memoria del movimiento.",cities:["Slavita","Medzhybizh"]},{name:"Elías ben Shlomó Zalman (Gaón de Vilna)",text:"En Vilna se queman públicamente obras jasídicas como el Zawaat Ribash. El Gaón de Vilna intensifica su rechazo al jasidismo y prohíbe matrimonios y rituales conjuntos con jasidim. Sostiene una vida retirada, se niega a asumir cargos rabínicos y defiende el estudio de ciencias naturales como herramienta para comprender la Torá.",cities:["Vilna"]}]},{year:"1795",events:[{name:"Tercera Partición de Polonia",text:"Se consuma la tercera partición de Polonia entre Rusia, Prusia y Austria. Miles de comunidades judías quedan bajo control zarista, comenzando una era de restricciones y pogromos.",cities:["Varsovia","Vilna","Lviv"]}]},{year:"1796",events:[{name:"Aaron HaLevi ben Moses de Staroselye",text:"Instiga a Shneur Zalman de Liadi a publicar el 'Tanya', obra fundacional del jasidismo de Jabad. El libro aparece en Slavita y comienza a circular como guía espiritual para el 'hombre promedio'.",cities:["Slavita","Liadi"]}]},{year:"1797",events:[{name:"Partición de Polonia",text:"La supremacía polaca llega a su fin tras la tercera partición del país. Las comunidades judías son incorporadas al Imperio Ruso, al Imperio Austriaco y a Prusia.",cities:["Varsovia","Vilna","Cracovia"]}]},{year:"1798",events:[{name:"Aaron HaLevi de Staroselye",text:"Viaja por pueblos de Europa del Este para reunir dinero y sobornar guardias a fin de visitar a su maestro, Shneur Zalman, encarcelado por decreto real. Se refuerza el liderazgo de la rama Jabad en tiempos de persecución.",cities:["Liadi","Vítebsk","Liozna"]}]},{year:"1803",events:[{name:"Miklos Sinay",text:"Se retira de la vida pública. El botánico Sámuel Diószegi se despide de él en el cementerio protestante de Debrecen. Su escudo familiar representa una pirámide y una serpiente, símbolos de su trabajo en historia de la iglesia y antigüedades.",cities:["Debrecen"]}]},{year:"1806",events:[{name:"Zsigmond Sinay",text:"Nace Zsigmond, hijo de Sándor Sinay. En este mismo año, fuerzas inglesas invaden Buenos Aires y son derrotadas por milicias criollas lideradas por Santiago de Liniers.",cities:["Buenos Aires","Debrecen"]}]},{year:"1807",events:[{name:"Ducado de Varsovia",text:"Se establece el Ducado de Varsovia por Napoleón I tras el Tratado de Tilsit. Gobernado por Federico Augusto I de Sajonia, simboliza el renacimiento polaco. Mientras tanto, una segunda invasión inglesa a Buenos Aires es repelida.",cities:["Varsovia","Buenos Aires"]}]},{year:"1808",events:[{name:"Miklos Sinay",text:"Muere Miklos Sinay en Debrecen. Su legado perdura en la teología protestante húngara y en estudios filológicos sobre la Antigüedad.",cities:["Debrecen"]}]},{year:"1810",events:[{name:"Revolución de Mayo",text:"Estalla la Revolución de Mayo en Buenos Aires. Los pueblos originarios del norte argentino y del Chaco sufren ataques por parte del ejército revolucionario en su afán por consolidar el control del territorio.",cities:["Buenos Aires","Salta","Chaco"]}]},{year:"1811",events:[{name:"Junta Grande",text:"Se amplía el poder ejecutivo con la creación de la Junta Grande, incorporando representantes de las provincias interiores del Virreinato del Río de la Plata.",cities:["Buenos Aires","Córdoba","Tucumán"]}]},{year:"1812",events:[{name:"Aaron de Staroselye",text:"Tras la muerte de Shneur Zalman, Aaron se establece como rabino en Staroselye. Atrae discípulos y funda una corriente jasídica propia conocida como los Jasidim de Staroselye.",cities:["Staroselye"]}]},{year:"1813",events:[{name:"Hirsch Ascenso familiar",text:"El abuelo paterno de Samson Raphael Hirsch es ennoblecido tras financiar la formación de un regimiento bávaro contra Napoleón. La familia judía gana prestigio en el sur de Alemania.",cities:["Múnich","Frankfurt"]}]},{year:"1814",events:[{name:"Nacimiento de Miklos III Sinay",text:"Nace Miklos Sinay III, descendiente de una línea protestante ilustrada. Ese mismo año, el Segundo Triunvirato establece las Provincias Unidas del Río de la Plata.",cities:["Debrecen","Buenos Aires"]}]},{year:"1818",events:[{name:"Karl Marx",text:"Nace en Tréveris Moisés Mordecai Marx Levi, luego conocido como Karl Marx. Criado en el protestantismo, desarrollará una crítica radical al judaísmo como expresión del mercantilismo burgués.",cities:["Tréveris"]}]},{year:"1820",events:[{name:"Aaron de Staroselye",text:"Publica en Shklov su obra 'Sha'are Abodah' ('Las puertas del servicio'), donde sistematiza la teología jasídica de Jabad con enfoque en la devoción diaria, la unidad divina y la introspección.",cities:["Shklov"]}]},{year:"1826",events:[{name:"Bernardino Rivadavia",text:"Es nombrado el primer presidente de las Provincias Unidas del Río de la Plata bajo un régimen unitario. Su breve mandato intenta modernizar las instituciones al estilo europeo.",cities:["Buenos Aires"]}]},{year:"1830",events:[{name:"Adam Weishaupt",text:"Muere en Gotha el fundador de los Illuminati de Baviera, Adam Weishaupt. Tras recibir protección del duque Ernesto II de Sajonia-Altenburgo, escribió obras en defensa del iluminismo racionalista y republicano, denunciando su persecución en Baviera.",cities:["Gotha"]},{name:"Emilia Plater",text:"Emilia Plater participa activamente en el Levantamiento de Noviembre contra el Imperio ruso. Convertida en símbolo del nacionalismo polaco-lituano, lucha vestida como hombre en las guerrillas patriotas del este europeo.",cities:["Vilna","Lituania"]}]},{year:"1831",events:[{name:"Moritz von Hirsch",text:"Nace en Múnich Moritz von Hirsch, heredero de una poderosa familia judía bávara. Su abuelo paterno fue ennoblecido por financiar un regimiento bávaro durante las guerras napoleónicas.",cities:["Múnich"]}]},{year:"1843",events:[{name:"Zona de Asentamiento",text:"El zar Nicolás I ordena la expulsión de los judíos en un radio de 80 km de la frontera con el Imperio austríaco, profundizando las restricciones dentro de la Zona de Asentamiento. Las provincias de Astracán y el Cáucaso son excluidas de la zona.",cities:["Kiev","Astracán","Cáucaso Norte"]}]}],Q2={title:Y2,duration:$2,years:Z2},eC="Los Secretos del Sinay",tC="1480 - 1703",nC=[{year:"1480",events:[{name:"Jaim Ben Chaim de Worms",text:"Rabino destacado en Worms, parte de la comunidad asquenazí que mantuvo la tradición rabínica durante persecuciones a finales del siglo XV.",cities:["Worms"]}]},{year:"1492",events:[{name:"Expulsión de los judíos de España",text:"El edicto de expulsión decretado por los Reyes Católicos dispersó a judíos hacia Italia, el Imperio Otomano y otras regiones, afectando a las comunidades asquenazíes y sefardíes.",cities:["España","Italia","Imperio Otomano"]}]},{year:"1520",events:[{name:"Nacimiento del Maharal de Praga y Solomon Ashkenazi",text:"Judah Loew ben Bezalel, el Maharal de Praga, nace en Poznań o Worms. Ese mismo año nace Solomon ben Nathan Ashkenazi en el Imperio Otomano, médico y diplomático.",cities:["Poznań","Worms","Imperio Otomano"]}]},{year:"1522",events:[{name:"Judah Leib el Viejo",text:"Judah Leib el Viejo, rabino checo en Praga y ancestro del Maharal, fallece. Su tumba de 1539 marca un hito genealógico para la línea davídica asquenazí.",cities:["Praga"]}]},{year:"1530",events:[{name:"Mordecai ben Avraham Yoffe",text:"Nace en Praga Mordecai ben Avraham Yoffe, rabino y autor del 'Levush Malkhut', obra clave en el judaísmo de Europa del Este.",cities:["Praga"]}]},{year:"1535",events:[{name:"Construcción de la Sinagoga Pinkas",text:"La Sinagoga Pinkas se erige en Praga bajo la dirección del rabino Aharon Meshulam Horowitz, como lugar de memoria para la comunidad asquenazí.",cities:["Praga"]}]},{year:"1540",events:[{name:"Avraham Halevi Horowitz",text:"Nacido en Praga, estudió con el Maharal y el Rema, y se destacó como juez rabínico y autor de filosofía y ética judía.",cities:["Praga","Cracovia"]}]},{year:"1553",events:[{name:"Mordecai ben Abraham Jaffe",text:"Nombrado director de la yeshivá en Praga, promovió el estudio riguroso del Talmud y combatió el descuido talmúdico.",cities:["Praga"]}]},{year:"1555",events:[{name:"Isaiah Horowitz",text:"Nace Isaiah Horowitz en Praga, discípulo del Rema, futuro promotor del estudio de la Torá en Jerusalén.",cities:["Praga"]}]},{year:"1561",events:[{name:"Mordecai ben Avraham Yoffe en Venecia",text:"Tras la expulsión de Bohemia, Yoffe estudia astronomía en Venecia hasta 1571.",cities:["Praga","Venecia"]}]},{year:"1570",events:[{name:"Mordechai HaKohen de Alepo",text:"Rabino de Alepo, impulsó academias talmúdicas y renovó el estudio comunitario en la región.",cities:["Alepo"]}]},{year:"1571",events:[{name:"Mordecai ben Avraham Yoffe en Grodno y Lublin",text:"Elegido rabino de Grodno y luego de Lublin, lideró el influyente Consejo de las Cuatro Tierras.",cities:["Grodno","Lublin"]}]},{year:"1580",events:[{name:"Juan Frayle en Vega de Bur",text:"Juan Frayle y su hermano Toribio, descendientes de un judío converso, establecen el apellido Frayle en Vega de Bur (Palencia), España, tras la expulsión de 1492.",cities:["Vega de Bur"]},{name:"Refundación de Buenos Aires",text:"Juan de Garay refunda Buenos Aires en 1580 como parte del Virreinato del Perú, asegurando el control español en la región y desplazando a los pueblos originarios.",cities:["Buenos Aires"]}]},{year:"1581",events:[{name:"Juicios de Trier",text:"Entre 1581 y 1593 en Trier (Alemania) se llevan a cabo masivas persecuciones por brujería impulsadas por el príncipe-arzobispo Johann von Schönenberg.",cities:["Trier"]}]},{year:"1582",events:[{name:"Creación de Salta",text:"En 1582 se funda la ciudad de Salta en el actual noroeste de Argentina, consolidando la colonización española.",cities:["Salta"]}]},{year:"1583",events:[{name:"Marshall de Praga combate calumnias",text:"Marshall de Praga denuncia en 1583 las calumnias sobre la legitimidad matrimonial en Moravia, utilizando sermones públicos para proteger a familias asquenazíes.",cities:["Moravia"]}]},{year:"1585",events:[{name:"Jaim HaCohen de Alepo",text:"Nace en Egipto el rabino Jaim HaCohen (1585–1655), quien se traslada a Safed y luego a Alepo, donde revitaliza el estudio de la Torá y demuestra heroísmo al salvar manuscritos ante un ataque de piratas.",cities:["Egipto","Safed","Alepo"]}]},{year:"1586",events:[{name:"Esteban Bocskai",text:"Esteban Bocskai (1557–1606), noble húngaro, ejerce gran influencia en Transilvania y Polonia. Aunque no es rabino, su diplomacia afecta rutas comerciales donde intervenían médicos y mercaderes judíos.",cities:["Kolozsvár","Praga","Viena"]}]},{year:"1592",events:[{name:"Marshall de Praga ante Rodolfo II",text:"El 23 de febrero de 1592, Marshall de Praga se reúne con el emperador Rodolfo II en Praga junto a su hermano Sinaí y su yerno Isaac Cohen, discutiendo la Cábala.",cities:["Praga"]}]},{year:"1595",events:[{name:"Abraham Halevi Horowitz en Lviv",text:"En 1595 Abraham Halevi Horowitz es elegido juez rabínico en Lviv. Sus hijos, como Yaakov Me’Ferashin e Isaiah Horowitz, continúan su legado escribiendo importantes obras halájicas y éticas.",cities:["Lviv"]}]},{year:"1599",events:[{name:"Primer bautizo Frayle en Vega de Bur",text:"El 2 de agosto de 1599 Toribio Frayle, hijo de Juan Frayle y María Barba, se convierte al cristianismo en Vega de Bur, consolidando la línea converso Frayle en Palencia.",cities:["Vega de Bur"]}]},{year:"1600",events:[{name:"Contexto en Lucania",text:"En 1600, Lucania (hoy Basilicata) formaba parte del Reino de Nápoles bajo corona española. El apellido Verrastro, derivado de 'jabalí', recuerda a colonos y mercaderes asentados en la región.",cities:["Lucania"]}]},{year:"1609",events:[{name:"Muerte del Maharal de Praga",text:"El 17 de septiembre de 1609 fallece Judah Loew ben Bezalel, el Maharal de Praga, en Praga. Fue un destacado talmudista y místico que influyó en la tradición asquenazí por generaciones.",cities:["Praga"]}]},{year:"1618",events:[{name:"Inicio de la Guerra de los 30 Años",text:"En 1618 comienza la Guerra de los Treinta Años entre católicos y protestantes. Varias comunidades asquenazíes en Bohemia y Alemania son expulsadas y sufren persecuciones bajo la ocupación imperial.",cities:["Praga","Viena","Breslau"]}]},{year:"1621",events:[{name:"Paz de Nikolsburg",text:"El 31 de diciembre, durante la Guerra de los Treinta Años, se firmó la Paz de Nikolsburg. Gábor Bethlen renunció al título de rey de Hungría a cambio de que el emperador Fernando II ratificara el Tratado de Viena de 1606, que reconocía la independencia de Transilvania y la libertad religiosa.",cities:["Nikolsburg"]}]},{year:"1628",events:[{name:"Piratas y comerciantes judíos",text:"Moses Cohen Henriques, pirata sefardí, colaboró con Piet Hein para capturar la flota del tesoro español en la bahía de Matanzas, Cuba. La operación, sin derramamiento de sangre, permitió a los holandeses apoderarse de oro, plata e índigo, contribuyendo luego a la fundación de la colonia de Nueva Holanda en Brasil.",cities:["Matanzas","Ámsterdam"]}]},{year:"1630",events:[{name:"Represión contra pueblos originarios",text:"Entre 1630 y 1700, los pueblos originarios como los Mapuches y Vilelas sufrieron matanzas por parte de colonizadores españoles en Argentina, como parte de expediciones de sometimiento territorial.",cities:["Mapu","Tucumán"]}]},{year:"1648",events:[{name:"Paz de Westfalia",text:"El 24 de octubre se firmaron los tratados de Osnabrück y Münster, poniendo fin a la Guerra de los Treinta Años y estableciendo el principio moderno de soberanía nacional en Europa.",cities:["Münster","Osnabrück"]}]},{year:"1654",events:[{name:"Moisés Henriques huye de Brasil",text:"Tras la reconquista portuguesa del norte de Brasil, Moisés Cohen Henriques escapó y terminó como asesor de Henry Morgan, el célebre pirata del Caribe.",cities:["Recife","Caribe"]}]},{year:"1668",events:[{name:"Saqueo de Puerto Príncipe",text:"El 29 de marzo, filibusteros atacaron Puerto Príncipe, enfrentando a milicias locales. Encerraron vecinos en iglesias, torturaron para obtener riquezas y usaron tácticas de terror similares a las de 'El Olonés'.",cities:["Puerto Príncipe"]}]},{year:"1674",events:[{name:"Morgan nombrado gobernador",text:"Tras saqueos en Panamá y presión diplomática, Henry Morgan fue enviado a Inglaterra. En 1674, fue nombrado caballero y regresó a Jamaica como Teniente de Gobernador.",cities:["Londres","Jamaica"]}]},{year:"1698",events:[{name:"Nacimiento del Baal Shem Tov",text:"Nace Israel ben Eliezer, más tarde conocido como el Baal Shem Tov, fundador del jasidismo. Vivió en la actual Ucrania y renovó la espiritualidad judía asquenazí con un enfoque místico y alegre.",cities:["Okopy","Medzhybizh"]}]},{year:"1703",events:[{name:"Reclutamiento forzado de judíos en el ejército ruso",text:"Durante el reinado de Pedro el Grande, el Imperio ruso intensificó el reclutamiento de jóvenes judíos para su ejército. Las comunidades asquenazíes en Lituania y Polonia intentaron resistir mediante sobornos o envío de miembros menos aptos.",cities:["Vilna","San Petersburgo"]}]}],iC={title:eC,duration:tC,years:nC},aC=[{year:"1250 a.C.",male:"Aaron Hakohen",female:"Miriam"},{year:"1200 a.C.",male:"Eleazar",female:"?"},{year:"c. 20 a.C. - 10 d.C.",male:"Herodes el Grande (hakohen supervisando Templo)",female:"Mical (resistencia femenina)"},{year:"c. 6-4 a.C.",male:"Sacerdotes Magoi (hakohen astrólogos)",female:"No documentado"},{year:"c. 4 a.C.",male:"Herodes el Grande",female:"No documentado"},{year:"c. 10-30 d.C.",male:"Rabban Gamaliel I",female:"Ima Shalom (sabia y mujer influyente)"},{year:"c. 50-70 d.C.",male:"Simeon ben Gamaliel",female:"Yalta (mujer fuerte en el Talmud)"},{year:"1850",male:"Mordejai Reuben Hakohen Sinay",female:"Rifka (Reina) "},{year:"1898",male:"León (Arn Leowe) Sinay",female:"Ana"},{year:"reconstruccion",male:"Abraham",female:"Rosa"},{year:"1991",male:"Lidiador Sinay",female:"Lidia Dora Sinay"}],rC=({year:t,male:e,female:n})=>ee.jsxs("aside",{style:{position:"fixed",right:0,top:"40%",width:220,padding:"1rem",backgroundColor:"#eef0ff",borderRadius:8,boxShadow:"0 2px 12px rgba(90, 79, 255, 0.2)",fontStyle:"italic",color:"#333",maxWidth:"90vw",zIndex:100},children:[ee.jsxs("h3",{style:{marginTop:0,marginBottom:"1rem",color:"#222"},children:["Protagonistas Hakohen - ",t]}),ee.jsxs("p",{children:[ee.jsx("strong",{children:"Masculino:"})," ",e]}),ee.jsxs("p",{children:[ee.jsx("strong",{children:"Femenino:"})," ",n]})]}),oC="Abominable",sC="1991 - hoy",lC=[{year:"1991",events:[{name:"Nacimiento de Lidiador",text:"El 6 de febrero de 1991 a las 21:55 hs nací en Buenos Aires. Un día húmedo de verano, la historia comenzó.",cities:["Buenos Aires","Argentina"]}]},{year:"1993",events:[{name:"Desmentido del Priorato de Sion",text:"Pierre Plantard admite ante un tribunal francés que el Priorato de Sion fue una invención. La conspiración se cae oficialmente."}]},{year:"1994",events:[{name:"Atentado a la AMIA",text:"Mueren 85 personas. En los escombros se rescatan 60.000 libros, 9.000 fotos, 120 pinturas, 17 instrumentos musicales y 32.000 diarios y revistas. La memoria se reconstruye con dolor y rescate.",cities:["Buenos Aires"]},{name:"Inicio del colegio",text:"Comienza el colegio de monjas. Lloraba. Una infancia marcada por la imposición y el llanto contenido."}]},{year:"1997",events:[{name:"Arlt y el Rufián Melancólico",text:"Se publica 'La verdadera historia del Rufián Melancólico', revelando supuestos vínculos entre Roberto Arlt y Raquel Liberman con los tratantes de blancas. El pasado toma forma de novela y denuncia."},{name:"Mudanza a Lomas",text:"Lidiador se muda a Lomas de Zamora. Cambio de barrio, cambio de ritmo."}]},{year:"2001",events:[{name:"Crisis del 2001",text:"De la Rúa huye en helicóptero. Estallido social. La calle arde y el país también."}]},{year:"2007",events:[{name:"Árbol genealógico",text:"Empieza la búsqueda del linaje. Las ramas del pasado comienzan a desplegarse con fuerza."}]},{year:"2009",events:[{name:"Mayoría de edad",text:"El 6 de febrero cumplo 18 años. Arranca el CBC. Afuera la gripe porcina, adentro los sueños de juventud.",cities:["Buenos Aires"]},{name:"Carta de Horacio",text:"El 9 de junio, Javier recibe un mail de su padre Horacio: 'Tu bisabuelo' —una pista sobre un crimen en 1889. Se abre la caja de Pandora familiar.",people:["Javier","Horacio"]},{name:"Viaje iniciático",text:"Javier viaja en tren a Santa Fe leyendo '50 años de colonización judía en la Argentina' de José Mendelson. Baja en Rafaela, duerme en un hotelucho, toma un micro a Moisés Ville. Camina por la calle Baron Hirsch, entre huellas y memorias.",cities:["Santa Fe","Rafaela","Moisés Ville"]}]},{year:"2010",events:[{name:"Encuentro con Pine Katz",text:"Javier encuentra el libro de Pine Katz. Las piezas del rompecabezas comienzan a encajar en un relato inquietante."}]},{year:"2011",events:[{name:"Cine documental",text:"Filma 'Laguna' y 'Hasta el cielo'."}]},{year:"2013",events:[{name:"Publicación de 'Los crímenes de Moisés Ville'",text:"La investigación se transforma en libro. Javier revela una historia silenciada. La tinta denuncia lo que el tiempo intentó ocultar.",people:["Javier Sinay"]},{name:"Reiki",text:"Me inicio en reiki"}]},{year:"2015",events:[{name:"Rodaje de 'Santos'",text:"Comienza el rodaje de 'Santos'."}]},{year:"2016",events:[{name:"Estreno de 'Santos'",text:"Se estrena 'Santos'. mi primer largometraje."}]},{year:"2018",events:[{name:"Lectura de Mirelman",text:"5 de febrero. Lectura de 'Jewish Buenos Aires, 1890–1939: In Search of an Identity' de Victor A. Mirelman. El espejo de una comunidad y sus contradicciones."}]},{year:"2021",events:[{name:"Caja de Letras",text:"Javier Sinay publica 'Caja de letras'. La memoria familiar y colectiva se sedimenta en el papel.",people:["Javier Sinay"]},{name:"Tiempo de Aportes",text:"Nerina Visacovsky publica 'La Tribuna icufista: Tiempo de Aportes'. Las voces del judaísmo progresista resuenan."}]},{year:"2022",events:[{name:"El infierno prometido",text:"Gastón Ortiz Bandes publica 'El infierno prometido', una novela histórica pop sobre trata de mujeres. La ficción como testimonio.",people:["Gastón Ortiz Bandes"]}]},{year:"2024",events:[{name:"Revelación",text:"22 de mayo, 22:32 hs. Paranoia, miedo, angustia, enojo, ansiedad. A partir del hallazgo de la Zwi Migdal, todo salió a la luz. La Polaquita, Tierra de amor y venganza, la trilogía de la trata. Golpes fuertes al corazón, presión baja cada vez que encontraba una frase clave. Llevé la cámara a lo de mi abuela. Me crucé con mi prima Rocío y mi tía Silvina. Llegaban justo mi tío y Vale. Vi a mi tío Dito. Era justo lo que necesitaba.",cities:["Buenos Aires"],people:["Rocío","Silvina","Dito","Vale"]},{name:"La promesa",text:"Esa concepción patética del mundo. La tierra prometida. Los recursos naturales. Argentina. La promesa es para ellos. El mensaje es el mismo. Siempre estuvo ahí."}]}],cC={title:oC,duration:sC,years:lC},uC="Impuros",dC="1931 - 1942",fC=[{year:"1931",events:[{name:"Revocación de procesamientos y libertades a rufianes",text:"Principios de 1931 se rumoreaba que los rufianes serían liberados y el 27 de enero la Cámara de Apelaciones, integrada por los jueces Oribe y Ortiz de Rozas, revocó los procesamientos del juez Rodríguez Ocampo y ordenó las libertades tras negar el valor de las pruebas recolectadas y las denuncias de las mujeres contra los proxenetas, ya que 'no se acreditaban hechos de corrupción'."},{name:"Misterio de la Unión Hebraica y rufianes judíos",text:"La Unión Hebraica no figura oficialmente dentro de las instituciones de la colectividad judía en Rosario y su existencia quedó marginada. Parecería haber sido una pantalla de rufianes judíos radicados en Rosario. Saúl Friedman, uno de sus directivos, fue detenido en una redada en mayo de 1930 en una casa donde funcionaba una sinagoga frecuentada por elementos de mal vivir."},{name:"Colectividad judía y exclusión de proxenetas",text:"Los dirigentes de la colectividad judía impidieron el ingreso de los proxenetas a los templos y prohibieron celebrar entierros religiosos de tratantes de blancas. Los caftens formaban sociedades de socorros mutuos, siendo la más conocida la Varsovia, que en 1929 cambió su nombre a Zwi Migdal, con interés genuino de sostener su religiosidad."}]},{year:"1932",events:[{name:"Manuscrito MiHIL a Reyzen",text:"MiHIL entrega el manuscrito a Reyzen."},{name:"Antonio Berni y Rosario Gráfico",text:"Antonio Berni, recién llegado de Europa, utilizó una cámara Leica para trabajar. Publicó tres fotos en Rosario Gráfico del 11 de febrero de 1932 que mostraban la ciudad de Rosario y sus burdeles, describiendo la represión y tolerancia calculada de la moral burguesa."},{name:"Investigación clandestina sobre prostíbulos",text:"Rodolfo Puiggrós encargó a Berni fotografiar clandestinamente el interior de prostíbulos para ilustrar un artículo, eligiendo lugares con buena luz natural para evitar ser descubierto."},{name:"Ley de sábado inglés y casas de tolerancia",text:"El 7 de octubre de 1932 se sancionó la ley de sábado inglés. Rosa Weismann, Sofía Pais y Anita Baram de Smith presentaron a la Comisión de Fomento de Pagani dos casas de tolerancia en Granadero Baigorria."},{name:"Agustín P. Justo asume la presidencia",text:"Agustín P. Justo asumió como presidente de Argentina en 1932, representando al Partido Concordancia."}]},{year:"1933",events:[{name:"Solicitud para cementerio israelita en Granadero Baigorria",text:"El 4 de abril de 1933, representantes de la Unión Hebraica de Rosario solicitaron permiso para instalar un cementerio de ritual hebreo en Granadero Baigorria. La mafia obtuvo permiso para construirlo y lo denominó Zwi Migdal, en homenaje a Luis Migdal."},{name:"Asesinato de Juan Ruggero y funeral",text:"Muere asesinado Juan Ruggero, el Matón de Barceló (Don Alberto), quien organizó su propio funeral."},{name:"Hechos políticos destacados",text:"Firma del Pacto Roca-Runciman en 1933, beneficiando a exportadores argentinos. Continuación del fraude electoral durante la Década Infame."}]},{year:"1934",events:[{name:"Inauguración del Cementerio Israelita de Granadero Baigorria",text:"El Cementerio Israelita se inauguró en 1934 en un terreno adyacente al Cementerio El Redentor. Allí están enterrados varios antiguos proxenetas, madamas y pupilas de Pichincha. El predio fue comprado por la Unión Hebraica de Rosario, que lo administró hasta 1959 cuando lo cedió a la comuna local."},{name:"Sanción de ley de indemnización",text:"En 1934 se sancionó la ley de indemnización."}]},{year:"1935",events:[{name:"Publicaciones de Miguel sobre educación judía",text:"Miguel publicó 'La conexión entre los padres judíos y la educación de sus hijos' en 'Di idishe tsaytung' en octubre de 1935."},{name:"Formación y escisión del Haganah",text:"Los jefes de la Agencia Judía concibieron la inmigración como colonización armada y construyeron la organización semiclandestina Haganah, de la que en 1935 se separó el grupo terrorista de ultraderecha Irgun."}]},{year:"1936",events:[{name:"Primera rebelión palestina contra ingleses",text:"En 1936 comenzó la primera rebelión palestina contra los ingleses, que duró tres años y causó miles de muertos."},{name:"David Hacohen y el boicot a árabes",text:"David Hacohen, miembro de la Histradut, recordó las campañas para boicotear productos árabes como parte de la soberbia racial judía."}]},{year:"1937",events:[{name:"Desbaratamiento del grupo Zwi Migdal y cambio político",text:"La policía de Rosario reprimió la actividad prostibularia tras el desbaratamiento en Buenos Aires del grupo de traficantes de la Zwi Migdal, mientras la política local adoptó ideas abolicionistas."},{name:"Pine Katz representa a Argentina en YCUF",text:"Pine Katz actuó en representación de Argentina en YCUF."}]},{year:"1938",events:[{name:"Roberto M. Ortiz presidente",text:"Roberto M. Ortiz asumió la presidencia de Argentina (1938-1942), representando al Partido Concordancia. Intentó combatir el fraude electoral y renunció por enfermedad en 1942."}]},{year:"1939",events:[{name:"Publicación del Libro Blanco británico",text:"En mayo de 1939 el gobierno británico publicó un Libro Blanco que limitaba la inmigración judía a Palestina y prometía no imponer nacionalidad judía a los árabes. Sin embargo, entre 1920 y 1939 la proporción de judíos en Palestina subió del 10% al 30%."}]},{year:"1940",events:[{name:"Ben Gurion y la alianza con Gran Bretaña",text:"Ben Gurion declaró que lucharían junto a Gran Bretaña en la guerra como si el Libro Blanco no existiera, e intensificaron la inmigración clandestina a Palestina, desafiando el bloqueo inglés. El hundimiento del buque Patria causó la muerte de 250 refugiados."},{name:"Resistencia y represión mapuche en el siglo XX",text:"Durante el siglo XX, los pueblos originarios, especialmente los mapuches, enfrentaron represión y desplazamiento por la expansión agrícola y extracción de recursos naturales en Argentina."}]},{year:"1941",events:[{name:"Fundación del ICUF y activismo de Rubén Sinay",text:"En abril de 1941 Pine Katz fundó el ICUF. Rubén Sinay se destacó como activista peronista."}]},{year:"1942",events:[{name:"Matrimonio de Lidia y Eduardo y política sindical",text:"En Buenos Aires, Lidia y Eduardo se casaron. Lidia renunció al judaísmo. Borlenghi, representante de empleados de comercio desde 1935, fue electo presidente del segundo congreso de la CGT en diciembre de 1942."}]},{year:"1955",events:[{name:"Golpe de Estado y Revolución Libertadora",text:"El 16 de septiembre de 1955, un golpe de Estado derrocó al gobierno de Juan Domingo Perón, quien estaba en su segundo mandato. La Revolución Libertadora instauró una dictadura militar, prohibió el peronismo y persiguió a sus seguidores. La SIDE pierde relevancia tras el golpe y la caída de Perón.",cities:["Buenos Aires","Argentina"]},{name:"CGT Rosario y sindicalismo",text:"Samuel Sinay y Marcos Méndez, de la CGT Rosario, expresaron críticas a las demandas empresariales que reflotarían el poder oligárquico y desconocerían conquistas obreras. En la capital del peronismo, la CGT fue desalojada a punta de bayonetas y detenido su secretario general, el Ruso Sinay, obrero estatal y autor de novelas sobre problemática juvenil.",cities:["Rosario","Argentina"]}]},{year:"1956",events:[{name:"Guerra de Suez y Priorato de Sion",text:"En 1956, durante la guerra del Sinaí, los refugiados palestinos vieron el avance de tanques israelíes y la ocupación británica y francesa del Canal de Suez. Ese año Pierre Plantard inventó el Priorato de Sion, una sociedad secreta falsa que se popularizó más tarde con El Código Da Vinci.",cities:["Sinaí","Francia","Palestina"]},{name:"La huelga de los locos",text:"Movimiento sindical y social en Argentina en el contexto de conflictividad laboral y política.",cities:["Argentina"]}]},{year:"1958",events:[{name:"Arturo Frondizi",text:"Presidente de Argentina entre 1958 y 1962. Llegó con apoyo de sectores peronistas y sindicales, enfrentó intentos de golpes militares, impulsó la industrialización y tuvo episodios de persecución política especialmente contra grupos peronistas.",cities:["Buenos Aires","Argentina"]},{name:"Voladura del buque Patria",text:"Revelación años después de que la Haganah voló el buque Patria sin consultar a las víctimas, lo que causó la muerte de refugiados judíos, según declaraciones de Rosenblum del Comité de Acción Sionista.",cities:["Israel"]}]},{year:"1959",events:[{name:"Unión Hebraica de Rosario",text:"El predio fue comprado por la Unión Hebraica de Rosario y cedido a la comuna local en junio de 1959.",cities:["Rosario","Argentina"]},{name:"Muerte de Pine Katz",text:"Fallecimiento de una figura destacada.",cities:["Argentina"]}]},{year:"1960",events:[{name:"Captura de Adolf Eichmann",text:"Eichmann, uno de los principales responsables del Holocausto, fue capturado en Argentina por el Mossad y llevado a Israel para ser juzgado.",cities:["Argentina","Israel"]},{name:"Falsificación de documentos del Priorato de Sion",text:"Pierre Plantard y su grupo crearon los 'Dossiers Secrets', documentos falsificados que mostraban al Priorato como una orden secreta fundada en 1099, incluyendo supuestos grandes maestros como Leonardo da Vinci y Victor Hugo.",cities:["Francia"]},{name:"Luis deja la policía",text:"Renuncia o retiro de Luis de la policía.",cities:["Argentina"]}]},{year:"1962",events:[{name:"Muerte de Borlenghi",text:"Fallece Borlenghi por pulmonía en Roma.",cities:["Roma","Italia"]},{name:"Condena y ejecución de Eichmann",text:"Eichmann fue condenado y ejecutado en Israel por su rol en el Holocausto.",cities:["Israel"]},{name:"José María Guido (Interino)",text:"Presidente interino tras la renuncia de Frondizi debido a la presión militar. Enfrentó inestabilidad política y económica durante 1962-1963.",cities:["Buenos Aires","Argentina"]}]},{year:"1963",events:[{name:"Arturo Illia",text:"Presidente argentino entre 1963 y 1966. Implementó reformas en salud, educación y leyes laborales, impulsó la nacionalización de sectores clave como el petróleo y enfrentó oposición militar y tensión con la izquierda.",cities:["Buenos Aires","Argentina"]}]},{year:"1966",events:[{name:"Golpe de Estado y dictadura de Onganía",text:"El 29 de junio de 1966 un golpe militar derrocó a Arturo Illia, instaurando la dictadura de Juan Carlos Onganía. Suspensión de garantías constitucionales, disolución del Congreso y represión de protestas, especialmente en universidades.",cities:["Buenos Aires","Argentina"]},{name:"Homenaje a Miguel y judíos en Argentina",text:"Referencias a la situación y memoria judía, vinculada a crímenes en Moisés Ville.",cities:["Argentina"]}]},{year:"1967",events:[{name:"Guerra de los Seis Días",text:"Campaña militar israelí en junio de 1967 que derrotó al ejército egipcio y provocó desplazamientos y sufrimiento árabe. Críticas a la política israelí desde el comentario del escritor judío Isaac Deutscher.",cities:["Israel","Egipto","Jordania"]}]},{year:"1968",events:[{name:"Revista Tiempo",text:"Creada por Rubén Sinay, con enfoque en la problemática de Medio Oriente, especialmente el conflicto palestino-israelí, con Julio Schverdfinger como director formal.",cities:["Argentina"]}]},{year:"1969",events:[{name:"Comentario de Galili sobre árabes en Israel",text:"Galili, ministro de Información israelí, expresó en 1969 que no reconocían a los árabes del país como un grupo étnico o nacional, contribuyendo a la violencia en Palestina.",cities:["Israel","Palestina"]}]},{year:"1973",events:[{name:"Fundación de Crisis",text:"Se funda la revista Crisis.",cities:["Argentina"]},{name:"Alejandro Lanusse",text:"Dictadura de facto entre 1970 y 1974. Intentó abrir un proceso de transición democrática con elecciones en 1973. Represión de guerrilleros y militantes de izquierda.",cities:["Buenos Aires","Argentina"]},{name:"Juan Domingo Perón (Tercer mandato)",text:"Regresa al poder tras 18 años de exilio. Héctor Cámpora asume provisionalmente antes de Perón. Se incrementa la violencia política interna y muere Perón en 1974, generando crisis de liderazgo.",cities:["Buenos Aires","Argentina"]},{name:"Gleyzer, Los Traidores",text:"Obra emblemática de denuncia sobre corrupción sindical peronista y traición a los trabajadores.",cities:["Argentina"]}]},{year:"1974",events:[{name:"Rodolfo Walsh - La revolución Palestina",text:"Escribe sobre la injusticia sufrida por los palestinos y compara la persecución israelí con la nazi, destacando la expulsión y sufrimiento de millones de árabes.",cities:["Palestina"]},{name:"Isabel Perón",text:"Asume tras la muerte de Perón. Gobierno inestable con enfrentamientos contra guerrillas y creación de la Triple A, que persiguió militantes de izquierda con asesinatos y desapariciones.",cities:["Buenos Aires","Argentina"]}]},{year:"1976",events:[{name:"Golpe de Estado y Dictadura Militar (Proceso de Reorganización Nacional)",text:"Golpe militar que derrocó a Isabel Perón el 29 de marzo de 1976 e instauró una dictadura que duró hasta 1983. Represión masiva, terrorismo de Estado, miles de desaparecidos y víctimas de tortura.",cities:["Buenos Aires","Argentina"]},{name:"Fallecimiento de Luis",text:"Muerte del abuelo Luis en este año.",cities:["Argentina"]}]},{year:"1977",events:[{name:"Unión civil LGBT - CCAR",text:"Formación de una unión civil LGBT vinculada al CCAR.",cities:["Argentina"]}]},{year:"1978",events:[{name:"Cierre de YCA",text:"Cierre de la Idish Colonization Asosation",cities:["Argentina"]}]},{year:"1980",events:[{name:"Publicación sobre crímenes de Moisés Ville",text:"Se publican folletos de 60 páginas sobre los crímenes ocurridos en Moisés Ville y se demuele la sinagoga asquenazí Litvishe.",cities:["Moisés Ville","Argentina"]}]}],hC={title:uC,duration:dC,years:fC},pC="Impuros",mC="1931 - 1942",gC=[{year:"1931",events:[{name:"Revocación de procesamientos y libertades a rufianes",text:"Principios de 1931 se rumoreaba que los rufianes serían liberados y el 27 de enero la Cámara de Apelaciones, integrada por los jueces Oribe y Ortiz de Rozas, revocó los procesamientos del juez Rodríguez Ocampo y ordenó las libertades tras negar el valor de las pruebas recolectadas y las denuncias de las mujeres contra los proxenetas, ya que 'no se acreditaban hechos de corrupción'."},{name:"Misterio de la Unión Hebraica y rufianes judíos",text:"La Unión Hebraica no figura oficialmente dentro de las instituciones de la colectividad judía en Rosario y su existencia quedó marginada. Parecería haber sido una pantalla de rufianes judíos radicados en Rosario. Saúl Friedman, uno de sus directivos, fue detenido en una redada en mayo de 1930 en una casa donde funcionaba una sinagoga frecuentada por elementos de mal vivir."},{name:"Colectividad judía y exclusión de proxenetas",text:"Los dirigentes de la colectividad judía impidieron el ingreso de los proxenetas a los templos y prohibieron celebrar entierros religiosos de tratantes de blancas. Los caftens formaban sociedades de socorros mutuos, siendo la más conocida la Varsovia, que en 1929 cambió su nombre a Zwi Migdal, con interés genuino de sostener su religiosidad."}]},{year:"1932",events:[{name:"Manuscrito MiHIL a Reyzen",text:"MiHIL entrega el manuscrito de Reuben a Reyzen."},{name:"Antonio Berni y Rosario Gráfico",text:"Antonio Berni, recién llegado de Europa, utilizó una cámara Leica para trabajar. Publicó tres fotos en Rosario Gráfico del 11 de febrero de 1932 que mostraban la ciudad de Rosario y sus burdeles, describiendo la represión y tolerancia calculada de la moral burguesa."},{name:"Investigación clandestina sobre prostíbulos",text:"Rodolfo Puiggrós encargó a Berni fotografiar clandestinamente el interior de prostíbulos para ilustrar un artículo, eligiendo lugares con buena luz natural para evitar ser descubierto."},{name:"Ley de sábado inglés y casas de tolerancia",text:"El 7 de octubre de 1932 se sancionó la ley de sábado inglés. Rosa Weismann, Sofía Pais y Anita Baram de Smith presentaron a la Comisión de Fomento de Pagani dos casas de tolerancia en Granadero Baigorria."},{name:"Agustín P. Justo asume la presidencia",text:"Agustín P. Justo asumió como presidente de Argentina en 1932, representando al Partido Concordancia."}]},{year:"1933",events:[{name:"Solicitud para cementerio israelita en Granadero Baigorria",text:"El 4 de abril de 1933, representantes de la Unión Hebraica de Rosario solicitaron permiso para instalar un cementerio de ritual hebreo en Granadero Baigorria. La mafia obtuvo permiso para construirlo y lo denominó Zwi Migdal, en homenaje a Luis Migdal."},{name:"Asesinato de Juan Ruggero y funeral",text:"Muere asesinado Juan Ruggero, el Matón de Barceló (Don Alberto), quien organizó su propio funeral."},{name:"Hechos políticos destacados",text:"Firma del Pacto Roca-Runciman en 1933, beneficiando a exportadores argentinos. Continuación del fraude electoral durante la Década Infame."}]},{year:"1934",events:[{name:"Inauguración del Cementerio Israelita de Granadero Baigorria",text:"El Cementerio Israelita se inauguró en 1934 en un terreno adyacente al Cementerio El Redentor. Allí están enterrados varios antiguos proxenetas, madamas y pupilas de Pichincha. El predio fue comprado por la Unión Hebraica de Rosario, que lo administró hasta 1959 cuando lo cedió a la comuna local."},{name:"Sanción de ley de indemnización",text:"En 1934 se sancionó la ley de indemnización."}]},{year:"1935",events:[{name:"Publicaciones de Miguel sobre educación judía",text:"Miguel publicó 'La conexión entre los padres judíos y la educación de sus hijos' en 'Di idishe tsaytung' en octubre de 1935."},{name:"Formación y escisión del Haganah",text:"Los jefes de la Agencia Judía concibieron la inmigración como colonización armada y construyeron la organización semiclandestina Haganah, de la que en 1935 se separó el grupo terrorista de ultraderecha Irgun."}]},{year:"1936",events:[{name:"Primera rebelión palestina contra ingleses",text:"En 1936 comenzó la primera rebelión palestina contra los ingleses, que duró tres años y causó miles de muertos."},{name:"David Hacohen y el boicot a árabes",text:"David Hacohen, miembro de la Histradut, recordó las campañas para boicotear productos árabes como parte de la soberbia racial judía."}]},{year:"1937",events:[{name:"Desbaratamiento del grupo Zwi Migdal y cambio político",text:"La policía de Rosario reprimió la actividad prostibularia tras el desbaratamiento en Buenos Aires del grupo de traficantes de la Zwi Migdal, mientras la política local adoptó ideas abolicionistas."},{name:"Pine Katz representa a Argentina en YCUF",text:"Pine Katz actuó en representación de Argentina en YCUF."}]},{year:"1938",events:[{name:"Roberto M. Ortiz presidente",text:"Roberto M. Ortiz asumió la presidencia de Argentina (1938-1942), representando al Partido Concordancia. Intentó combatir el fraude electoral y renunció por enfermedad en 1942."}]},{year:"1939",events:[{name:"Publicación del Libro Blanco británico",text:"En mayo de 1939 el gobierno británico publicó un Libro Blanco que limitaba la inmigración judía a Palestina y prometía no imponer nacionalidad judía a los árabes. Sin embargo, entre 1920 y 1939 la proporción de judíos en Palestina subió del 10% al 30%."}]},{year:"1940",events:[{name:"Ben Gurion y la alianza con Gran Bretaña",text:"Ben Gurion declaró que lucharían junto a Gran Bretaña en la guerra como si el Libro Blanco no existiera, e intensificaron la inmigración clandestina a Palestina, desafiando el bloqueo inglés. El hundimiento del buque Patria causó la muerte de 250 refugiados."},{name:"Resistencia y represión mapuche en el siglo XX",text:"Durante el siglo XX, los pueblos originarios, especialmente los mapuches, enfrentaron represión y desplazamiento por la expansión agrícola y extracción de recursos naturales en Argentina."}]},{year:"1941",events:[{name:"Fundación del ICUF y activismo de Rubén Sinay",text:"En abril de 1941 Pine Katz fundó el ICUF. Rubén Sinay se destacó como activista peronista."}]},{year:"1942",events:[{name:"Matrimonio de Lidia y Eduardo y política sindical",text:"En Buenos Aires, Lidia y Eduardo se casaron. Lidia renunció al judaísmo. Borlenghi, representante de empleados de comercio desde 1935, fue electo presidente del segundo congreso de la CGT en diciembre de 1942."}]}],vC={title:pC,duration:mC,years:gC},yC="La Madre",_C="∞ - 1250 a.C.",xC=[{year:"#",events:[{name:"YHVH",text:"Todas las tradiciones mitológicas y esotéricas evocan una primera era de Oro, un tiempo en el que todo estaba en armonía y en unidad con el todo. Tetragrámaton (en griego antiguo: Τετραɣράμματον [tetragrámmaton]; en latín: Tetragrammaton) es la combinación de cuatro letras hebreas יהוה transliterada como YHVH o YHWH que la Biblia hebrea emplea como nombre propio del Dios único de judíos, samaritanos y cristianos. En la cosmogonía órfica, Fanes o Fanetes (en griego antiguo Φάνης, -ητος; latín: Phănes, -ētis; «luminoso» o «revelador») es una divinidad primordial y mística. Es la deidad primigenia que constituye el origen de la procreación y la generación de todas las cosas. Identificado con el dios gnóstico Iao. Demogorgon (demiurgo, demonio, monstruo) georgeos, quien trabaja la tierra.",cities:["-0, -0"]}]},{year:"100000000000 a.C.",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_85c547997eb64865aab453d51a373ac6~mv2.webp/v1/fit/w_802,h_590,q_90,enc_avif,quality_auto/bd63ad_85c547997eb64865aab453d51a373ac6~mv2.webp",events:[{name:"La Madre",text:"El término procede del griego antiguo χάος, espacio que se abre, o hendidura, y procede del verbo χάω, que en formas derivadas significa bostezar. Hay una primera inspiración, una inhalación del universo o primera escisión o sacrificio, un ir hacia adentro del todo y que da pie a una chispa. Lo que hay más allá, lo ultravioleta o pitido tan agudo que no se puede oír. El estado prístino del cosmos. Hesíodo utiliza «Χάος» con género neutro. Aristófanes escribe «Χάους» también como neutro, pero sugiere que pudiera ser una entidad femenina.",cities:["-0, -0"]}]},{year:"900000 a.C.",events:[{name:"La oscuridad y la noche",text:"Del Caos surgieron Érebo y la negra Noche (Nix). De la Noche a su vez nacieron el Éter y el Día (Hemera), a los que alumbró preñada en contacto amoroso con Érebo» muestra una primera división hombre mujer, es el resultado de esa primera escinción, entre polos, entre géneros. En el genesis de a biblia coincide con idea de comienzo de la creación por el cielo.",cities:["-0, -0"]}]},{year:"∞",events:[{name:"Éter",text:"En mitología griega se le llama éter, que representa a la vez el quinto elemento, una sustancia que no es ninguna a la vez y que contiene todo lo que existe. ",cities:["∞; ∞"]}]},{year:"13800000000 a.C.",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_1d4cb6ce86fa4763b03ab41fcb04f310~mv2.webp/v1/fit/w_802,h_590,q_90,enc_avif,quality_auto/bd63ad_1d4cb6ce86fa4763b03ab41fcb04f310~mv2.webp",events:[{name:"El dragón",text:"Sol de soles. El dios dragón-sol surge en los primeros registros orales. Un rayo de luz en los primeros ojos que lo persiben, en una nebulosa de vapor del magma, el el primer recuerdo de cualquier visión, una silueta serpenteante de luz. Agni y Soma encarnan la dualidad sagrada: el fuego primordial en oposición al flujo mutable que lo contiene como génesis. Este sol viaja en órbita alrededor de un sol mayor: Sagittarius A*, el centro galáctico, un agujero negro supermasivo. Así como el ombligo en relación al cuerpo, o el núcleo al átomo, giramos también como sistema alrededor de esta fuente invisible. Representa el color amarillo, la nota sol, y es llamado también Big Bang. El comienzo del tiempo",cities:[""]}]},{year:"100000 a.C.",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_2702aedae7d446eb8855d1eaa89f49d9~mv2.webp/v1/fit/w_802,h_590,q_90,enc_avif,quality_auto/bd63ad_2702aedae7d446eb8855d1eaa89f49d9~mv2.webp",events:[{name:"Eva",text:"Figura arquetípica presente en Devaki y Eva, encarnan el símbolo primigenio de la mujer, pero también representan esotéricamente al planeta Tierra: vientre de vida y cuerpo que tiembla. Una masa planetaria que gira, que vibra, y que, al fragmentarse, podría haber dado forma a los planetas del sistema como los conocemos. Gea era hija directa del kaos, coincide con el comienzo de la biblia que creado en principio el cielo y la tierra como materia.",cities:[""]}]},{year:"50000 a.C.",events:[{name:"El Enemigo",text:"La misoginia es el inicio de todo hecho cultural y de la tradición oral. La reclusión en la montaña de las pitonisas, los sacrificios rituales humanos, el miedo, la enemistad, el abuso, el ejercicio de la fuerza. Saturno como una nebulosa gris. A su vez, una división entre padre e hijo: una subordinación de la masa uraniana y la aparición de una nueva masa, Saturno. La enemistad de Caín y Abel representa el enfrentamiento entre razas. La historia escrita, judeocéntrica, borra toda memoria de mujer, de extranjera o de persona transgénero. Mi misión con este escrito es reencontrarla. Eduard Schuré, en su obra xenófoba *Los Grandes Iniciados*, describe un primer momento en que la raza negra domina a la raza blanca; y se dividen entonces quienes escriben de izquierda a derecha, como los arios que se rebelan, y de derecha a izquierda, quienes se sincretizan con la gnosis negra. Xenofobia y misoginia: el origen de todo. El que se autoproclama superior.",cities:[""]}]},{year:"12000 a.C.",events:[{name:"Nadie sabe nada.",text:"Neptuno. El color azul, el espacio entre los ojos o el fondo de la pupila y la nota Si. Los Anunakis son unos supuestos seres que enseñan las primordiales enseñanzas humanas. Los atlántides, una raza perdida. Un gran hueco en la historia y, de repente, la cultura egipcia en su esplendor. Intuiciones.  Según la mitología mesopotámica, los anunnas eran, inicialmente, los dioses más poderosos y vivían con Anu Edur en el cielo. Posteriormente, sin que se haya establecido un motivo claro de este cambio, fueron los igigis los considerados como dioses celestes mientras el término anunna se empleaba para designar a los dioses del inframundo, especialmente a siete dioses que hacían la función de jueces en el inframundo.Los anunnakis son un grupo de deidades sumerias y acadias identificadas en los textos con los anunnas y los igigis, dioses mayores. En el mito de Atrahasis se afirma que, antes de la creación del ser humano, los dioses tenían que trabajar para vivir. Entonces, los anunnas lograron que una categoría de dioses inferiores, los igigis, trabajaran para ellos, hasta que se rebelaron y se negaron a seguir trabajando, entonces decidieron exterminarlos. Enki creó a la humanidad para que esta asumiera la responsabilidad de realizar las tareas que los Igigi habían abandonado y a través del culto suministrarían el alimento y oro a los dioses.",cities:["neptuno"]}]},{year:"7999 a.C.",backgroundUrl:"https://static.wixstatic.com/media/bd63ad_d3a9b6fd667541c0961cc143ff456afa~mv2.webp/v1/fit/w_802,h_590,q_90,enc_avif,quality_auto/bd63ad_d3a9b6fd667541c0961cc143ff456afa~mv2.webp",events:[{name:"Edad de los Metales",text:"Agricultura, domesticación. Primero habitantes en el Gran Chaco. Dominio humano sobre la tierra",cities:["Gran Chaco","Irak"]}]},{year:"3800 a.C.",events:[{name:"El Zigurat de Ur",text:"Madre de todas las ciudades de occidente, la ciudad de Ur poseía en su epicentro un templo para adorar la deidad Sin o Nannar Dios de la luna. Cerca del monte Sinaí. La cima del templo de color azul, llamado Zigurat, de Ur también asociado al planeta Urano, dios de los Cielos u Olimpo representaba físicamente el lugar donde habitabanlos Dioses que a la vez era el mismo Rey y su familia. La red neuronal y el sistema solar, Urano representa la coronilla de la espina dorsal, el color violeta que es lo más álgido de lo perceptible y la nota musical Si.",cities:[""]}]},{year:"8000 a.C.",events:[{name:"El joven Ram",text:"Rama, sabio druida transgresor, se pelea con su padre y se va al bosque. El encuentro de lo masculino con lo femenino. Un hombre que llega al clan de mujeres y logra conectar. Mercurio, la comunicación, el canal, el puente que une lo uno con lo otro, lo masculino con lo femenino, lo marica, el sutil límite. Raptada la princesa y recuperada, no puede volver al clan y es excomulgada; representa a Lilith también. Representa el color verde, la garganta y la nota Re. El bioma, la necesidad de fusión entre lo uno y lo otro.",cities:["Balk","Bamyan","Occitania","Egipto"]}]},{year:"3800 a.C.",events:[{name:"Set",text:"Set es el hijo que nace luego que que Caín sea exiliado. La profecía de la salvación, jupiter, el que todo lo da. Es la esperanza de lo que no existe, por ende no es n color, sino que es iridisente, tornasol, el número áureo pi, el eterno horizonte, el ideal y la utipía. Asociado a la deidad egipcia Seth. En astrología jupiter es la expansión, la buenas suerte. Zeus como deseo de lo absoluto. Expandirse es poseerlo todo hasta serlo, al fin y al cabo quien tome el trono del Zigurat. ",cities:["Ur"]}]},{year:"3799 a.C.",events:[{name:"Enos",text:"significa literlmente raza humana y simbioliza todo un perhíodo de expansión humana. Sin datos de  la madre de su desendencia ni de sus hermanas. Representa también la primera victoria de la dominación masculina. La anulación de la femeneidad del relato, la palabra hombre como sinonimo de humano. Control del fuego. Prometeo. Le roba el fuego a los dioses. Llama a lo divino, es un puente que traza lo superior con lo inferior, ls tercera generación, los nietos primigenios, el apellido o el árbol de la vida. Comienza a Invocar el nombre de Yhave. El nombre del padre del padre, el abuelo Dios.",cities:["Ur","Babilonia","Egipto"]}]},{year:"3798 a.C.",events:[{name:"Kenan",text:"Hijo de Enos, primero sin registro de madre ni otra mujer vinculada, su significado es 'posesión', probablemente referido a la primogenitura, el adulto hombre mayor, el dueño y poseedor del lineaje en el nombre del linaje judío primero.",cities:["Ur","Babilonia","Egipto"]}]},{year:"3797 a.C.",events:[{name:"Jared",text:"Literalmente significa descender, lo que nos habla de un linaje que se transmite de generación en generación. Es decir descendencia, la ramificación del árbol de la vida.",cities:["Ur","Babilonia","Egipto"]}]},{year:"3796 a.C.",events:[{name:"Enoc",text:"El que caminó con los Dioses, no muere, sube en cuerpo y alma al cielo. Me pregunto si no será el Zigurat ese cielo y si caminar con los Dioses no será caminar con los gobernantes.",cities:["Ur","Babilonia","Egipto"]}]},{year:"3795 a.C.",events:[{name:"Matusalem",text:"Según la biblia, la persona más longevo de la historia. Representa en sí al abuelo sabio, el hermitaño, escondido en una cueva, poseedor de toda sabiduría. Simboliza la generación previa al diluvio universal, conocimiento y pasados ancenstrales perdidos.",cities:["Ur","Babilonia","Egipto"]}]},{year:"3794 a.C.",events:[{name:"Inicio de la Historia",text:"Sumerios, escritura. La escritura fija las historias. Aparece el bronce, los imperios y el calendario.",cities:["Ur","Babilonia","Egipto"]}]},{year:"2750 a.C.",events:[{name:"La infancia de Noé",text:"Noé nació en tiempos en que 'los hombres comenzaron a multiplicarse sobre la faz de la tierra' (Génesis 6:1). Era hijo de Lamec, descendiente directo de Set, hijo de Adán. Según el Génesis 5:29, Lamec lo llamó Noé diciendo: 'Este nos aliviará de nuestras labores y del trabajo de nuestras manos, a causa de la tierra que maldijo el Señor'. Algunos textos posteriores, como el Libro de Enoc, lo describen como un niño 'diferente', cuyo nacimiento causó asombro porque brillaba. Su niñez transcurrió en una época de creciente violencia y corrupción, cuando 'toda carne había corrompido su camino sobre la tierra'. Su nombre significa descanso.",cities:["Mesopotamia"]}]},{year:"2850 a.C.",events:[{name:"Naama",text:"Heb. נַעֲמָה Na{amâh, «placentera [agradable; satisfacción]». Naamá, descendiente de Caín, fue hija de Lamec y de Sila. Su hermano fue Tubalcaín, padre de los forjadores de cobre y hierro. Yabal y Yubal eran sus medio hermanos, hijos de la otra esposa de Lamec, Adá. es la única mujer en la prehistoria bíblica que aparece como hija de alguna persona. Por lo general sólo se mencionan hijos. La interpretación habitual habla del su amabilidad, pero su sentido semiótico pareciera tener otros sentidos. Algunas tradiciones judías medievales la asocian con el canto.",cities:["Mesopotamia"]}]},{year:"2390 a.C.",events:[{name:"El Arca",text:"A los 500 años según la tradición, Noé se casa con Naamá, descendiente de Caín. Tienen tres hijos: Sem, Cam y Jafet. Comienza a tener visiones del colapso del mundo por la corrupción humana. Construye un arca siguiendo un plan revelado en sueños o visiones. Noe es interpretado como la justicia en abrigo de piel, sólo se preocupa por sí mismo, decide quien se salva y quién no, oficiando como juez, ejecuta las ordenes divinas sin cuestionarlas.",cities:["Shuruppak","región montañosa de Ararat"]}]},{year:"2348 a.C.",events:[{name:"Linaje y decadencia",text:"La ruptura familiar comienza cuando nace una nieta, hija de Sem, y una parte del clan intenta asesinarla al considerarla una amenaza a que se corrompa nuevamente la humanidad, decide dejarla con vida, pero no se recompone el vinculo familiar. Tras el descenso de las aguas, Noé planta viñas y cae en una fuerte embriaguez, Cam es maldecido por reirse y abusar de su padre, destinando a su descendencia como esclava de la de sus hermanos, dando origen a la tribu Cananea, enemiga de los judíos. Sometimiento entre tribus hermanas, reencor y punitivismo en los comienzos de la historia.",cities:["Ararat","Salem","Ur"]}]},{year:"2348 a.C.",events:[{name:"El rey de Salem",text:"Sem es vincuclado al personaje de Melsiquedec. El rey de Salem. Según otro Midrash,  Melquisedec, rey de Shelem es Shem, quien era sacerdote , y de quien se dice Y Melquisedec, rey de Shelem, sacó pan y vino, y fue sacerdote del Dios Altísimo. Considerado el sucesor de la justicia de Noé Y tomó Sem y se adornó la vestidura, y la puso sobre la cabeza de ambos, y andando hacia atrás, cubrió la desnudez de su padre; y sus rostros estaban hacia atrás, y no vieron la desnudez de su padre. Sem significa nombre o renombre, semitas son justamente quienes decienden de Sem.",cities:["Salem"]}]},{year:"2348 a.C.",events:[{name:"Emzara, las mujeres del arca",text:"Emzara, esposa de Noé; Sedeqetelebab, esposa de Sem; Na'eltama'uk, esposa de Cam; y Adataneses, esposa de Jafet. Se añade que los tres hijos construyeron una ciudad cada uno con el nombre de sus esposas. Según los Oráculos Sibilinos las esposas de Sem, Cam y Jafet disfrutaron de vidas increíblemente largas, viviendo durante siglos, mientras hablaban con cada generación que veían ir y venir. Según el prefacio de los Oráculos , la sibila autora era nuera de Noé: la sibila babilónica , Sambethe , quien, 900 años después del Diluvio, supuestamente se mudó a Grecia y comenzó a escribir los Oráculos..",cities:["Salem"]}]},{year:"2348 a.C.",events:[{name:"Tamar, la hija del sacerdote",text:"En la Biblia, la hija de un sacerdote, mientras sea soltera y pertenezca a la familia paterna, se le permite comer una ofrenda elevada , así como un pecho y una pierna. Por otro lado, si comete adulterio, su castigo es más severo que el de una hija de Israel: Si profana a su padre, será quemada en el fuego,dice literal. Primera aparición escrita de mujeres prendidas fuego como castigo masculino, agravado por el vinculo con la familia sacerdotal. Tamar era la hija de Sem",cities:["Salem"]}]},{year:"2248 a.C.",events:[{name:"Semitas",text:"Los 5 hijos de Sem dan origen a lo que luego serán pueblos Aram y su descendencia aramea, Arpajsad vinculado a los hebreros. Elam son Elamitas, Asur son Asiria y Lud los lídios.",cities:["Salem"]}]},{year:"2248 a.C.",events:[{name:"Apajsad el rey",text:"Arpajsad también se menciona en el Libro de Judit (Capítulo 1) como el nombre de un rey de los medos a quien Nabucodonosor derrotó. En el Corán se le llama Arfakshu",cities:["Media"]}]},{year:"2100 a.C.",events:[{name:"Apogeo de Ur",text:"Ur alcanza su esplendor, centro de culto a Sin, el dios lunar.",cities:["Ur"]}]},{year:"2100 a.C.",events:[{name:"Ishtar",text:"Diosa, mujer, temida, hermosa, sexualizada y demonizada. Multiples amantes.",cities:["Ur"]}]},{year:"2100 a.C.",events:[{name:"Selah",text:"A su hijo lo llamaron Selah es una palabra hebrea que aparece en la Biblia, especialmente en los Salmos, y generalmente se interpreta como una señal de pausa o reflexión. Se cree que indica un momento para parar, considerar lo que se acaba de leer o escuchar, y estar preparado para lo que sigue. Su esposa es nombrada como Mu'ak , hija de Kesed (otro hijo de Arphachsad).",cities:["Ur"]},{name:"Reú, patriarca mesopotámico",text:"Reú. El linaje desciende de esta raíz por medio de Serug y Taré.",cities:["Mesopotamia"]}]},{year:"2000 a.C.",events:[{name:"Abraham nace en Ur",text:"Abraham, patriarca del monoteísmo, nace en Ur y parte a Canaán. Su pacto con lo divino marca el inicio de la alianza HaKohen: portar el conocimiento, aún en diáspora. Su esposa Sarai es figura transicional: cambia su nombre, su función y desafía la esterilidad impuesta.",cities:["Ur","Haran","Canaán"]},{name:"Significado de Sara",text:"Sara significa 'gobernante', 'princesa'. Representa liderazgo femenino en un sistema que lo niega. Su transformación corporal en la vejez para concebir es símbolo de lo transmutable, del cuerpo como vehículo de milagro. Sara es proto-Kohenet.",cities:[""]},{name:"Melquisedec y Abraham",text:"Melquisedec, rey de Salem y sacerdote del Dios Altísimo, bendice a Abraham. Esta figura es clave para la tradición HaKohen: un sacerdote sin tribu, sin padre ni madre conocidos, cuyo linaje espiritual será perpetuado por quienes viven entre mundos.",cities:["Salem"]},{name:"Descendencia patriarcal",text:"La línea de Reú a Taré, de Taré a Abraham, legitima la continuidad del linaje espiritual. Esta genealogía es conservada en la tradición HaKohen como árbol simbólico, pero también como red de transmisión de sabiduría, justicia y mutación.",cities:["Ur"]}]},{year:"1791 a.C.",events:[{name:"Nacimiento de Jacob y Esaú",text:"Desde el vientre, Jacob y Esaú luchan. La inversión del derecho de primogenitura es símbolo del cambio de paradigma. El menor, el queer, el excluido, será el bendecido. Esta lógica será central en el linaje HaKohen, donde lo desviado es lo sagrado.",cities:["Canaán"]},{name:"Jacob engaña a Isaac",text:"Jacob, guiado por su madre Rebeca, toma la bendición disfrazado de su hermano. El disfraz, el cruce de identidades, la actuación performativa: todos elementos que resonarán en la forma de interpretar lo sagrado desde una perspectiva transfeminista.",cities:[""]}]},{year:"1750 a.C.",events:[{name:"Jacob en Harán",text:"Jacob trabaja para Labán y se casa con Lea y Raquel. De sus uniones nacen las 12 tribus de Israel. En el sueño de la escalera aparece la conexión entre planos. Este sueño es recuperado por los HaKohen como símbolo de ascensión espiritual a través de los cuerpos múltiples.",cities:["Haran","Betel"]}]},{year:"1700 a.C.",events:[{name:"Declive del Imperio Babilónico",text:"La caída del Imperio marca el paso de poder hacia nuevas formas religiosas. Los HaKohen transitan este cambio como nómades del espíritu, preservando secretos ancestrales mientras se adaptan al exilio constante.",cities:[""]}]},{year:"1644 a.C.",events:[{name:"Muerte de Jacob",text:"Muere Jacob, patriarca de las doce tribus. Su descendencia incluye figuras clave como Judá y José, portadores del linaje que derivará en los HaKohen que cruzarán Egipto y fundarán tradiciones esotéricas y legales.",cities:[""]}]},{year:"1600 a.C.",events:[{name:"Agamenón y Micenas",text:"Mientras en Oriente se forman los linajes sacerdotales, en Occidente Agamenón reina en Micenas. La comparación entre ambos mundos revela cómo lo sagrado se vincula al poder patriarcal en un lado, y al conocimiento simbólico del otro.",cities:["Micenas"]}]},{year:"1575 a.C.",events:[{name:"Nacimiento de las tribus de Israel",text:"Jacob engendra a los ancestros de las doce tribus. Esta estructura será la base del sacerdocio HaKohen, cuya función será guiar, interpretar y proteger la tradición en tiempos de opresión.",cities:[""]},{name:"Esaú se convierte en Edom",text:"Esaú, excluido del linaje espiritual, se convierte en Edom. Su figura marca el límite del pacto, pero también lo periférico: lo queer, lo otro, también forma parte del relato.",cities:[""]},{name:"Establecimiento en Egipto",text:"José se convierte en gobernador en Egipto. El pueblo de Jacob se asienta en Gosén. Esta estadía forjará los valores del HaKohen: sabiduría en la opresión, códigos rituales, y el deber de liberar.",cities:["Egipto","Gosén"]},{name:"Judá y Tamar",text:"Tamar, mujer transgresora, se disfraza y logra gestar la línea davídica. Este relato encierra capas de género, justicia y transformación. Tamar es figura queer ancestral dentro del linaje HaKohen.",cities:[""]}]},{year:"1200 a.C.",events:[{name:"Auge de la cultura olmeca",text:"En simultáneo con los patriarcas, en América surge la civilización olmeca, con cultos solares, estructuras rituales y figuras andróginas. Estos paralelos refuerzan la noción de una red espiritual transcontinental que también sostendrán los HaKohen en el exilio.",cities:["San Lorenzo","La Venta"]}]}],SC={title:yC,duration:_C,years:xC},MC="Rabino",EC="1850 - 1898",bC=[{year:"1850",events:[{name:"Arn Hacohen Sinai",text:"Aaron Hakohen Sinay (אָרן הַכֹּהֵן סִינַי) era un rabino profesor en el pueblo conocido por toda la comunidad judía que rondaba las 2000 personas en Zabludow para esa época, siendo la comunidad con más habitantes en el pueblo. El nombre Aharon Hacohen Sinay  en sí mismo explica mucho sobre este personaje. Ha-Cohen (Él-Sacerdote o sumo sacerdote en algunas interpretaciones que sería Cohen Gadol o “el sacerdote”) y seguido con Sinay, proveniente de Sinn o Nannar, el “Dios de la Luna” de la ciudad de Ur o también el significado puede venir de la palabra “odio” u “odiado” por la envidia que provocaba la proclamación de ser un pueblo “elegido” al bajar de ese monte.  Hacohen Sinay se traduciría como “El sacerdote del monte Sinaí”. La “y” e “i” son indistintas en hebreo. Mi traducción: “El sacerdote del Dios de la Luna” o “El sacerdote odiado.",cities:["Augustów"]},{name:"Yeshivá de madera",text:" La antigua sinagoga de madera imponente con un interior un altar de madera y varios pisos y escaleras sin un clavo, dos profesorados y un colegio de varones dedicado a la formación de rabinos, la convertía en un pueblo judío finiscular habitado por rabinos consagrados y personajes cuasi biblicos,",cities:["Augustów"]},{name:"Augustów",text:"Posiblemente entre calles y casas de madera, con tierra húmeda de la lluvia y la nieve, Aarón vestía una túnica o tapado negro y usando una kipá o turbante tipico. Ese año, en ese contexto de extrema religiosidad, rigurosidad y visiones místicas, sin datos hoy de su madre, nace en 1850 en Zubludow, Reuben Hacohen Sinay, hijo de Aarón.",cities:["Augustów"]},{name:"Reuben HaKohen Sinay",text:"Nace Reuben (Revn) HaKohen Sinay en Augustów, Lituania. En este mismo período, surge en Europa el concepto racializado de 'ario' como contraposición ideológica al judaísmo.",cities:["Augustów"]},{name:"Birkat-ha-kohanim",text:"A los ocho días de nacido, corresponde por su linaje sacerdotal, realizar el ritual de bendición “Birkat-ha-kohanim” para santificarlo. Santo viene de “sanct” que significa consagrado a Dios. Este destino inalterable, sellado en este ritual para él y su estirpe, reconfirmando la misión de su padre, se hace en un ritual que requiere de 10 personas cohen, tapadas con una túnica o manta blanca, como fantasmas o al descubierto, levantan sus manos hacia su pecho y realizan la bendición con sus manos que consiste en separar el dedo mayor y el anular. Pensando en que posiblemente se haya realizado en esa famosa sinagoga de madera, se vuelve una escena visualmente imponente.",cities:["Augustów"]}]},{year:"1855",events:[{name:"Moritz von Hirsch",text:"Moritz von Hirsch se casa con Clara Bischoffsheim, hija del banquero Jonathan-Raphaël Bischoffsheim. Se asocia con la casa bancaria Bischoffsheim & Goldschmidt y comienza a acumular una vasta fortuna con concesiones ferroviarias y especulación de azúcar y cobre.",cities:["Bruselas","París","Viena"]},{name:"Fallecimiento de Arn Sinay",text:"Aaron, el padre de Reubén muere, quedando el niño de 5 años completamente huérfano, no hay información de su madre, ni su nombre, supongo que apellido Skibelsky, es adoptado por su tío Zeev Skibelsky, padre de Rifka una niña de edad parecida a Reubén. Aparentemente no tenía un “buen pasar” y se mudan a la ciudad de Grodno donde estudia en una escuela provincial. Sin madre ni padre, pero con toda la expectativa de una comunidad puesta en él, crece en una ciudad de sinagogas e históricos rabinos, donde pocas veces da el sol y el paisaje se tiñe de ese blanco azulado de una noche eterna y va construyendo la historia de quién es y cuál debiera ser su destino.",cities:["Grodno"]}]},{year:"1861",events:[{name:"Unificación de Italia",text:"Se completa la unificación italiana bajo la dinastía de los Saboya, integrando varios estados independientes, con fuerte resistencia en el sur, especialmente en el Reino de las Dos Sicilias.",cities:["Italia"]},{name:"Comentario en el Pentateuco",text:"Un primo de Reubén le adivina cualidades de rabino y lo envía a una yeshivá en Kovno. Este pueblo al igual que su lugar de nacimiento quedaba en las afueras de estas ciudades del ducado de Lituania donde vivían los judios que gozaban de los privilegios de esa zona. Las antiguas yeshivás casonas enormes, algunas de madera. En Kovno una escuela para hombres de aspirantes a rabinos estudiantes de la Torá y el Talmud. Una gran iniciación. Allí crece entre rituales, alabanzas, canciones, ofrendas y conoce la corriente iluminista vigente en ese momento del judaísmo, que invitaba a la integración con la comunidad no judía y alguna serie de ideas modernas de la época.",cities:["Grodno"]}]},{year:"1862",events:[{name:"Bartolomé Mitre",text:"Líder unitario y liberal. Consolidación nacional tras la batalla de Pavón. Se inicia la Guerra de la Triple Alianza (1865) contra Paraguay. En Buenos Aires son detenidos Dominguito Sarmiento, Mitre Jr., Casal y Britos.",cities:["Buenos Aires"]},{name:"Nacimiento de supuesto Aarón del Censo",text:"Se menciona el supuesto nacimiento de un personaje conocido como 'Aarón del Censo' en este periodo.",cities:["Varsovia"]}]},{year:"1868",events:[{name:"Domingo Faustino Sarmiento",text:"Presidente liberal (1868-1874). Promueve la educación pública con creación de escuelas y formación de maestros. Continúa la Guerra de la Triple Alianza hasta su final en 1870.",cities:["Argentina"]},{name:"Se recibe de rabino",text:"A los 18 años cumplidos, se recibe de rabino y termina su vida en Kovno. A pesar de ello decide no ejercer el rabinato y se vuelve profesor de biblia y Talmud de manera privada para ganarse la vida.",cities:["Kovno"]}]},{year:"1869",events:[{name:"Moritz von Hirsch",text:"Nombrado Barón en reconocimiento a la labor bancaria de su padre Josef von Hirsch para la corona. Su madre Caroline Wertheimer provenía de familia judía ortodoxa de Fráncfort del Meno.",cities:["Múnich","Fráncfort del Meno"]},{name:"Isabel II de España",text:"Durante su reinado se inicia la restauración de relaciones con la diáspora judía. La Constitución española de 1869 permite la libertad de culto, un cambio importante tras siglos de intolerancia.",cities:["España"]}]},{year:"1870",events:[{name:"Bartolomé Mitre",text:"Como presidente, funda el diario La Nación. La policía controla disturbios en fiestas y prostíbulos. En la calle Córdoba se identifican cuatro madamas reconocidas por su actividad.",cities:["Buenos Aires"]}]},{year:"1871",events:[{name:"Fiebre amarilla en Buenos Aires",text:"La epidemia conocida como 'Reina el espanto' provoca cadáveres en las calles. Sarmiento se retira temporalmente. La vida nocturna crece, destacándose el bar 'La Pandora'.",cities:["Buenos Aires"]}]},{year:"1872",events:[{name:"Sacerdotes conversos",text:"Ordenarse sacerdote era una estrategia adoptada por judíos conversos para demostrar sinceridad religiosa. Entre ellos, D. Blas Frayle, D. Joseph Frayle y D. Benito Frayle, asesinado ese año.",cities:["Argentina"]},{name:"Conquista del Desierto",text:"Campañas militares de exterminio contra pueblos indígenas lideradas por Julio Argentino Roca (1872-1879). Uso de tácticas brutales como envenenamiento de agua y destrucción de recursos. Víctimas: mapuches, puelches, ranqueles y tehuelches.",cities:["Patagonia","Sur de Argentina"]}]},{year:"1874",events:[{name:"Nicolás Avellaneda",text:"Presidente nacionalista (1874-1880). Promueve la inmigración europea para poblar el país. Continúa la campaña de la Conquista del Desierto bajo el liderazgo de Roca.",cities:["Argentina","Rosario"]},{name:"Normativa sobre prostitución en Rosario",text:"Se aprueba la primera norma local para demarcar zonas de radicación de prostíbulos, respuesta a la creciente problemática social.",cities:["Rosario"]}]},{year:"1875",events:[{name:"Tráfico de mujeres en Buenos Aires",text:"Hernán Gerber vende a 12 mujeres, dos adquiridas por un rufián rosarino. Ese mismo año, la ciudad de Buenos Aires vota la primera ordenanza sobre la problemática de la prostitución.",cities:["Buenos Aires","Rosario"]}]},{year:"1876",events:[{name:"Viaje por Rusia",text:"Reuben Mordejai HaKohen Sinay realiza un viaje por Rusia, dentro del contexto de la diáspora judía y las restricciones de la Zona de Asentamiento. Reuben viaja por Rusia como parte de las publicaciones de Rodkinson y comienza a ejercer el periodismo en los diarios judios de la época, los primeros en el mundo y más importantes de la comunidad.",cities:["Rusia"]}]},{year:"1877",events:[{name:"Nace Mihl",text:"De vuelta en la ciudad de Grodno, oscura y nevada, ciudad de gigantes sinagogas, Reuben tiene un hijo con su prima y esposa Rifka llamado Mijl Hacohen Sinay. Seguramente por su apellido le corresponde el ungimiento como hacohen a los 8 días de nacido, imagino en la antigua sinagoga de Grodno, conocida en toda Europa.",cities:["Rusia"]}]},{year:"1879",events:[{name:"Masacre de la Comarca de los Andes",text:"En el marco de la Conquista del Desierto, el ejército argentino atacó comunidades mapuches en la Comarca de los Andes, matando a cientos de indígenas y destruyendo sus comunidades, marcando una de las peores matanzas del periodo.",cities:["Comarca de los Andes"]}]},{year:"1880",events:[{name:"Julio Argentino Roca",text:"Asume la presidencia (1880-1886) con el partido Autonomista Nacional. Se federaliza Buenos Aires como capital del país y se consolida el territorio con la Campaña del Desierto.",cities:["Buenos Aires","Argentina"]}]},{year:"1881",events:[{name:"Represión en el Imperio Zarista Ruso",text:"Tras el atentado al zar Alejandro II, el imperio implementa normas restrictivas: prohibición de escuelas y profesiones liberales para judíos, y expulsión a las afueras de la Zona de Asentamiento.",cities:["Rusia"]}]},{year:"1882",events:[{name:"Donación de Moritz von Hirsch para judíos rusos",text:"Hirsch dona 10.000 libras para repatriación de refugiados y ofrece 2.000.000 de libras para crear un sistema de educación secular en la Zona de Asentamiento Judía. El gobierno ruso acepta el dinero pero rechaza la participación extranjera en su administración.",cities:["Rusia"]}]},{year:"1883",events:[{name:"Bienvenida en Sarafand a colonos judíos",text:"Los habitantes árabes de Sarafand recibieron a los colonos judíos con palabras de fraternidad, destacando la convivencia histórica entre ambos pueblos.",cities:["Sarafand","Palestina"]}]},{year:"1884",events:[{name:"Sociedad Safah Brura",text:"En un contexto hostil se ponen en marcha una serie de acciones comunitarias. Reuben junto a otros 4 eruditos, crea “Safah Brurá” traducido como “lenguaje llano”. La obsesión era claramente que el mensaje llegara más fácil y más rápido de manera oral con una misión también clara que era que no se pierda el legado. Al principio muy concurridas de lectura de Talmud, pero no duran mucho. Esta sería una de las agrupaciones que daría origen luego a Hovevei Zion, “Amor a Zion”, precursora del sionismo, de la que Reubén formó parte y aparentemente invirtió su dinero y vida allí. . Entre sus fundadores estaban el rabino ID Miller, Leyb Yoffe, el rabino Ephraim Neimark y el rabino Reuben Hakohen Sinai. La sociedad tuvo muchos adeptos y frecuentes reuniones, pero no sobrevivió mucho tiempo. ",cities:["Grodno"]},{name:"Estudio del Talmud",text:"En un contexto hostil se ponen en marcha una serie de acciones comunitarias. Reuben junto a otros 4 eruditos, crea “Safah Brurá” traducido como “lenguaje llano”. La obsesión era claramente que el mensaje llegara más fácil y más rápido de manera oral con una misión también clara que era que no se pierda el legado. Al principio muy concurridas de lectura de Talmud, pero no duran mucho. Esta sería una de las agrupaciones que daría origen luego a Hovevei Zion, “Amor a Zion”, precursora del sionismo, de la que Reubén formó parte y aparentemente invirtió su dinero y vida allí. ",cities:["Grodno"]},{name:"La biblioteca de Reuben",text:"El pequeño Mijl de 7 años en la biblioteca especial de su padre en su casa que llegaban casi todos los periódicos judios de la época y entre libros y revistas, empieza a descubrir ciertos autores y editoriales judías de tendencias socialistas y de izquierda  a los que empieza a leer. Los precursores que retornaban a Palestina a colonizar, sumado al recuerdo idealizado y onírico de la olvidada Jerusalem tierra de Israel, generaban un entusiasmo y un movimiento que miraba la posibilidad de escapar del imperio Zarista Ruso y de las persecuciones de Europa en general. Los relatos de las ciudades empiezan a ser aterradores para la comunidad y los rabinos cargaban con el peso de la profecía de la tierra prometida.",cities:["Grodno"]}]},{year:"1885",events:[{name:"Fundación de la Compañía Jevra Kedusha",text:"Se crea la Compañía Jevra Kedusha con la finalidad de adquirir una necrópolis privada destinada a la inhumación de cadáveres siguiendo el ritual judío, que exige tierra virgen y una ceremonia especial.",cities:["Buenos Aires"]}]},{year:"1886",events:[{name:"Miguel Juárez Celman",text:"Asume la presidencia argentina (1886-1890) representando al partido Autonomista Nacional.",cities:["Argentina"]}]},{year:"1887",events:[{name:"Muerte de Lucien Hirsch",text:"Fallece Lucien, hijo de Moritz von Hirsch."},{name:"Nacimiento de Zalman Reisen",text:"Nace Zalman Reisen el 6 de octubre en Koydenev, Gobernación de Minsk (actual Bielorrusia). Hijo de padres influenciados por la Ilustración judía (Haskalah), recibió educación en casa y en cheders, y asistió a una escuela pública rusa en Minsk.",cities:["Koydenev","Minsk"]}]},{year:"1888",events:[{name:"Nacimiento de León Duckler",text:"La ciudad de Varsovia>> probablemente este documento sea falsificado, pero  efinitivamente hay un dato que es simbólico y está puesto ahí como una pista en un juego  ínico y descarado. Varsovia no está lejos de Grodno. Allí pero por esa época nace León, por un lado hijo de Rifka y Reuben Hacohen Sinay y por otro lado León Duckler o Ducker / Gutgold. Lo cierto y por registro oficial es que León nace en Varsovia. Rubio de ojos celestes, judío. Y  ficialmente también el rabino y Rifka tienen un hijo llamado Aarón Leib (León) nacido aproximadamente ese año, hermano menor de Mijl.",persons:["León Duckler"],cities:["Varsovia"]}]},{year:"1889",events:[{name:"El gran rabino de Paris",text:"El “gran rabino de París”, Zadoc-Kahn se comunica con la Alliance Israelite Universelle y surge la idea de Argentina como una posibilidad para el exilio de la comunidad. Una tierra libre, nueva, basta, sometida a las reglas de occidente donde se invitaba a cultivar la tierra y crear empezar una nueva vida, pero se estaba el rumor del riesgo de llegar y ser esclavo. Quedarse en Rusia o en Europa era morir.",cities:["Paris"]},{name:"Vapor Wesser",text:"Así es que sale el barco vapor Wesser con 129 familias, el primer barco en zarpar a Argentina llevando judios para asentarse y formar una comunidad.  No es el viaje que lleva a los personajes de mi historia, pero explica mucho de lo que pasa después. Llega el barco después de cruzar todo el océano al puerto de buenos Aires, toda la población de los diferentes paises sale hacia su destino, pero los judíos quedan barados en el barco 3 días sin poder bajar porque los papeles con los que entraban que le habian comprado a Rafael Hernández figuraban como vendidos (la tipica), que supuestamente la demora del viaje y la comunicación y bueno. Pasan 5 días en el hotel de los inmigrantes varados. Pedro Palacios les ofreció unos terrenos en Santa Fé.",cities:["Polonia","Buenos Aires"]},{name:"Los galpones del tren",text:"Viajan en tren y parece que otra vez no había tal terreno y se quedan a vivir en los galpones vacíos de tren, ahí reciben la comida que habían arreglado, con gusanos, podrida y una carne de res. El rabino líder del grupo Haron Halevi Goldman carnea la res y la divide entre las personas como una especie de ritual. ",cities:["Santa Fe"]},{name:"El Cementetio de lxs niñxs y David Lender",text:"Sin comida, sin calor, sin ropa, vagabundos y pobres, van vendiendo o perdiendo todo lo que tienen y de a uno van enfermando niños y niñas y muriendo de Tifus, más de 60 niños, toda la descendencia de las familias. David Lender se hace cargo de la situación y de la desesperación de la gente y con los ferroviarios y un chacarero levantar la comunidad, hacen un fuego y arman un cementerio para las infancias caídas de esa tragedia que existe ahí en Santa Fé.",cities:["Santa Fe"]},{name:"Wilhelm Loewenthal",text:"Fue tanto el sufrimiento y el espanto que llega a oídos de un médico Wilhelm Loewenthal, que estaba a cargo de chequear la misión, mueve sus contactos para revertir la situación, se publica una nota en La Nación que cuenta solamente que quedan varados 3 días en el barco como un escándalo.",cities:["Santa Fe"]},{name:"Los terrenos",text:"Habla el medico Loewental con Pedro Palacios en Berlín y le otorgan un terreno.",cities:["Berlin"]}]},{year:"1890",events:[{name:"Crisis económica y Revolución del Parque",text:"Crisis financiera en Argentina y comienzo de la Revolución del Parque que dio origen a la Unión Cívica.",cities:["Argentina"]},{name:"Presidencia de Carlos Pellegrini",text:"Asume Carlos Pellegrini (1890-1892) con el partido Autonomista Nacional, estabilizando la economía tras la crisis.",persons:["Carlos Pellegrini"],cities:["Argentina"]},{name:"Mudanza de Miguel",text:"Miguel Sinay a los trece años empieza sus estudios en una escuela primaria religiosa  y por otro lado en su casa de Tanakh y Talmud con su padre, aunque seguramente entre las jornadas de las agrupaciones, la escritura en los periódicos y la biblioteca de su casa era una enseñanza de tiempo completo. Con ayuda de un amigo arma su primer periódico. Estaba en su sangre y su destino definitivamente, escribir. ",cities:["Zabludove"]},{name:"Von Hirsh",text:"Acá entra al juego un personaje central en esto, el Barón Von Hirsh, judío archi multimillonario, hijo de un banquero de la realeza heredero de su fortuna, con la reciente muerte de su único hijo, toda ese potencial decide destinarlo a salvar la causa judía Uno de los hombres más millonarios del planeta decidido a dejar todo... Lo real es que Loewenthal habla con el Von Hirsh y le cuenta de esta tragedia en Santa Fé. Se deciden a invertir en la aldea. Argentina sería la nueva tierra prometida, la nueva Israel. Ese era el gran plan. La otra opción era invertir en otros lugares de América como Estados Unidos y terrenos en Palestina que estaba activando esta nueva corriente. El Barón y el doctor hacen el pacto y sería el encargado de la misión.",cities:["Paris"]}]},{year:"1891",events:[{name:"El cartel.",text:"En la cuadra de la manzana de las Luces, a metros de la Casa Rosada, Loewenthal pone un cartel luminoso en su nueva sucursal llamada Colonizador Hirsh, en la calle perú a 359.",cities:["Buenos Aires"]},{name:"Establecimiento en Moisés Ville",text:"Se aprueba el proyecto de asentamiento judío, con compra de tierras firmada con Palacios. Se establecen en Moisés Ville, cultivando lino. El médico local enfrenta plagas y mala cosecha. Violencia: Ziml es asesinado por un gaucho por deudas, un almacenero es encontrado destripado, y seis personas huyen y son asesinadas en caminos cercanos.",cities:["Moisés Ville"],persons:["Ziml"]},{name:"Creación del Banco de la Nación Argentina",text:"Se crea el Banco de la Nación Argentina.",cities:["Argentina"]},{name:"Oleada de inmigrantes judíos en Buenos Aires",text:"Gran llegada de inmigrantes judíos con vestimentas exóticas y largas barbas, muchos de ellos agricultores tras haber sido comerciantes o industriales. Se instalan en barrios céntricos como Corrientes, Lavalle, Talcahuano, Cerrito y Libertad, viviendo en conventillos o piezas en condiciones precarias.",cities:["Buenos Aires"]},{name:"Gestiones para necrópolis judía en Chacarita",text:"Se realizan gestiones ante las autoridades municipales para asignar un terreno en Chacarita exclusivo para inhumaciones israelitas. El 14 de junio de 1892 se señala la manzana 6ta de la sección 14 destinada a este fin.",cities:["Buenos Aires"]}]},{year:"1892",events:[{name:"El crimen de Moises Ville",text:"En medio de la ruta una familia judía de campesinos en las que estaba David Lender, quien había rescatado toda la tragedia, pedían galletas o lo que sea muertos de hambre. Unos hombres a caballo gauchos llegan y sin entenderse en idioma hacen un arreglo que los judios no entienden y recién comida de esta gente. Resulta que habían vendido a sus hijas, jóvenes, exóticamente rubias para el lugar por la comida. El malentendido produjo una discusión que desencadenó en pelea y David Lender es asesinado por el gaucho que huye a caballo que resultó ser un policía. Cuando van a reclamar y llega la policía queda la versión del gaucho que era la que entendían y nada pasa.",cities:["Moisés Ville"]},{name:"Crimen y violencia en Argentina",text:"En enero se registra un crimen familiar y la prensa (diario La Unión) informa sin pausa sobre casos violentos. El 3 de mayo se promulga el Reglamento Temporal acerca de los judíos en Rusia, restringiendo severamente su residencia y derechos.",cities:["Argentina","Rusia"]},{name:"5 cambios de dirección de ICA en dos años.",text:"5 cambios de dirección de ICA en dos años.",cities:["Paris"]},{name:"Presidencia de Luis Sáenz Peña",text:"Asume Luis Sáenz Peña (1892-1895) por el partido Autonomista Nacional. El gobierno enfrenta conflictos internos y Sáenz Peña renuncia antes de finalizar su mandato.",persons:["Luis Sáenz Peña"],cities:["Argentina"]}]},{year:"1893",events:[{name:"El club de los 40 y 'Mujeres Libertadas'",text:"El club de los 40 congrega a 300 mujeres. La prensa las llama “mujeres libertadas” y la policía capitalina crea una “Galería de sospechosos”.",cities:["Buenos Aires"]},{name:"Pogrom",text:"La situación era muy mala para los judios en ese momento. Sucede un pogrom en Grodno y otro en las afueras. Consiste por las noches, obligado a apagar sus velas en sus casas y esperando a que los ruidos y el caos, humo y olor a incendio de las casas vecinas ardiendo. Al otro día al amanecer algunos saqueaban los restos de las propiedades que todavía servían para algo y para cuando los vecinos sobrevivientes se animaban a salir a la calle, se encontraban que los terrenos eran solo ceniza y sus víctimas masacradas completamente.",cities:["Grodno"]}]},{year:"1894",events:[{name:"Fundación de la AMIA",text:"Se funda la AMIA por inmigrantes judíos, que se convierte en la principal institución de la comunidad judía en Argentina.",cities:["Buenos Aires"]},{name:"Estudios y publicaciones de Zalman Reisen",text:'Zalman Reisen estudia en ieshivá y escuela municipal rusa en Grodno. Lee obras en yiddish, incluyendo la antología de Mortkhe Spektor "Der hoyz-fraynd". Publica con amigos varios números del folleto impreso en hebreo "Hanitsanim" (Los brotes).',persons:["Zalman Reisen"],cities:["Grodno"]}]},{year:"1891",events:[{name:"Fundación de YICO",text:"Se crea YICO, una organización clave en la comunidad judía.",persons:[],cities:[]},{name:"Expulsión de judíos de San Petersburgo",text:"Se produce la expulsión de los judíos de San Petersburgo en el marco de las políticas restrictivas del Imperio Ruso.",cities:["San Petersburgo"]}]},{year:"1892",events:[{name:"Tragedia en Moisés Ville",text:"Una familia judía de campesinos, entre ellos David Lender, intercambia a sus hijas por comida sin entender el trato con gauchos. El malentendido termina en pelea y el asesinato de David Lender por un policía que huye a caballo. La versión del policía es la que prevalece y no hay consecuencias.",cities:["Moisés Ville"]},{name:"Violencia constante",text:"El diario La Unión reporta que no pasa un solo día sin un asesinato en la región.",cities:["Moisés Ville"]},{name:"Inestabilidad institucional en la ICA",text:"En solo dos años, la ICA atraviesa cinco cambios de dirección.",cities:["Buenos Aires","París"]}]},{year:"1893",events:[{name:"Pogrom en Grodno",text:"Pogrom nocturno obliga a las familias judías a apagar sus velas y esperar en silencio. Al amanecer, saqueadores irrumpen en los hogares devastados. Las propiedades quedan reducidas a cenizas y muchas víctimas son masacradas.",cities:["Grodno"]}]},{year:"1894",events:[{name:"Visita de Herr Faiberg a Grodno",text:"En julio, Herr Faiberg, enviado de la JCA y del Barón Hirsch, visita Grodno tras los pogroms. Tras generar desconfianza por su apariencia de ciudad, el rabino local lo respalda. Faiberg visita las tumbas, viviendas arrasadas y huérfanos. Luego, propone en la sinagoga viajar a Argentina para fundar la colonia Kiriath Moshe (Moisés Ville), concebida como una nueva Jerusalén.",cities:["Grodno"]},{name:"Segundo viaje de Faiberg",text:"En noviembre, Faiberg regresa a Grodno.",cities:["Grodno"]},{name:"Partida de la familia Sinay",text:"El 11 de noviembre de 1894, Faiberg entrega un telegrama de Abraham Frumkin a Reuben HaKohen Sinay bendiciendo su viaje a Argentina. También entrega dos Sifrei Torá y un Aarón HaKodesh. Reuben viaja con su esposa Rebecca y sus seis hijos en el barco Corania, desde el puerto de Liepāja. Van a Moisés Ville como educadores, con Reuben como líder espiritual.",cities:["Grodno","Liepāja","Moisés Ville"]}]},{year:"1895",events:[{name:"Rebelión y represión en Villaguay",text:"En febrero de 1895, el padre de familia lidera una rebelión en Villaguay. Hay allanamientos en Lavalle 1236/1241 y disturbios en la Plaza del Teatro Colón. Se arresta a varias personas, incluyendo a Noé Trauman, Adolfo Dikenfaden y Salomón Goldstein. La policía los identifica en la galería de sospechosos.",cities:["Villaguay","Buenos Aires"]},{name:"Censo nacional",text:"El censo nacional de 1895 registra 753 judíos en Argentina.",cities:["Buenos Aires"]},{name:"Presidencia de José Evaristo Uriburu",text:"José Evaristo Uriburu (1895-1898), del partido Autonomista Nacional, asume la presidencia. Se caracteriza por una gobernabilidad pacífica tras la renuncia de Sáenz Peña y un crecimiento de la economía agroexportadora.",persons:["José Evaristo Uriburu"],cities:["Argentina"]}]},{year:"1896",events:[{name:"Cita de Teodoro Herzl sobre el sionismo",text:"El fundador del sionismo, Teodoro Herzl, escribió en su obra “La edificación del Estado Judío”: “La edificación del Estado Judío no puede hacerse por métodos arcaicos. Supongamos que queremos exterminar los animales salvajes de una región. Es evidente que no iremos con arco y flecha a seguir la pista de las fieras, como se hacía en el siglo XV. Organizaremos una gran cacería colectiva, bien preparada, y mataremos las fieras lanzando entre ellas bombas de alto poder explosivo.” (Walsh, cita de “El Estado Judío”).",cities:["Buenos Aires"]},{name:"Muerte del Barón Hirsch",text:"El Barón Hirsch muere en 1896. Deja fondos millonarios para colonias agrícolas judías en Argentina, América del Norte y, tras su muerte, también en Palestina. La Asociación de Colonización Judía administra el fideicomiso benéfico más grande del mundo.",cities:["París","Buenos Aires","Palestina"]},{name:"Reuben se convierte en profesor",text:"En 1896, Reuben Sinai se convierte en profesor en la primera escuela YIKO de Moisés Ville. Luego se muda con su familia a Buenos Aires.",cities:["Moisés Ville","Buenos Aires"]},{name:"Publicaciones en prensa internacional",text:"Reuben publica artículos sobre la vida en Moisés Ville en Hamelits (San Petersburgo) y en Di Yudishe Gazetten (Nueva York).",cities:["San Petersburgo","Nueva York"]},{name:"Debates sobre el Estado Judío",text:'Theodor Herzl publica "El Estado Judío". Se debate si fundarlo en Palestina o Argentina.',cities:["Viena","Palestina","Argentina"]},{name:"Trauman y el bastón de Varsovia",text:"Noé Trauman denuncia el robo de su bastón de Varsovia.",cities:["Buenos Aires"]}]}],AC={title:MC,duration:EC,years:bC},TC="Indeseables",wC="1898 - 1931",CC=[{year:"1897",events:[{name:"Misión de recaudación en Buenos Aires",text:"Juran ante un rollo de la Torá y el rabino es enviado a Buenos Aires a buscar fondos y vuelve. Compañeros designados Nute Gruer y Abraham Braumnsetein. Mandato en hebreo firmado por los colonos certifica la misión.",cities:["Buenos Aires"]},{name:"Viaje a París",text:"Parten a París de madrugada, recién terminado el Pesaj, ni amanecía.",cities:["París"]},{name:"Rechazo en la JCA en París",text:"El director general de la JCA en París, Sigismund Sonnenfled, recibe a los tres delegados gracias a su primo Judah Lubetzky, rabino de los rusos en París (primo lejano de Sinay). Les dice que no. La Sociedad de Beneficencia ayuda a volver a Nute y Abraham.",cities:["París"]},{name:"Ola de desalojos en San Cristóbal",text:"Cohan llama a la policía de San Cristóbal y provoca ola de desalojos. ‘Planeaban robar la caja’ y fueron arrestados y torturados.",cities:["San Cristóbal","Buenos Aires"]},{name:"Escándalos en la prensa",text:"La prensa y La Nación publican escándalos relacionados con los desalojos y arrestos.",cities:["Buenos Aires"]}]},{year:"1898",events:[{name:"Fundación de Der Viderkol",text:"Mihl llega a Buenos Aires cansado, sin dinero y triste. El 8 de marzo de 1898 (14 de Adar) aparece el primer número de Der Viderkol (El Eco). Se vuelve un éxito y Mihl famoso. Vermont se convierte en asesor de Mihl.",cities:["Buenos Aires"]},{name:"Borok y la impresión en Buenos Aires",text:"Borok, millonario fabricante de goma para policías, invita a Mihl a su casa, le muestra periódicos internacionales y le financia la primera caja de letras en idish para imprimir en Buenos Aires.",cities:["Buenos Aires"]},{name:"Rechazo sionista y conflictos en Palestina",text:"Herzl prepara un informe sobre Palestina sin mencionar a los árabes, afirmando que es 'una tierra sin pueblo para un pueblo sin tierra'. Máx Nordau advierte que hay árabes en Palestina.",cities:["Palestina","Budapest"]}]},{year:"1899",events:[{name:"Publicación de Di Folks Shtime",text:"Vermont y Einstein publican Di Folks Shtime (La Voz del Pueblo). En julio, un artículo largo sobre Rosa Manguel, joven de Galitzia engañada y escapada. Vermont recibe amenazas de José Gothieb.",cities:["Buenos Aires"]}]},{year:"1900",events:[{name:"Der Kolonist",text:"Sinai publica cuatro números del semanario Der Kolonist (El Colono), aunque el cuarto no salió a la venta por su enfermedad.",cities:["Buenos Aires"]}]},{year:"1901",events:[{name:"León y Ana Niejmad",text:"León y Ana Niejmad en la comunidad judía.",cities:[]}]},{year:"1903",events:[{name:"Nacimiento de Samuel",text:"Nace Samuel (¿Abraham?) hijo de León Sinay y Anita.",cities:[]}]},{year:"1904",events:[{name:"Presidencia de Manuel Quintana",text:"Manuel Quintana asume la presidencia (1904-1906). Se producen protestas obreras y primeras huelgas generales. Su salud se deteriora y delega el mando.",cities:["Argentina"]}]},{year:"1905",events:[{name:"Nacimiento de Rosita y Antonio Berni",text:"Nace Rosita. Antonio Berni también nace este año. Atentado en Galitzia con bomba a 10 oficiales, se registra una revolución en Odesa y Pine Katz licencia militar.",cities:["Galitzia","Odesa"]}]},{year:"1906",events:[{name:"Sociedad Varsovia y llegada de Pine Katz",text:"Asume Alcorta. Pine Katz llega en el barco Campana a Buenos Aires. Se forma la Sociedad Israelita de Socorros Mutuos Varsovia de Barracas al Sud y Buenos Aires. Votan 21 miembros a Noé Trauman. Se disputan el control de las sociedades los rufianes polacos y los rusos-rumanos, estos últimos controlan burdeles en San Fernando.",cities:["Buenos Aires","Barracas al Sud","San Fernando"]},{name:"Nacimiento de Ángel Borlenghi",text:"Nace Ángel Gabriel Borlenghi en Buenos Aires, hijo de Pilade Borlenghi y Rosario Massaldi.",cities:["Buenos Aires"]}]},{year:"1907",events:[{name:"Relación entre sociedades judías",text:"Además de la Sociedad Varsovia, existía la Sociedad Israelita de Socorros Mutuos Askenazi. Trabajaban en conjunto, compartiendo cementerio en Avellaneda desde 1907. La inmigración continuó pese a prohibiciones oficiales.",cities:["Buenos Aires","Avellaneda"]}]},{year:"1909",events:[{name:"Censo judío en Argentina y negocio de prostíbulos",text:"Censo interno judío registra 30,000 judíos en Argentina. Buenos Aires era reconocido en Europa por su negocio de prostíbulos, 199 en total, 102 judíos. Juan Ruggerio actúa como matón y guardaespaldas.",cities:["Buenos Aires"]}]},{year:"1910",events:[{name:"Presidencia de Roque Sáenz Peña",text:"Roque Sáenz Peña asume (1910-1914). Se sanciona la Ley Sáenz Peña (1912) que instauró el voto secreto, obligatorio y masculino, fomentando la participación política popular.",cities:["Argentina"]},{name:"Censo de prostíbulos",text:"Había 42 casas de prostíbulos en Buenos Aires, 39 pertenecían a judíos rusos.",cities:["Buenos Aires"]}]},{year:"1911",events:[{name:"Publicación de Dos Peyekh-Blat",text:"Junto con Hillel Davidovitsh, publica la obra Dos Peyekh-Blat (Hoja de Pascua).",cities:["Buenos Aires"]}]},{year:"1913",events:[{name:"Publicación de Foterland",text:"Edita el periódico Foterland (Patria), del que sólo se publicó un número.",cities:["Buenos Aires"]}]},{year:"1914",events:[{name:"Presidencia de Victorino de la Plaza y Primera Guerra Mundial",text:"Victorino de la Plaza asume (1914-1916). Argentina mantiene neutralidad durante la Primera Guerra Mundial. Se funda Di Yiddish Zeitung, que se unirá a Pine Katz.",cities:["Argentina"]},{name:"Censo en Palestina",text:"Turcos hacen censo en Palestina: 690,000 habitantes, 60,000 judíos. La guerra mundial da al sionismo su gran oportunidad.",cities:["Palestina"]}]},{year:"1915",events:[{name:"Cierre de casas de tolerancia",text:"Cierran casas de tolerancia y cambian horarios de 16hs a 3hs. Vermont critica la violencia entre hermanos judíos en sus columnas.",cities:["Buenos Aires"]}]},{year:"1916",events:[{name:"Presidencia de Hipólito Yrigoyen",text:"Hipólito Yrigoyen asume (1916-1922), primer presidente elegido con voto secreto y universal masculino. Comienza reformas sociales.",cities:["Argentina"]}]},{year:"1917",events:[{name:"Decaimiento y muerte de Mordejai Sinay",text:"Sinay enferma, su hijo Samuel se vuelve su asistente. Mordejai fallece el 20 de marzo de 1918. Se enterró en el cementerio israelita de La Tablada.",cities:["Buenos Aires"]}]},{year:"1918",events:[{name:"Cementerio israelita La Tablada",text:"Mordejai Sinay es enterrado en el cementerio israelita de La Tablada.",cities:["Buenos Aires"]}]},{year:"1920",events:[{name:"Rechazo de la comunidad judía a Zwi Migdal",text:"La organización Zwi Migdal intentó ganar aceptación mediante donaciones para sinagogas y financiamiento del culto. Cuando se reveló el origen ilícito del dinero, la comunidad judía inició una campaña contra ellos, impidiendo su ingreso a sinagogas, teatros y negándoles sepultura en cementerios judíos. El rabino Reuben Hacohen Sinai expresó: 'Prefiero yacer entre gentiles honorables que entre nuestros tmeim (impuros)'.",cities:["Buenos Aires"]}]},{year:"1921",events:[{name:"Fundación de cementerio y sinagogas propias por proxenetas",text:"Los proxenetas expulsados de la comunidad judía crearon sus propias sinagogas, teatros y fundaron un cementerio en Avellaneda. El terreno fue gestionado por Salomón Klein y bendecido por el rabino Reuben Hacohen Sinay, quien viajó desde Buenos Aires para la inauguración. Klein administró el cementerio estableciendo fosas para rufianes 'puros' y 'impuros'. La sociedad rusa Asquenasum se institucionalizó ese año.",cities:["Avellaneda","Buenos Aires"]}]},{year:"1922",events:[{name:"Asunción de Marcelo T. de Alvear y contexto internacional",text:"Marcelo T. de Alvear asume la presidencia de Argentina, con consolidación económica y creación de YPF. En Palestina, la población alcanzaba 760,000 habitantes, de los cuales 11% eran judíos.",cities:["Buenos Aires","Palestina"]}]},{year:"1924",events:[{name:"Publicaciones y compras de propiedades",text:"Se publica el décimo aniversario de 'Di idishe tsaytung' (periódico judío) en Buenos Aires. Wolf Brown, José Leib, Zytnisky, Wolf Sinhge, Simón Brut, Salomón Ghost, Max Wa y otros compran la propiedad en Mitre 400, Avellaneda.",cities:["Buenos Aires","Avellaneda"]}]},{year:"1925",events:[{name:"Nacimiento de Lidia y YIVO",text:"Nace Lidia y se pierde un documento importante relacionado con YIVO (Instituto de Investigación Judía).",cities:[]}]},{year:"1926",events:[{name:"Rescate de Perla Pezelorska",text:"Perla Pezelorska logró enviar un mensaje de auxilio en ídish desde un burdel en el barrio de Once y fue rescatada. La Sociedad Varsovia compró la propiedad en Mitre 400, Avellaneda, para actividades sociales y ostentación.",cities:["Buenos Aires","Avellaneda"]}]},{year:"1927",events:[{name:"Dominio polaco en trata de blancas",text:"La trata de blancas en Buenos Aires estaba dominada por polacos, quienes mantenían múltiples mujeres bajo una disciplina servil aceptada socialmente.",cities:["Buenos Aires"]}]},{year:"1928",events:[{name:"Fundación del archivo y presidencia de Yrigoyen",text:"Se funda un archivo y se registra el capítulo argentino de IWO. Hipólito Yrigoyen asume la presidencia, representando a la Unión Cívica Radical.",cities:["Buenos Aires"]}]},{year:"1929",events:[{name:"Cambio de nombre de organización y primeras acciones contra narcotráfico",text:"La organización Varsovia cambió su nombre a Zwi Migdal tras quejas de la embajada de Polonia. Se registra la captura de un traficante de cocaína, Juan Martín, en Buenos Aires. Se produce la crisis económica mundial por la Gran Depresión y un golpe de Estado en Argentina.",cities:["Buenos Aires"]}]},{year:"1930",events:[{name:"Golpe de Estado de Uriburu y persecución a Zwi Migdal",text:"José Félix Uriburu derrocó a Yrigoyen en un golpe de Estado que inició la Década Infame, con políticas autoritarias. Uriburu expulsó a los 'cafishios' judíos, que fundaron la mutual Varsovia para disimular su actividad. En Rosario se allanó la sede de Zwi Migdal; muchos rufianes escaparon. Se procesaron 108 socios en septiembre, aunque luego fueron liberados. Se detuvo a personajes vinculados a mafias, incluyendo a Simón Rubinstein. La colectividad seguía prohibiendo el ingreso y sepultura a proxenetas en cementerios e instituciones judías.",cities:["Buenos Aires","Rosario"]}]}],RC={title:TC,duration:wC,years:CC};var Sy={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cg=bi.createContext&&bi.createContext(Sy),PC=["attr","size","title"];function LC(t,e){if(t==null)return{};var n=DC(t,e),i,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function DC(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function ec(){return ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ec.apply(this,arguments)}function ug(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function tc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ug(Object(n),!0).forEach(function(i){IC(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ug(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function IC(t,e,n){return e=NC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NC(t){var e=UC(t,"string");return typeof e=="symbol"?e:e+""}function UC(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function My(t){return t&&t.map((e,n)=>bi.createElement(e.tag,tc({key:n},e.attr),My(e.child)))}function nn(t){return e=>bi.createElement(zC,ec({attr:tc({},t.attr)},e),My(t.child))}function zC(t){var e=n=>{var{attr:i,size:a,title:r}=t,o=LC(t,PC),s=a||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),bi.createElement("svg",ec({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:l,style:tc(tc({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),r&&bi.createElement("title",null,r),t.children)};return cg!==void 0?bi.createElement(cg.Consumer,null,n=>e(n)):e(Sy)}function FC(t){return nn({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M198.91,128l30.3-53A6,6,0,0,0,224,66H163.49L133.21,13a6,6,0,0,0-10.42,0L92.5,66H32a6,6,0,0,0-5.21,9l30.28,53L26.79,181A6,6,0,0,0,32,190H92.5l30.29,53a6,6,0,0,0,10.42,0l30.28-53H224a6,6,0,0,0,5.21-9Zm14.75-50L192,115.91,170.34,78Zm-28.57,50-28.56,50-57.07,0L70.9,128,99.46,78l57.07,0ZM128,28.09,149.67,66H106.32ZM42.34,78h43.3L64,115.91Zm0,99.92L64,140.09,85.64,178ZM128,227.91,106.32,190h43.35ZM170.34,178,192,140.09,213.66,178Z"},child:[]}]})(t)}function OC(t){return nn({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"},child:[]}]})(t)}function BC(t){return nn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M13 6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V9H7C6.44772 9 6 9.44772 6 10C6 10.5523 6.44772 11 7 11H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V11H17C17.5523 11 18 10.5523 18 10C18 9.44772 17.5523 9 17 9H13V6Z",fill:"currentColor"},child:[]}]})(t)}function kC({size:t=62}){const e="#000000";return ee.jsxs("div",{style:{position:"relative",width:t,height:t*1.5,margin:"auto",textAlign:"center"},"aria-label":"Logo con luna islámica, estrella de David y cruz de Jesús",children:[ee.jsx(OC,{size:t*.6,color:e,style:{marginBottom:-t*.15},"aria-label":"Luna islámica"}),ee.jsxs("div",{style:{position:"relative",width:t,height:t,marginTop:t*.1,display:"inline-block"},children:[ee.jsx(FC,{size:t,color:e,"aria-label":"Estrella de David"}),ee.jsx(BC,{size:t*1.5,color:e,style:{position:"absolute",top:"46%",left:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},"aria-label":"Cruz de Jesús"})]})]})}function HC(t){return nn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.5 504C117.2 504 9 387.8 13.2 249.9 16 170.7 56.4 97.7 129.7 49.5c.3 0 1.9-.6 1.1.8-5.8 5.5-111.3 129.8-14.1 226.4 49.8 49.5 90 2.5 90 2.5 38.5-50.1-.6-125.9-.6-125.9-10-24.9-45.7-40.1-45.7-40.1l28.8-31.8c24.4 10.5 43.2 38.7 43.2 38.7.8-29.6-21.9-61.4-21.9-61.4L255.1 8l44.3 50.1c-20.5 28.8-21.9 62.6-21.9 62.6 13.8-23 43.5-39.3 43.5-39.3l28.5 31.8c-27.4 8.9-45.4 39.9-45.4 39.9-15.8 28.5-27.1 89.4.6 127.3 32.4 44.6 87.7-2.8 87.7-2.8 102.7-91.9-10.5-225-10.5-225-6.1-5.5.8-2.8.8-2.8 50.1 36.5 114.6 84.4 116.2 204.8C500.9 400.2 399 504 256.5 504z"},child:[]}]})(t)}function VC(t){return nn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M272 136c8.8 0 16-7.2 16-16s-7.2-16-16-16-16 7.2-16 16 7.2 16 16 16zm176 222.4V25.6c0-16-9.6-25.6-25.6-25.6H96C41.6 0 0 41.6 0 96v320c0 54.4 41.6 96 96 96h326.4c12.8 0 25.6-9.6 25.6-25.6v-16c0-6.4-3.2-12.8-9.6-19.2-3.2-16-3.2-60.8 0-73.6 6.4-3.2 9.6-9.6 9.6-19.2zM240 56c44.2 0 80 28.7 80 64 0 20.9-12.7 39.2-32 50.9V184c0 8.8-7.2 16-16 16h-64c-8.8 0-16-7.2-16-16v-13.1c-19.3-11.7-32-30-32-50.9 0-35.3 35.8-64 80-64zM124.8 223.3l6.3-14.7c1.7-4.1 6.4-5.9 10.5-4.2l98.3 42.1 98.4-42.1c4.1-1.7 8.8.1 10.5 4.2l6.3 14.7c1.7 4.1-.1 8.8-4.2 10.5L280.6 264l70.3 30.1c4.1 1.7 5.9 6.4 4.2 10.5l-6.3 14.7c-1.7 4.1-6.4 5.9-10.5 4.2L240 281.4l-98.3 42.2c-4.1 1.7-8.8-.1-10.5-4.2l-6.3-14.7c-1.7-4.1.1-8.8 4.2-10.5l70.4-30.1-70.5-30.3c-4.1-1.7-5.9-6.4-4.2-10.5zm256 224.7H96c-19.2 0-32-12.8-32-32s16-32 32-32h284.8zM208 136c8.8 0 16-7.2 16-16s-7.2-16-16-16-16 7.2-16 16 7.2 16 16 16z"},child:[]}]})(t)}function jC(t){return nn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 448H48a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h352a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm16-288H256v-48h40a8 8 0 0 0 8-8V56a8 8 0 0 0-8-8h-40V8a8 8 0 0 0-8-8h-48a8 8 0 0 0-8 8v40h-40a8 8 0 0 0-8 8v48a8 8 0 0 0 8 8h40v48H32a32 32 0 0 0-30.52 41.54L74.56 416h298.88l73.08-214.46A32 32 0 0 0 416 160z"},child:[]}]})(t)}function GC(t){return nn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(t)}function WC(t){return nn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function dg(t){return nn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(t)}function qC(t){return nn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.92 462.7l-288-448C341.03 5.54 330.89 0 320 0s-21.03 5.54-26.92 14.7l-288 448a32.001 32.001 0 0 0-1.17 32.64A32.004 32.004 0 0 0 32 512h576c11.71 0 22.48-6.39 28.09-16.67a31.983 31.983 0 0 0-1.17-32.63zM320 91.18L405.39 224H320l-64 64-38.06-38.06L320 91.18z"},child:[]}]})(t)}function XC(t){return nn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 224c-79.41 0-192 122.76-192 200.25 0 34.9 26.81 55.75 71.74 55.75 48.84 0 81.09-25.08 120.26-25.08 39.51 0 71.85 25.08 120.26 25.08 44.93 0 71.74-20.85 71.74-55.75C448 346.76 335.41 224 256 224zm-147.28-12.61c-10.4-34.65-42.44-57.09-71.56-50.13-29.12 6.96-44.29 40.69-33.89 75.34 10.4 34.65 42.44 57.09 71.56 50.13 29.12-6.96 44.29-40.69 33.89-75.34zm84.72-20.78c30.94-8.14 46.42-49.94 34.58-93.36s-46.52-72.01-77.46-63.87-46.42 49.94-34.58 93.36c11.84 43.42 46.53 72.02 77.46 63.87zm281.39-29.34c-29.12-6.96-61.15 15.48-71.56 50.13-10.4 34.65 4.77 68.38 33.89 75.34 29.12 6.96 61.15-15.48 71.56-50.13 10.4-34.65-4.77-68.38-33.89-75.34zm-156.27 29.34c30.94 8.14 65.62-20.45 77.46-63.87 11.84-43.42-3.64-85.21-34.58-93.36s-65.62 20.45-77.46 63.87c-11.84 43.42 3.64 85.22 34.58 93.36z"},child:[]}]})(t)}function KC(t){return nn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M184.561 261.903c3.232 13.997-12.123 24.635-24.068 17.168l-40.736-25.455-50.867 81.402C55.606 356.273 70.96 384 96.012 384H148c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12H96.115c-75.334 0-121.302-83.048-81.408-146.88l50.822-81.388-40.725-25.448c-12.081-7.547-8.966-25.961 4.879-29.158l110.237-25.45c8.611-1.988 17.201 3.381 19.189 11.99l25.452 110.237zm98.561-182.915l41.289 66.076-40.74 25.457c-12.051 7.528-9 25.953 4.879 29.158l110.237 25.45c8.672 1.999 17.215-3.438 19.189-11.99l25.45-110.237c3.197-13.844-11.99-24.719-24.068-17.168l-40.687 25.424-41.263-66.082c-37.521-60.033-125.209-60.171-162.816 0l-17.963 28.766c-3.51 5.62-1.8 13.021 3.82 16.533l33.919 21.195c5.62 3.512 13.024 1.803 16.536-3.817l17.961-28.743c12.712-20.341 41.973-19.676 54.257-.022zM497.288 301.12l-27.515-44.065c-3.511-5.623-10.916-7.334-16.538-3.821l-33.861 21.159c-5.62 3.512-7.33 10.915-3.818 16.536l27.564 44.112c13.257 21.211-2.057 48.96-27.136 48.96H320V336.02c0-14.213-17.242-21.383-27.313-11.313l-80 79.981c-6.249 6.248-6.249 16.379 0 22.627l80 79.989C302.689 517.308 320 510.3 320 495.989V448h95.88c75.274 0 121.335-82.997 81.408-146.88z"},child:[]}]})(t)}function JC(t){return nn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M48 0C21.53 0 0 21.53 0 48v64c0 8.84 7.16 16 16 16h80V48C96 21.53 74.47 0 48 0zm208 412.57V352h288V96c0-52.94-43.06-96-96-96H111.59C121.74 13.41 128 29.92 128 48v368c0 38.87 34.65 69.65 74.75 63.12C234.22 474 256 444.46 256 412.57zM288 384v32c0 52.93-43.06 96-96 96h336c61.86 0 112-50.14 112-112 0-8.84-7.16-16-16-16H288z"},child:[]}]})(t)}function YC(t){return nn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M439.15 453.06L297.17 384l141.99-69.06c7.9-3.95 11.11-13.56 7.15-21.46L432 264.85c-3.95-7.9-13.56-11.11-21.47-7.16L224 348.41 37.47 257.69c-7.9-3.95-17.51-.75-21.47 7.16L1.69 293.48c-3.95 7.9-.75 17.51 7.15 21.46L150.83 384 8.85 453.06c-7.9 3.95-11.11 13.56-7.15 21.47l14.31 28.63c3.95 7.9 13.56 11.11 21.47 7.15L224 419.59l186.53 90.72c7.9 3.95 17.51.75 21.47-7.15l14.31-28.63c3.95-7.91.74-17.52-7.16-21.47zM150 237.28l-5.48 25.87c-2.67 12.62 5.42 24.85 16.45 24.85h126.08c11.03 0 19.12-12.23 16.45-24.85l-5.5-25.87c41.78-22.41 70-62.75 70-109.28C368 57.31 303.53 0 224 0S80 57.31 80 128c0 46.53 28.22 86.87 70 109.28zM280 112c17.65 0 32 14.35 32 32s-14.35 32-32 32-32-14.35-32-32 14.35-32 32-32zm-112 0c17.65 0 32 14.35 32 32s-14.35 32-32 32-32-14.35-32-32 14.35-32 32-32z"},child:[]}]})(t)}function fg(t){return nn({tag:"svg",attr:{viewBox:"0 0 464 512"},child:[{tag:"path",attr:{d:"M405.68 256l53.21-89.39C473.3 142.4 455.48 112 426.88 112H319.96l-55.95-93.98C256.86 6.01 244.43 0 232 0s-24.86 6.01-32.01 18.02L144.04 112H37.11c-28.6 0-46.42 30.4-32.01 54.61L58.32 256 5.1 345.39C-9.31 369.6 8.51 400 37.11 400h106.93l55.95 93.98C207.14 505.99 219.57 512 232 512s24.86-6.01 32.01-18.02L319.96 400h106.93c28.6 0 46.42-30.4 32.01-54.61L405.68 256zm-12.78-88l-19.8 33.26L353.3 168h39.6zm-52.39 88l-52.39 88H175.88l-52.39-88 52.38-88h112.25l52.39 88zM232 73.72L254.79 112h-45.57L232 73.72zM71.1 168h39.6l-19.8 33.26L71.1 168zm0 176l19.8-33.26L110.7 344H71.1zM232 438.28L209.21 400h45.57L232 438.28zM353.29 344l19.8-33.26L392.9 344h-39.61z"},child:[]}]})(t)}function $C(t){return nn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 336c-48.6 0-88 39.4-88 88s39.4 88 88 88 88-39.4 88-88-39.4-88-88-88zm0 112c-13.23 0-24-10.77-24-24s10.77-24 24-24 24 10.77 24 24-10.77 24-24 24zm80-288h-64v-40.2c0-14.12 4.7-27.76 13.15-38.84 4.42-5.8 3.55-14.06-1.32-19.49L534.2 37.3c-6.66-7.45-18.32-6.92-24.7.78C490.58 60.9 480 89.81 480 119.8V160H377.67L321.58 29.14A47.914 47.914 0 0 0 277.45 0H144c-26.47 0-48 21.53-48 48v146.52c-8.63-6.73-20.96-6.46-28.89 1.47L36 227.1c-8.59 8.59-8.59 22.52 0 31.11l5.06 5.06c-4.99 9.26-8.96 18.82-11.91 28.72H22c-12.15 0-22 9.85-22 22v44c0 12.15 9.85 22 22 22h7.14c2.96 9.91 6.92 19.46 11.91 28.73l-5.06 5.06c-8.59 8.59-8.59 22.52 0 31.11L67.1 476c8.59 8.59 22.52 8.59 31.11 0l5.06-5.06c9.26 4.99 18.82 8.96 28.72 11.91V490c0 12.15 9.85 22 22 22h44c12.15 0 22-9.85 22-22v-7.14c9.9-2.95 19.46-6.92 28.72-11.91l5.06 5.06c8.59 8.59 22.52 8.59 31.11 0l31.11-31.11c8.59-8.59 8.59-22.52 0-31.11l-5.06-5.06c4.99-9.26 8.96-18.82 11.91-28.72H330c12.15 0 22-9.85 22-22v-6h80.54c21.91-28.99 56.32-48 95.46-48 18.64 0 36.07 4.61 51.8 12.2l50.82-50.82c6-6 9.37-14.14 9.37-22.63V192c.01-17.67-14.32-32-31.99-32zM176 416c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm22-256h-38V64h106.89l41.15 96H198z"},child:[]}]})(t)}const ZC="_container_1faz9_2",QC="_titleSection_1faz9_13",eR="_SecondSection_1faz9_30",tR="_bounceDown_1faz9_1",nR="_hidden_1faz9_104",iR="_sidebarNav_1faz9_110",aR="_navButton_1faz9_120",rR="_yearFixedLabel_1faz9_153",oR="_chapter_1faz9_168",sR="_chapterTitle_1faz9_172",lR="_chapterDuration_1faz9_178",cR="_yearSection_1faz9_185",uR="_yearSectionActive_1faz9_191",dR="_yearTitle_1faz9_195",fR="_eventsList_1faz9_202",hR="_eventsListActive_1faz9_209",pR="_eventItem_1faz9_215",mR="_eventItemActive_1faz9_224",gR="_eventBullet_1faz9_231",vR="_eventBulletActive_1faz9_243",yR="_eventContentStrong_1faz9_248",_R="_eventContentCities_1faz9_253",xR="_eventContentText_1faz9_260",SR="_timelineLine_1faz9_267",MR="_three_1faz9_279",ER="_title_1faz9_13",bR="_bounce_1faz9_1",Ct={container:ZC,titleSection:QC,SecondSection:eR,bounceDown:tR,hidden:nR,sidebarNav:iR,navButton:aR,yearFixedLabel:rR,chapter:oR,chapterTitle:sR,chapterDuration:lR,yearSection:cR,yearSectionActive:uR,yearTitle:dR,eventsList:fR,eventsListActive:hR,eventItem:pR,eventItemActive:mR,eventBullet:gR,eventBulletActive:vR,eventContentStrong:yR,eventContentCities:_R,eventContentText:xR,timelineLine:SR,three:MR,title:ER,bounce:bR},AR=()=>{var m;const t=Z.useRef([]),[e,n]=Z.useState(null),i=[SC,A2,R2,I2,F2,H2,J2,W2,iC,Q2,AC,RC,vC,hC,cC],a=[ee.jsx(fg,{}),ee.jsx(fg,{}),ee.jsx(GC,{}),ee.jsx(HC,{}),ee.jsx(WC,{}),ee.jsx(jC,{}),ee.jsx(JC,{}),ee.jsx(VC,{}),ee.jsx(qC,{}),ee.jsx(dg,{}),ee.jsx(dg,{}),ee.jsx(XC,{}),ee.jsx($C,{}),ee.jsx(KC,{}),ee.jsx(YC,{})],r=Z.useRef([]),o=d=>{const g=r.current[d];g&&g.scrollIntoView({behavior:"smooth",block:"start"})},s=d=>{const g=new SpeechSynthesisUtterance(d);g.lang="es-AR",speechSynthesis.speak(g)},[l,c]=Z.useState(!0);Z.useEffect(()=>{const d=()=>{c(window.scrollY<50)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]);const u=()=>{const d=document.getElementById("timeline-section");d&&d.scrollIntoView({behavior:"smooth"})},f={};aC.forEach(({year:d,male:g,female:v})=>{f[d]={male:g,female:v}});const h=d=>{const g=Object.keys(f).sort();let v=null;for(let M=0;M<g.length&&g[M]<=d;M++)v=g[M];return v?f[v]:{male:"Desconocido",female:"Desconocida"}},p=i.flatMap(d=>d.years.flatMap(g=>g.events.map(v=>({...v,year:g.year,chapterTitle:d.title}))));Z.useEffect(()=>{const d=()=>{const g=t.current.map(w=>w?Math.abs(w.getBoundingClientRect().top-window.innerHeight/2):1/0),v=Math.min(...g),M=g.indexOf(v);if(p[M]){const w=h(p[M].year);n({year:p[M].year,text:p[M].text,hakohenProtagonist:w.male,hakohenProtagonistFemale:w.female})}};return window.addEventListener("scroll",d,{passive:!0}),d(),()=>window.removeEventListener("scroll",d)},[p,h]);let y=0;const _=(m=i.flatMap(d=>d.years).find(d=>d.year===(e==null?void 0:e.year)))==null?void 0:m.backgroundUrl;return ee.jsxs("section",{children:[ee.jsxs("section",{className:Ct.titleSection,style:{display:l?"flex":"none"},onClick:u,role:"button",tabIndex:0,onKeyDown:d=>{d.key==="Enter"&&u()},children:[ee.jsx(kC,{}),ee.jsx("h1",{children:"TECNOBIBLIA"}),ee.jsx("h2",{children:"CREO QUE LAS BIBLIAS HABLAN SOBRE MÍ"}),ee.jsx("h3",{children:"Siempre tuve la intuición que tenía que indagar en la historia del apellido Sinay, hasta me obsesioné. Mi chosno materno, Mordejai Reuben HaKoen Sinay, de un linaje santo judío, fue uno de los primeros rabinos en llegar a la Argentina, pero nunca sospeché que iba a encontrarme con este thriller profético policial y con una carga y un dolor tan difíciles de procesar."}),ee.jsx("h4",{children:"Lidiador Sinay"})]}),ee.jsxs("section",{className:Ct.SecondSection,children:[ee.jsx("h3",{children:"LA PALABRA"}),ee.jsx("h4",{children:"#Hakohen #TrataDePersonas #León #Sionismo #AMIA #IdishColonizationAsossiation #LaVarsovia #ZwiMigdal #Inteligencia #Jueces #Policía #MapaDelPoderEconomico #Argentina #MoisesVille #Rosario #Dinastia #Astrología #ÁrbolGenealógico #ConstelaciónFamiliar #Reiki #Talmud #Piratas"})]}),ee.jsx("div",{className:Ct.sidebarNav,children:i.map((d,g)=>ee.jsx("button",{onClick:()=>o(g),className:Ct.navButton,title:i[g].title,children:a[g]},g))}),ee.jsxs("section",{className:Ct.container,style:{backgroundImage:_?`url(${_})`:void 0,backgroundSize:"contain",backgroundRepeat:"repeat",backgroundPosition:"center",transition:"background-image 0.5s ease-in-out"},children:[e&&ee.jsx("div",{className:Ct.yearFixedLabel,children:e.year}),i.map((d,g)=>ee.jsxs("div",{ref:v=>r.current[g]=v,className:Ct.chapter,children:[ee.jsxs("h2",{className:Ct.chapterTitle,children:[d.title," ",ee.jsxs("span",{className:Ct.chapterDuration,children:["(",d.duration,")"]})]}),d.years.map((v,M)=>{const w=(e==null?void 0:e.year)===v.year;return ee.jsxs("div",{className:`${Ct.yearSection} ${w?Ct.yearSectionActive:""}`,children:[ee.jsx("h3",{className:Ct.yearTitle,children:v.year}),ee.jsx("ul",{className:`${Ct.eventsList} ${w?Ct.eventsListActive:""}`,children:v.events.map((T,x)=>{const P=e&&e.year===v.year&&e.text===T.text,b=y++;return ee.jsx("li",{ref:S=>t.current[b]=S,className:`${Ct.eventItem} ${P?Ct.eventItemActive:""}`,children:ee.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[ee.jsx("span",{className:`${Ct.eventBullet} ${P?Ct.eventBulletActive:""}`}),ee.jsxs("div",{children:[ee.jsx("strong",{className:Ct.eventContentStrong,children:T.name}),ee.jsx("div",{className:Ct.eventContentCities,children:Array.isArray(T.cities)?T.cities.join(", "):""}),ee.jsx("p",{className:Ct.eventContentText,children:T.text}),ee.jsx("button",{onClick:()=>s(T.text),children:"🔊 Escuchar"})]})]})},x)})})]},M)})]},g)),ee.jsx("div",{className:Ct.timelineLine})]}),e&&ee.jsx(rC,{year:e.year,male:e.hakohenProtagonist,female:e.hakohenProtagonistFemale})]})};function TR(){return ee.jsx(ee.Fragment,{children:ee.jsx("section",{children:ee.jsx(dS,{})})})}const wR=_S([{path:"/",element:ee.jsx(TR,{}),children:[{path:"/",element:ee.jsx(WS,{})},{path:"/crear",element:ee.jsx(Bu,{})},{path:"/conoceme",element:ee.jsx(Bu,{})},{path:"/creemos",element:ee.jsx(Bu,{})},{path:"/tecnobiblia",element:ee.jsx(AR,{})}]}]);ku.createRoot(document.getElementById("root")).render(ee.jsx(bi.StrictMode,{children:ee.jsx(CS,{router:wR})}));
